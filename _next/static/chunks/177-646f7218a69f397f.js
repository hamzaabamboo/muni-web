"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{6441:function(e,n,r){r.d(n,{k:function(){return c}});var t=r(2086),l=r(2226),o=r(8510),i=r(2282),a=r(3236),u=r(9320),s=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],c=function(){var e=(0,a.useContext)(u.O),n=e.interval,r=e.setInterval;return(0,t.jsxs)(l.k,{flexDir:"column",children:[(0,t.jsx)(o.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,t.jsxs)(l.k,{flexDir:"row",alignItems:"center",children:[(0,t.jsx)(o.x,{mr:2,children:"Interval"}),(0,t.jsx)(i.P,{value:n,onChange:function(e){return r(Number(e.target.value))},children:s.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},9323:function(e,n,r){r.d(n,{M:function(){return b}});var t=r(2086),l=r(8365),o=r(2226),i=r(9104),a=r(6525),u=r(8683),s=r(3041),c=r(6825),d=r(652),f=r(3236),h=r(8605),x=r(7576),m=r(7815);function v(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){v(e,n,r[n])}))}return e}var b=function(e){var n,r=e.pastUpdates,v=(0,f.useContext)(x.A).event,b=(0,l.If)().colorMode,y=(0,f.useMemo)((function(){return v&&c.y[v.type]}),[v]),j=(0,f.useMemo)((function(){return null!==(n=null===r||void 0===r?void 0:r.sort((function(e,n){return d.ou.fromISO(n.date).diff(d.ou.fromISO(e.date)).as("minutes")})))&&void 0!==n?n:[]}),[r,y]);return(0,t.jsxs)(o.k,{flexDir:"column",alignItems:"stretch",w:"full",children:[(0,t.jsxs)(i.r,{templateColumns:"1fr 1.5fr 1fr 1fr",pr:"20px",fontWeight:"bold",fontSize:"lg",children:[(0,t.jsx)(a.P,{children:"Change"}),(0,t.jsx)(a.P,{children:"Player"}),(0,t.jsx)(a.P,{children:"Points"}),(0,t.jsx)(a.P,{children:"Date/Time"})]}),(0,t.jsx)(h.t7,{itemCount:j.length,itemSize:60,width:"100%",height:600,itemData:j,children:function(e){var n=e.index,r=e.style,l=e.data[n];return(0,t.jsx)(u.p,{in:!0,children:(0,t.jsxs)(i.r,p({},(0,m._)(l,l.change,(0,s.Gk)(v),b,!1),{alignItems:"center",templateColumns:"1fr 1.5fr 1fr 1fr",style:r,children:[(0,t.jsxs)(a.P,{children:["+",l.change]}),(0,t.jsx)(a.P,{px:1,children:l.name}),(0,t.jsx)(a.P,{children:l.points}),(0,t.jsx)(a.P,{px:1,children:d.ou.fromISO(l.date).toFormat("HH:mm:ss dd/MM")})]}))},l.date)}})]})}},5047:function(e,n,r){r.d(n,{s:function(){return I}});var t=r(2086),l=r(8365),o=r(1),i=r(2226),a=r(8510),u=r(9855),s=r(6e3),c=r(7559),d=r(8553),f=r(3070),h=r(1099),x=r(3041),m=r(1129),v=r(1879),p=r.n(v),b=r(652),y=r(3236),j=r(7576),g=r(6587),S=r(7570),w=r(6177),O=r(7815),k=r(2395),C=r(4214),P=r(3450);function A(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){A(e,n,r[n])}))}return e}var I=function(e){var n=e.isSmall,r=(e.interval,e.isPlaying),v=void 0===r||r,A=e.onTierSelected,I=(0,y.useContext)(S.G),T=I.lbData,z=I.lastUpdated,D=(0,y.useContext)(g.X).changes,N=(0,y.useContext)(j.A).event,W=(0,l.If)().colorMode,R=(0,o.G)(),U=(0,y.useMemo)((function(){var e=b.ou.fromJSDate(z).diffNow().as("milliseconds");return 0===e?"Just now":p()(e,{round:!0,largest:2})+" ago"}),[z]);if(!T)return(0,t.jsx)(C.L,{});var H,L=n||"base"===R||"sm"===R,E=L&&{display:"none"};return(0,t.jsxs)(i.k,{flexDir:"column",children:[(0,t.jsxs)(i.k,{flexDir:"column",children:[(0,t.jsx)(a.x,{fontSize:"2xl",fontWeight:"bold",children:"Muniboard"}),(0,t.jsxs)(a.x,{fontSize:"sm",as:"span",fontWeight:"normal",children:["Last Updated: ",U]})]}),(0,t.jsxs)(u.i,{size:"sm",children:[(0,t.jsx)(s.h,{children:(0,t.jsxs)(c.Tr,{children:[(0,t.jsx)(d.Th,{textAlign:"center",children:"Rank"}),(0,t.jsx)(d.Th,{children:"Name"}),(0,t.jsx)(d.Th,{children:"Points"}),(0,t.jsx)(d.Th,M({textAlign:"end"},E,{children:"Gap"})),(0,t.jsx)(d.Th,M({textAlign:"end"},E,{children:"Rate"})),(0,t.jsx)(d.Th,M({textAlign:"end",whiteSpace:"break-spaces"},E,{children:"Time to boat"})),(0,t.jsx)(d.Th,{children:"Last Updated"})]})}),(0,t.jsx)(f.p,{children:T.map((function(e,n,r){var l,o,i,u;return(0,t.jsxs)(c.Tr,M({},v?(0,O._)(e,null===D||void 0===D?void 0:D[e.rank],(0,x.Gk)(N),W):{},{borderBottom:m.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===A||void 0===A?void 0:A(e.rank)},children:[(0,t.jsx)(h.Td,{textAlign:"center",children:(0,t.jsx)(P.K,{tier:e.rank,children:L?(0,w.a)(e.rank):e.rank})}),(0,t.jsxs)(h.Td,{children:[(0,t.jsx)(a.x,{fontSize:L?"sm":"md",overflow:L?"ellipsis":"unset",children:e.name}),(0,t.jsx)(a.x,M({fontSize:"xs"},E,{children:e.description}))]}),(0,t.jsxs)(h.Td,{children:[(0,t.jsx)(a.x,{fontSize:L?"sm":"md",children:e.points}),(null===D||void 0===D?void 0:D[e.rank])>0&&(0,t.jsxs)(a.x,{fontSize:"xs",children:["(+",null!==(H=D[e.rank])&&void 0!==H?H:0,")"]})]}),(0,t.jsx)(h.Td,M({isNumeric:!0},E,{children:n+1<r.length?e.points-(null===(l=r[n+1])||void 0===l?void 0:l.points):0})),(0,t.jsx)(h.Td,M({isNumeric:!0},E,{children:e.rate})),(0,t.jsx)(h.Td,M({isNumeric:!0},E,{children:n+1<r.length&&!isNaN(Number(null===(o=r[n+1])||void 0===o?void 0:o.rate))?(0,O.I)((e.points-(null===(i=r[n+1])||void 0===i?void 0:i.points))/(Number(null===(u=r[n+1])||void 0===u?void 0:u.rate)-Number("???"===e.rate?0:e.rate))*60*60*1e3):"-"})),(0,t.jsx)(h.Td,{children:(0,k.q)(e.date)})]}),e.rank)}))})]})]})}},6509:function(e,n,r){r.d(n,{W:function(){return d}});var t=r(2086),l=r(2226),o=r(6393),i=r(8521),a=r.n(i),u=r(4694),s=[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"},{label:"Player",url:"/en/player"}],c=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"},{label:"Other Leaderboards",url:"/leaderboards"}],d=function(e){var n=e.en,r=(0,u.useRouter)();return(0,t.jsx)(l.k,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(n?s:c).map((function(e){return(0,t.jsx)(o.z,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:r.pathname===e.url?"solid":"outline",fontSize:"lg",children:(0,t.jsx)(a(),{href:e.url,children:e.label})},e.url)}))})}},1654:function(e,n,r){r.d(n,{z:function(){return T}});var t=r(2086),l=r(8345),o=r(4528),i=r(8152),a=r(2390),u=r(6131),s=r(9535),c=r(2226),d=r(8510),f=r(774),h=r(6393),x=r(652),m=r(3236),v=r(9320),p=r(6587),b=r(7570),y=r(6441),j=r(1535),g=r(7576),S=r(6847),w=r(4285),O=r(4155);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,l,o=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(u){a=!0,l=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return k(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){var n,r=e.tier,l=(0,m.useContext)(S.V).points,o=(0,m.useContext)(g.A).event,i=(0,m.useRef)(null),a=C((0,w.tH)(i),2),u=a[0],s=a[1],c=(0,m.useMemo)((function(){return null!==(n=null===l||void 0===l?void 0:l.filter((function(e){return e.rank===r})))&&void 0!==n?n:[]}),[r,l]);return(0,t.jsx)(j.x,{ref:i,minH:"300px",w:"full",children:(0,t.jsx)(O.k,{id:"t".concat(r),startDate:o.startdate,endDate:null===o||void 0===o?void 0:o.enddate,width:u,height:s,points:c,isSmall:!0})})},A=r(9323),M=function(e){var n,r=e.tier,l=(0,m.useContext)(p.X).pastUpdates,o=(0,m.useMemo)((function(){return null!==(n=null===l||void 0===l?void 0:l.filter((function(e){return e.rank===r})))&&void 0!==n?n:[]}),[l,r]);return(0,t.jsx)(A.M,{pastUpdates:o})},I=r(621),T=function(e){var n=e.tier,r=e.onClose,j=(0,m.useContext)(p.X).changes,g=(0,m.useContext)(b.G).lbData,S=!!n,w=null===g||void 0===g?void 0:g.find((function(e){return e.rank===n}));return w?(0,t.jsxs)(l.u_,{isOpen:S,size:"4xl",onClose:r,children:[(0,t.jsx)(o.Z,{}),(0,t.jsxs)(i.h,{children:[(0,t.jsxs)(a.x,{children:["T",n," Details"]}),(0,t.jsx)(u.o,{}),(0,t.jsx)(s.f,{children:(0,t.jsxs)(c.k,{flexDir:["column",null,"row"],children:[(0,t.jsxs)(c.k,{flexDir:"column",flex:1,px:2,children:[(0,t.jsxs)(d.x,{children:[(0,t.jsx)(d.x,{fontWeight:"bold",as:"span",children:"Current player"}),": ",w.name," (",w.playerid,")"]}),(0,t.jsxs)(d.x,{children:[(0,t.jsx)(d.x,{fontWeight:"bold",as:"span",children:"Points"}),": ",w.points]}),w.rate&&(0,t.jsxs)(d.x,{children:[(0,t.jsx)(d.x,{fontWeight:"bold",as:"span",children:"Rate"}),": ",w.rate]}),(0,t.jsxs)(d.x,{children:[(0,t.jsx)(d.x,{fontWeight:"bold",as:"span",children:"Last Update"}),": +",j[n]]}),(0,t.jsxs)(d.x,{children:[(0,t.jsx)(d.x,{fontWeight:"bold",as:"span",children:"Last Updated"}),": ",x.ou.fromISO(w.date).toFormat("HH:mm:ss yyyy/MM/dd")," ","(",x.ou.now().diff(x.ou.fromISO(w.date)).toFormat("hh:mm"),")"]}),(0,t.jsx)(P,{tier:n}),(0,t.jsxs)(v.z,{all:!0,children:[(0,t.jsx)(I.P,{tier:n}),(0,t.jsx)(y.k,{})]})]}),(0,t.jsx)(c.k,{minH:"600px",flexGrow:0,px:[4,null,2],children:(0,t.jsx)(M,{tier:n})})]})}),(0,t.jsx)(f.m,{children:(0,t.jsx)(h.z,{colorScheme:"red",mr:3,onClick:r,children:"Close"})})]})]}):null}},621:function(e,n,r){r.d(n,{P:function(){return f}});var t=r(2086),l=r(1535),o=r(3236),i=r(9320),a=r(7576),u=r(4285),s=r(4155);function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,l,o=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(u){a=!0,l=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(e){var n=e.tier,r=e.graphFlags,c=(0,o.useContext)(i.O).rate,f=(0,o.useContext)(a.A).event,h=(0,o.useRef)(null),x=d((0,u.tH)(h),2),m=x[0],v=x[1],p=(0,o.useMemo)((function(){return null===c||void 0===c?void 0:c[n]}),[c,n]);return(0,t.jsx)(l.x,{ref:h,minH:"300px",w:"full",children:(0,t.jsx)(s.k,{id:"Rate",startDate:null===f||void 0===f?void 0:f.startdate,endDate:null===f||void 0===f?void 0:f.enddate,width:m,height:v,graphFlags:null!==r&&void 0!==r?r:{advancedZoom:!1,showTooltip:!1},points:p||(c?Object.values(c).flatMap((function(e){return e})):[]),isSmall:!0})})}},3450:function(e,n,r){r.d(n,{K:function(){return a}});var t=r(2086),l=r(8510),o=r(3236);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var a=(0,o.memo)((function(e){var n=e.tier,r=e.children,a=(0,o.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,t.jsx)(l.x,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){i(e,n,r[n])}))}return e}({},a,{children:r||n}))}));a.displayName="Tier"},6825:function(e,n,r){r.d(n,{y:function(){return t}});var t={Medley:[{name:"Nyoom",value:5200},{name:"Good Room",value:4700},{name:"Rooming",value:4e3}],Poker:[{name:"Manual Rate",value:1800},{name:"Rooming Rate",value:2100}],Raid:[{name:"Max",value:2200}],Bingo:[{name:"Winning",value:4800},{name:"Playing",value:3e3}]}},9320:function(e,n,r){r.d(n,{O:function(){return d},z:function(){return f}});var t=r(2086),l=r(3236),o=r(4285),i=r(7576),a=r(6847),u=r(8263);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,l,o=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(u){a=!0,l=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw l}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=(0,l.createContext)({}),f=function(e){var n=e.children,s=e.all,f=(0,l.useContext)(a.V).points,h=(0,l.useContext)(u.B).points,x=(0,l.useContext)(i.A).event,m=(0,l.useRef)(),v=(0,l.useState)(),p=v[0],b=v[1],y=(0,l.useState)(),j=y[0],g=y[1],S=c((0,o._)("groupInterval",36e5),2),w=S[0],O=S[1],k=(0,l.useMemo)((function(){return(s?f:h||f)||[]}),[f,h]),C=function(e){var n=e.data,r=n.rate,t=n.forecast;b(r),g(t)};return(0,l.useEffect)((function(){return m.current=new Worker(new URL(r.p+r.u(420),r.b),{type:void 0}),m.current.postMessage({points:k,interval:w,event:x}),m.current.onmessage=C,function(){return m.current.removeEventListener("message",C),m.current.terminate()}}),[k,w]),(0,t.jsx)(d.Provider,{value:{rate:p,forecast:j,interval:w,setInterval:O},children:n})}},7815:function(e,n,r){r.d(n,{I:function(){return i},_:function(){return o}});var t=r(6825),l=r(652),o=function(e,n,r,o){var i,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=null===(i=t.y[r])||void 0===i?void 0:i.sort((function(e,n){return n.value-e.value}));if(a&&l.ou.fromISO(e.date).diffNow().as("minutes")<-10)return{};if(u){var s;if(n>(null!==(s=u[0].value)&&void 0!==s?s:3e3))return{bg:"light"===o?"red.100":"red.800"};if(u[1]&&n>u[1].value)return{bg:"light"===o?"yellow.100":"yellow.800"}}return{bg:"light"===o?"gray.100":"gray.700"}},i=function(e){return isNaN(e)||e<0?"--:--":l.nL.fromMillis(e).toFormat("hh:mm")}},2395:function(e,n,r){r.d(n,{q:function(){return l}});var t=r(652),l=function(e){return t.ou.fromISO(e).diffNow().as("minute")>-3?"Just now":t.ou.now().diff(t.ou.fromISO(e)).toFormat("hh:mm")}}}]);