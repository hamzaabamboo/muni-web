"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{7046:function(t,r,e){e.d(r,{L:function(){return a}});var n=e(5893),u=e(204),o=e(295),a=(e(7294),function(){return(0,n.jsx)(u.k,{w:"full",alignItems:"center",justifyContent:"center",h:"full",children:(0,n.jsx)(o.$,{size:"xl"})})})},7720:function(t,r,e){e.d(r,{T:function(){return c}});var n=e(5893),u=e(8911),o=e(7200),a=e(120),i=e(7294),c=(0,i.memo)((function(t){var r=t.align,e=t.event,c=(0,i.useMemo)((function(){return(0,o.Gk)(e)}),[e]);return(0,n.jsxs)(u.x,{textAlign:r||"start",children:[(0,n.jsxs)(u.x,{as:"span",mr:2,children:[a.ou.fromISO(e.startdate).toFormat("yyyy/MM/dd  HH:mm")," -"," ",a.ou.fromISO(e.enddate).toFormat("yyyy/MM/dd HH:mm")]}),"/",(0,n.jsxs)(u.x,{as:"span",ml:2,children:[Math.round(a.ou.fromISO(e.enddate).diff(a.ou.fromISO(e.startdate)).as("hours"))," ","hours"]})," ","/",(0,n.jsx)(u.x,{as:"span",ml:2,children:c})]})}));c.displayName="EventDetails"},9996:function(t,r,e){e.d(r,{M:function(){return p}});var n=e(5893),u=e(204),o=e(8911),a=e(3100),i=e(4416),c=e(120),l=e(7294),s=e(2426),f=e(9166),d=e(7720),p=function(){var t=(0,l.useContext)(s.A).event;return t?(0,n.jsx)(u.k,{flexDirection:"column",py:2,children:(0,n.jsxs)(u.k,{flexDirection:["column",null,"row"],justifyContent:"space-between",children:[(0,n.jsxs)(u.k,{flexDirection:"column",order:[2,null,1],children:[(0,n.jsx)(o.x,{fontWeight:"bold",fontSize:"3xl",textAlign:["center",null,"start"],children:t.name}),(0,n.jsx)(d.T,{align:["center",null,"start"],event:t}),c.ou.fromISO(t.enddate).diffNow().as("second")>0&&(0,n.jsx)(m,{startTime:t.startdate,rankEndTime:t.enddate,resultsTime:t.enddate})]}),(0,n.jsx)(a.xu,{h:"120",margin:["0 auto",null,"auto 0"],order:[1,null,2],children:(0,n.jsx)(i.E,{src:(0,f.Z)("/images/events/logo/".concat(t.eventid,".png")),maxH:"full",maxW:"full"})})]})}):null},m=function(t){var r=t.startTime,e=t.rankEndTime,a=t.resultsTime,i=(0,l.useState)("--:--"),s=i[0],f=i[1],d=(0,l.useState)(""),p=d[0],m=d[1],y=(0,l.useState)("-"),h=y[0],v=y[1],g=(0,l.useMemo)((function(){return Math.round(c.ou.fromISO(e).diff(c.ou.fromISO(r)).as("hours"))}),[r,e]);return(0,l.useEffect)((function(){var t=!1,n=function(){var n=c.ou.fromISO(r).diffNow(),u=c.ou.fromISO(e).diffNow(),o=c.ou.fromISO(a).diffNow(),i=Math.floor(c.ou.now().diff(c.ou.fromISO(r)).as("hours"));if(!t){if(n.as("hours")>0)return m("Time until start"),f(n.toFormat("hh:mm")),void v(void 0);u.as("hours")>0?(m("Time until end"),f(u.toFormat("hh:mm"))):o.as("hours")>0&&(m("Time until results"),f(o.toFormat("hh:mm"))),v("".concat(i>g?g:i," / ").concat(g," ").concat(i>g?"100":Math.round(i/g*100),"%"))}};n();setInterval(n,3e4)}),[g]),(0,n.jsxs)(u.k,{flexDirection:"column",justifyContent:["center",null,"start"],py:4,children:[h&&(0,n.jsxs)(o.x,{textAlign:["center",null,"start"],children:["Progress: ",h]}),(0,n.jsxs)(o.x,{textAlign:["center",null,"start"],children:[p,":",(0,n.jsx)(o.x,{fontSize:"lg",fontWeight:"bold",as:"span",ml:"2",children:s})]})]})}},3844:function(t,r,e){e.d(r,{k:function(){return x}});var n=e(5893),u=e(2498),o=e(8901),a=e(3100),i=e(2632),c=e(4531),l=e(120),s=e(7294),f=e(9696),d=e(7046);function p(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function m(t,r){if(null==t)return{};var e,n,u=function(t,r){if(null==t)return{};var e,n,u={},o=Object.keys(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||(u[e]=t[e]);return u}(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(u[e]=t[e])}return u}function y(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,u,o=[],a=!0,i=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(c){i=!0,u=c}finally{try{a||null==e.return||e.return()}finally{if(i)throw u}}return o}}(t,r)||v(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,r){if(t){if("string"===typeof t)return p(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(t,r):void 0}}var g=500,x=function(t){var r=function(){U.current.style("opacity",0),Y.current.style("display","none")},e=t.id,p=t.points,v=t.startDate,x=t.endDate,b=t.isLive,S=void 0!==b&&b,w=t.width,j=t.height,k=void 0===j?600:j,A=t.graphFlags,O=void 0===A?{showTooltip:!1,advancedZoom:!1}:A,I=t.renderTooltip,T=t.forecast,E=m(t,["id","points","startDate","endDate","isLive","width","height","graphFlags","renderTooltip","forecast"]),M=O.showTooltip,D=O.advancedZoom,R=(0,u.If)().colorMode,C=(0,s.useRef)(null),F=(0,s.useRef)(),L=(0,s.useRef)(),_=(0,s.useRef)(),N=(0,s.useRef)(),J=(0,s.useRef)(),z=(0,s.useRef)(),P=(0,s.useRef)(),V=(0,s.useRef)(),X=(0,s.useRef)(),$=(0,s.useRef)(),H=(0,s.useRef)(),Z=(0,s.useRef)(),G=(0,s.useRef)(),K=(0,s.useRef)(c.YFb((function(t){return(0,c.ji_)(t.date)})).left),U=(0,s.useRef)(),W=(0,s.useRef)(),Y=(0,s.useRef)(),B=(0,s.useRef)(),Q=(0,o.G)(),q=E.isSmall||"base"===Q||"sm"===Q,tt=(0,s.useMemo)((function(){return{top:20,right:20,bottom:30,left:q?45:60}}),[q]),rt=(0,s.useMemo)((function(){var t=w-tt.left-tt.right;return t<0?0:t}),[tt,w]),et=(0,s.useMemo)((function(){var t=k-tt.top-tt.bottom;return t<0?0:t}),[tt,k]);(0,s.useEffect)((function(){return $.current=c.sPX().scaleExtent([1,500]).extent([[0,0],[rt,et]]).translateExtent([[0,-1/0],[rt,1/0]]).on("zoom",at),F.current=c.Ys(C.current),L.current=F.current.append("svg").attr("width",rt+tt.left+tt.right).attr("height",et+tt.top+tt.bottom).append("g").attr("transform","translate("+tt.left+","+tt.top+")"),_.current=c.Xf().range([0,rt]),J.current=c.BYU().range([et,0]),H.current=_.current,V.current=L.current.append("clipPath").attr("id","clip-"+e).append("rect").attr("width",rt).attr("height",et),L.current.append("g").attr("class","xAxis").attr("transform","translate(0,"+et+")"),L.current.append("g").attr("class","yAxis"),L.current.append("g").attr("class","xGrid").attr("transform","translate(0,"+et+")"),L.current.append("g").attr("class","yGrid"),N.current=c.LLu(_.current),z.current=c.y4O(J.current),P.current=c.PKp().range(Array(30).fill(null).map((function(t,r){return(0,c.ICD)(3*r%30/30)}))).domain(i.K),X.current=L.current.append("g").attr("clip-path","url(#clip-".concat(e,")")).attr("id","lines"),M&&(U.current=L.current.append("g").attr("class","tooltip").style("padding","2px").style("background-color","red"),W.current=U.current.append("line").style("stroke-width",1).style("stroke","light"===R?"black":"white"),Y.current=F.current.append("div").style("display",null).style("position","absolute").style("pointer-events","none").style("padding","2px").style("background-color","lightgray").style("opacity",.9).style("color","black").style("z-index",3),Y.current.append("p").style("font-size","0.9em"),Y.current.append("ul").attr("class","scoreboard").style("font-size","0.75em").style("list-style-type","none")),function(){F.current.selectAll("*").remove()}}),[rt,et,S,M,D,R]);var nt=(0,s.useCallback)((function(t){if(p&&0!==p.length){var r=c.cx$(t),e=h(p).concat(h(T||[])),n=H.current.invert(r[0]),u=K.current(e,n,1);if(!e[u])return U.current.style("opacity",0),void Y.current.style("display","none");U.current.style("opacity",1),Y.current.style("display","block");var o,a=H.current((0,c.ji_)(e[u].date)),i=c.Xxj(e,(function(t){return null!==(o=t.rank)&&void 0!==o?o:0})).sort((function(t,r){return t[0]-r[0]})).map((function(t){var r=y(t,2),e=r[0],u=r[1];return[e,u[K.current(null!==u&&void 0!==u?u:[],n,1)]]})).filter((function(t){return!!t[1]}));W.current.attr("y1",0).attr("y2",et).attr("x1",a).attr("x2",a);var s=c.cx$(t,F.current);Y.current.selectAll("p").text(l.ou.fromJSDate(n).toFormat("HH:mm:ss DD")),Y.current.style("left",s[0]+10+"px"),Y.current.style("top",s[1]+"px");var d=Y.current.select(".scoreboard").selectAll("li").data(i);I?I(d):(d.enter().append("li"),d.exit().remove(),d.text((function(t){return"T".concat((0,f.a)(t[0]),": ").concat(t[1].points)})));var m=U.current.selectAll("circle").data(i,(function(t){return t[0]}));m.enter().append("circle").attr("class","point").attr("tier",(function(t){return t[0]})).attr("r",4),m.exit().remove(),m.attr("fill",(function(t){return P.current(t[0])})).attr("cx",(function(t){return H.current((0,c.ji_)(t[1].date))})).attr("cy",(function(t){return Z.current(t[1].points)}))}}),[et,p,T,R]);(0,s.useEffect)((function(){return B.current=L.current.append("rect").style("fill","none").style("pointer-events","all").attr("width",rt).attr("height",et),M&&B.current.on("mousemove",(function(t){nt(t)})).on("mouseout",r),S||B.current.call($.current),function(){B.current.remove()}}),[rt,et,nt,M,D]);var ut=(0,s.useCallback)((function(){if(H.current=G.current.rescaleX(_.current),N.current=c.LLu(H.current),D){var t=H.current.domain(),r=h(p).concat(h(T||[])).filter((function(r){return l.ou.fromISO(r.date).toJSDate()>=t[0]&&l.ou.fromISO(r.date).toJSDate()<=t[1]})),e=[c.VV$(r,(function(t){return t.points})),c.Fp7(r,(function(t){return t.points}))];Z.current=J.current.domain(e),z.current=c.y4O(Z.current)}}),[p,D,T]),ot=(0,s.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];L.current.select(".xGrid").attr("color","light"===R?"gray":"white").transition().duration(t?g:0).call(c.LLu(H.current).tickSize(-et).tickFormat((function(){return""}))),L.current.select(".yGrid").attr("color","light"===R?"gray":"white").transition().duration(t?g:0).call(c.y4O(Z.current).tickSize(-rt).tickFormat((function(){return""}))),L.current.select(".xAxis").transition().duration(t?g:0).call(N.current),L.current.select(".yAxis").transition().duration(t?g:0).call(q?z.current.tickFormat((function(t){return(0,f.a)(t)})):z.current)}),[et,rt,q,R]),at=(0,s.useCallback)((function(t){var r,e;G.current=t.transform,null===(r=U.current)||void 0===r||r.style("opacity",0),null===(e=Y.current)||void 0===e||e.style("display","none"),ut(),ot(),X.current.selectAll("path.line").attr("d",(function(t){return c.jvg().x((function(t){return H.current((0,c.ji_)(t.date))})).y((function(t){return Z.current(t.points)}))(t[1])})),X.current.selectAll("path.forecast").attr("d",(function(t){return c.jvg().x((function(t){return H.current((0,c.ji_)(t.date))})).y((function(t){return Z.current(t.points)}))(t[1])}))}),[ut,ot]);return(0,s.useEffect)((function(){var t=l.ou.now().plus({minutes:30}),r=l.ou.fromISO(v),e=l.ou.fromISO(x),n=S?v&&l.ou.now().minus({hour:3}).diff(r).as("second")<0?r.toJSDate():l.ou.now().minus({hour:3}).toJSDate():v||!p?r.toJSDate():c.VV$(p,(function(t){return(0,c.ji_)(t.date)})),u=l.ou.now().plus({minutes:30}).diff(e).as("seconds")>0||T?e:t,o=S&&e.diffNow().as("minute")<0?[r,e]:[n,u];_.current.domain(o);var a,i=[S&&e.diffNow().as("minute")<0?c.VV$(p.filter((function(t){return l.ou.fromISO(t.date).diff(l.ou.fromJSDate(n)).as("seconds")>0})),(function(t){return t.points})):0,p?c.Fp7((null===T||void 0===T?void 0:T.length)>0?T:p,(function(t){return t.points})):0];J.current.domain(i).nice(),G.current?ut():(H.current=_.current,Z.current=J.current),D||(H.current=_.current,Z.current=J.current),N.current=c.LLu(H.current),z.current=c.y4O(Z.current);var s=c.Xxj(null!==p&&void 0!==p?p:[],(function(t){return null!==(a=t.rank)&&void 0!==a?a:0})),f=X.current.selectAll("path").data(s,(function(t){return t[0]}));if(f.enter().append("path").attr("class","line").attr("tier",(function(t){return t[0]})).attr("fill","none").attr("stroke",(function(t){return P.current(t[0])})).attr("stroke-width",2),f.exit().remove(),(null===p||void 0===p?void 0:p.length)>50&&T){var d,m=X.current.selectAll("path.forecast").data(c.Xxj(T,(function(t){return null!==(d=t.rank)&&void 0!==d?d:0})),(function(t){return t[0]}));m.enter().append("path").attr("class","forecast").attr("tier",(function(t){return t[0]})).attr("fill","none").attr("stroke",(function(t){return P.current(Number(t[0]))})).style("stroke-dasharray","6 2").style("opacity",.8).attr("stroke-width",2),m.exit().remove(),X.current.selectAll("path.forecast").transition().attr("d",(function(t){return c.jvg().x((function(t){return H.current((0,c.ji_)(t.date))})).y((function(t){return Z.current(t.points)}))(t[1])}))}X.current.selectAll("path.line").transition().attr("d",(function(t){return c.jvg().x((function(t){return H.current((0,c.ji_)(t.date))})).y((function(t){return Z.current(t.points)}))(t[1])})),ot(!0)}),[p,rt,et,q,M,D,T,R]),0===rt&&0===et?(0,n.jsx)(d.L,{}):(0,n.jsx)(a.xu,{ref:C})}},2632:function(t,r,e){e.d(r,{K:function(){return u},X:function(){return n}});var n=[1,2,3,10,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4],u=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4]},1709:function(t,r,e){e.d(r,{B:function(){return p},Q:function(){return m}});var n=e(5893),u=e(2632),o=e(4012),a=e(4173),i=e(7294),c=e(5386),l=e(8661);function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function f(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,u,o=[],a=!0,i=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(c){i=!0,u=c}finally{try{a||null==e.return||e.return()}finally{if(i)throw u}}return o}}(t,r)||function(t,r){if(!t)return;if("string"===typeof t)return s(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=.69,p=(0,i.createContext)({}),m=function(t){var r=t.points,e=t.children,s=(0,i.useContext)(l.V).points,m=(0,i.useState)([]),y=m[0],h=m[1],v=f((0,a._)("displayTier",u.X),2),g=v[0],x=v[1],b=(0,i.useState)([]),S=b[0],w=b[1],j=(0,i.useMemo)((function(){return r||s}),[r,s]);(0,i.useEffect)((function(){0===S.length&&j&&w(Array.from(new Set(j.map((function(t){return t.rank})))))}),[j]);var k=(0,i.useMemo)((function(){if(j)return g?y.length>0?j.filter((function(t){return y.some((function(r){return t.name&&(0,c.compareTwoStrings)(r,t.name)>d||t.description&&(0,c.compareTwoStrings)(r,t.description)>d||t.playerid&&(0,c.compareTwoStrings)(r,t.playerid)>d}))})).sort((function(t,r){return(0,o.Z)(t.date)>(0,o.Z)(r.date)?0:1})):j.filter((function(t){return g.includes(t.rank)})).sort((function(t,r){return(0,o.Z)(t.date)>(0,o.Z)(r.date)?0:1})):j}),[j,g,y]);return(0,n.jsx)(p.Provider,{value:{points:k,displayTier:g,setDisplayTier:x,allTiers:S,playerFilters:y,setPlayerFilters:h},children:e})}},4173:function(t,r,e){e.d(r,{_:function(){return a}});var n=e(7294);function u(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=r}var r,e,n;return t.prototype.clear=function(){localStorage.removeItem(this.key)},r=t,(e=[{key:"value",get:function(){try{var t=localStorage.getItem(this.key);return null!==t?JSON.parse(t):null}catch(r){return null}},set:function(t){if(null!==t){var r=JSON.stringify(t);localStorage.setItem(this.key,r)}else localStorage.removeItem(this.key)}}])&&u(r.prototype,e),n&&u(r,n),t}(),a=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=this,u=(0,n.useRef)(new o(t)),a=(0,n.useState)(r),i=a[0],c=a[1],l=function(t){var r="function"===typeof t?t.call(e,i):t;u.current.value=r,c(r)},s=function(t){return function(r){r.key===t&&c(JSON.parse(r.newValue||""))}};return(0,n.useEffect)((function(){l(u.current.value||r)}),[]),(0,n.useEffect)((function(){return window.addEventListener("storage",s(t)),function(){window.removeEventListener("storage",s(t))}}),[t]),[i,l]}},9696:function(t,r,e){e.d(r,{a:function(){return n}});var n=function(t){return t<1e3?"".concat(t):t<1e6?"".concat(Math.round(t/1e3*100)/100,"k"):"".concat(Math.round(t/1e6*100)/100,"M")}}}]);