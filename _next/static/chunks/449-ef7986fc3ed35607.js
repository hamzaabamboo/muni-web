"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{9943:function(e,n,r){r.d(n,{$:function(){return w}});var t=r(5893),o=r(2243),i=r(3717),l=r(1293),a=r(991),u=r(9840),c=r(510),s=r(4693),f=r(5115),d=r(4698),h=r(2632),m=r(120),v=r(7294),p=r(2426),x=r(1724),b=r(9696),y=r(7046),j=r(7830);function g(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function S(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){g(e,n,r[n])}))}return e}var w=function(e){var n=e.isSmall,r=(e.interval,e.isPlaying,e.onTierSelected),g=(0,v.useContext)(x.G).lbData,w=(0,v.useContext)(p.A).event,k=(0,o.G)();if(!g)return(0,t.jsx)(y.L,{});var O=n||"base"===k||"sm"===k,C=O&&{display:"none"},T=(0,v.useMemo)((function(){return Math.round(m.ou.fromISO(w.enddate).diff(m.ou.fromISO(w.startdate)).as("hours"))}),[w]);return(0,t.jsxs)(i.k,{flexDir:"column",w:"full",children:[(0,t.jsx)(i.k,{flexDir:"column",children:(0,t.jsx)(l.x,{fontSize:"4xl",fontWeight:"bold",children:"Muniboard"})}),(0,t.jsxs)(a.i,{size:"sm",children:[(0,t.jsx)(u.h,{children:(0,t.jsxs)(c.Tr,{children:[(0,t.jsx)(s.Th,{textAlign:"center",children:"Rank"}),(0,t.jsx)(s.Th,{children:"Name"}),(0,t.jsx)(s.Th,{children:"Points"}),(0,t.jsx)(s.Th,S({},C,{children:"Rate/hr"}))]})}),(0,t.jsx)(f.p,{children:g.map((function(e,n,o){return(0,t.jsxs)(c.Tr,{borderBottom:h.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===r||void 0===r?void 0:r(e.rank)},children:[(0,t.jsx)(d.Td,{textAlign:"center",children:(0,t.jsx)(j.K,{tier:e.rank,children:O?(0,b.a)(e.rank):e.rank})}),(0,t.jsxs)(d.Td,{children:[(0,t.jsx)(l.x,{fontSize:O?"sm":"md",overflow:O?"ellipsis":"unset",children:e.name}),(0,t.jsx)(l.x,S({fontSize:"xs"},C,{children:e.description}))]}),(0,t.jsx)(d.Td,{children:(0,t.jsx)(l.x,{fontSize:O?"sm":"md",children:e.points})}),(0,t.jsx)(d.Td,{children:(0,t.jsx)(l.x,{fontSize:O?"sm":"md",children:Math.round(e.points/T)})})]},e.rank)}))})]})]})}},9154:function(e,n,r){r.d(n,{k:function(){return s}});var t=r(5893),o=r(3717),i=r(1293),l=r(1731),a=r(7294),u=r(2484),c=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],s=function(){var e=(0,a.useContext)(u.O),n=e.interval,r=e.setInterval;return(0,t.jsxs)(o.k,{flexDir:"column",children:[(0,t.jsx)(i.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,t.jsxs)(o.k,{flexDir:"row",alignItems:"center",children:[(0,t.jsx)(i.x,{mr:2,children:"Interval"}),(0,t.jsx)(l.P,{value:n,onChange:function(e){return r(Number(e.target.value))},children:c.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},7554:function(e,n,r){r.d(n,{Y:function(){return u}});var t=r(5893),o=r(3717),i=r(2),l=r(1293);r(7294);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var u=function(e){var n=e.graphFlags,r=e.setGraphFlags,u=e.forecastOptions,c=void 0!==u&&u,s=function(e){r((function(n){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){a(e,n,r[n])}))}return e}({},n,a({},e,!n[e]))}))};return(0,t.jsx)(o.k,{flexDir:"column",children:(0,t.jsxs)(o.k,{flexDir:"column",children:[(0,t.jsxs)(o.k,{children:[(0,t.jsx)(i.r,{isChecked:n.showTooltip,onChange:function(){return s("showTooltip")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(o.k,{children:[(0,t.jsx)(i.r,{isChecked:n.advancedZoom,onChange:function(){return s("advancedZoom")}}),(0,t.jsx)(l.x,{ml:2,children:"Advanced Zoom"})]}),c&&(0,t.jsxs)(o.k,{children:[(0,t.jsx)(i.r,{isChecked:n.showForecast,onChange:function(){return s("showForecast")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},7005:function(e,n,r){r.d(n,{P:function(){return d}});var t=r(5893),o=r(7747),i=r(7294),l=r(2484),a=r(2426),u=r(5277),c=r(3844);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var n=e.tier,r=e.graphFlags,s=(0,i.useContext)(l.O).rate,d=(0,i.useContext)(a.A).event,h=(0,i.useRef)(null),m=f((0,u.tH)(h),2),v=m[0],p=m[1],x=(0,i.useMemo)((function(){return null===s||void 0===s?void 0:s[n]}),[s,n]);return(0,t.jsx)(o.xu,{ref:h,minH:"300px",w:"full",children:(0,t.jsx)(c.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:v,height:p,graphFlags:null!==r&&void 0!==r?r:{advancedZoom:!1,showTooltip:!1},points:x||(s?Object.values(s).flatMap((function(e){return e})):[]),isSmall:!0})})}},7964:function(e,n,r){r.d(n,{q:function(){return c}});var t=r(5893),o=r(7294),i=r(2484),l=r(2426),a=r(1709),u=r(3844),c=function(e){var n=e.width,r=e.height,c=e.isSmall,s=void 0!==c&&c,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,m=e.showForecast,v=void 0!==m&&m,p=(0,o.useContext)(a.B),x=p.points,b=p.displayTier,y=(0,o.useContext)(l.A).event,j=(0,o.useContext)(i.O).forecast;return(0,t.jsx)(u.k,{id:"score",points:x,startDate:null===y||void 0===y?void 0:y.startdate,endDate:null===y||void 0===y?void 0:y.enddate,width:n,height:r,isSmall:s,isLive:d,forecast:v&&(null===b||void 0===b?void 0:b.filter((function(e){return null===j||void 0===j?void 0:j[e]})).map((function(e){return j[e]})).flatMap((function(e){return e}))),graphFlags:h})}},7830:function(e,n,r){r.d(n,{K:function(){return a}});var t=r(5893),o=r(1293),i=r(7294);function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var a=(0,i.memo)((function(e){var n=e.tier,r=e.children,a=(0,i.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,t.jsx)(o.x,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){l(e,n,r[n])}))}return e}({},a,{children:r||n}))}));a.displayName="Tier"},3854:function(e,n,r){r.d(n,{I:function(){return s}});var t=r(5893),o=r(3717),i=r(3108),l=r(7294),a=r(1709);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var e=(0,l.useContext)(a.B),n=e.displayTier,r=e.setDisplayTier,u=e.allTiers,s=(0,l.useMemo)((function(){return[{label:"Select All",tiers:u},{label:"Clear",tiers:[]},{label:"< T10",tiers:u.filter((function(e){return e<=10}))},{label:"< T20",tiers:u.filter((function(e){return e<=20}))},{label:"< T100",tiers:u.filter((function(e){return e<=100}))},{label:"> T500",tiers:u.filter((function(e){return e>=500}))}]}),[u]);return(0,t.jsxs)(o.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(e){return(0,t.jsx)(i.z,{m:2,colorScheme:"blue",onClick:function(){return r(e.tiers)},children:e.label},e.label)})),u.sort((function(e,n){return e-n})).map((function(e){return(0,t.jsxs)(i.z,{m:2,colorScheme:(null===n||void 0===n?void 0:n.includes(e))?"green":"gray",onClick:function(){return function(e){if(null===n||void 0===n?void 0:n.includes(e))return r((function(n){return n.filter((function(n){return n!==e}))}));r((function(n){return c(n||[]).concat([e])}))}(e)},children:["T",e]},e)}))]})}},2484:function(e,n,r){r.d(n,{O:function(){return f},z:function(){return d}});var t=r(5893),o=r(7294),i=r(5277),l=r(2426),a=r(8661),u=r(1709);function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,o.createContext)({}),d=function(e){var n=e.children,c=e.all,d=(0,o.useContext)(a.V).points,h=(0,o.useContext)(u.B).points,m=(0,o.useContext)(l.A).event,v=(0,o.useRef)(),p=(0,o.useState)(),x=p[0],b=p[1],y=(0,o.useState)(),j=y[0],g=y[1],S=s((0,i._)("groupInterval",36e5),2),w=S[0],k=S[1],O=(0,o.useMemo)((function(){return(c?d:h||d)||[]}),[d,h]),C=function(e){var n=e.data,r=n.rate,t=n.forecast;b(r),g(t)};return(0,o.useEffect)((function(){return v.current=new Worker(new URL(r.p+r.u(502),r.b),{type:void 0}),v.current.postMessage({points:O,interval:w,event:m}),v.current.onmessage=C,function(){return v.current.removeEventListener("message",C),v.current.terminate()}}),[O,w]),(0,t.jsx)(f.Provider,{value:{rate:x,forecast:j,interval:w,setInterval:k},children:n})}},1731:function(e,n,r){r.d(n,{P:function(){return d}});var t=r(5432),o=r(6554),i=r(8446),l=r(5893),a=(0,o.G)((function(e,n){const{children:r,placeholder:o,className:a,...u}=e;return(0,l.jsxs)(i.m.select,{...u,ref:n,className:(0,t.cx)("chakra-select",a),children:[o&&(0,l.jsx)("option",{value:"",children:o}),r]})}));a.displayName="SelectField";var u=r(4046),c=r(4548),s=r(3179),f=r(7294);var d=(0,o.G)(((e,n)=>{var r;const o=(0,c.jC)("Select",e),{rootProps:f,placeholder:d,icon:h,color:m,height:p,h:x,minH:b,minHeight:y,iconColor:j,iconSize:g,...S}=(0,s.Lr)(e),[w,k]=function(e,n){const r={},t={};for(const[o,i]of Object.entries(e))n.includes(o)?r[o]=i:t[o]=i;return[r,t]}(S,s.oE),O=(0,u.Y)(k),C={width:"100%",height:"fit-content",position:"relative",color:m},T={paddingEnd:"2rem",...o.field,_focus:{zIndex:"unset",...null==(r=o.field)?void 0:r._focus}};return(0,l.jsxs)(i.m.div,{className:"chakra-select__wrapper",__css:C,...w,...f,children:[(0,l.jsx)(a,{ref:n,height:null!=x?x:p,minH:null!=b?b:y,placeholder:d,...O,__css:T,children:e.children}),(0,l.jsx)(v,{"data-disabled":(0,t.PB)(O.disabled),...(j||m)&&{color:j||m},__css:o.icon,...g&&{fontSize:g},children:h})]})}));d.displayName="Select";var h=e=>(0,l.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,l.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),m=(0,i.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),v=e=>{const{children:n=(0,l.jsx)(h,{}),...r}=e,t=(0,f.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,l.jsx)(m,{...r,className:"chakra-select__icon-wrapper",children:(0,f.isValidElement)(n)?t:null})};v.displayName="SelectIcon"},9840:function(e,n,r){r.d(n,{h:function(){return a}});var t=r(991),o=r(6554),i=r(8446),l=r(5893),a=(0,o.G)(((e,n)=>{const r=(0,t.p)();return(0,l.jsx)(i.m.thead,{...e,ref:n,__css:r.thead})}))},991:function(e,n,r){r.d(n,{i:function(){return d},p:function(){return f}});var t=r(6554),o=r(4548),i=r(3179),l=r(8446),a=r(5432),u=r(5227),c=r(5893),[s,f]=(0,u.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),d=(0,t.G)(((e,n)=>{const r=(0,o.jC)("Table",e),{className:t,layout:u,...f}=(0,i.Lr)(e);return(0,c.jsx)(s,{value:r,children:(0,c.jsx)(l.m.table,{ref:n,__css:{tableLayout:u,...r.table},className:(0,a.cx)("chakra-table",t),...f})})}));d.displayName="Table"},510:function(e,n,r){r.d(n,{Tr:function(){return a}});var t=r(991),o=r(6554),i=r(8446),l=r(5893),a=(0,o.G)(((e,n)=>{const r=(0,t.p)();return(0,l.jsx)(i.m.tr,{...e,ref:n,__css:r.tr})}))},5115:function(e,n,r){r.d(n,{p:function(){return a}});var t=r(991),o=r(6554),i=r(8446),l=r(5893),a=(0,o.G)(((e,n)=>{const r=(0,t.p)();return(0,l.jsx)(i.m.tbody,{...e,ref:n,__css:r.tbody})}))},4693:function(e,n,r){r.d(n,{Th:function(){return a}});var t=r(991),o=r(6554),i=r(8446),l=r(5893),a=(0,o.G)((({isNumeric:e,...n},r)=>{const o=(0,t.p)();return(0,l.jsx)(i.m.th,{...n,ref:r,__css:o.th,"data-is-numeric":e})}))},4698:function(e,n,r){r.d(n,{Td:function(){return a}});var t=r(991),o=r(6554),i=r(8446),l=r(5893),a=(0,o.G)((({isNumeric:e,...n},r)=>{const o=(0,t.p)();return(0,l.jsx)(i.m.td,{...n,ref:r,__css:o.td,"data-is-numeric":e})}))}}]);