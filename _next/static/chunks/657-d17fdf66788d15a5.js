"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{9380:function(e,n,r){r.d(n,{k:function(){return s}});var t=r(5893),i=r(8527),l=r(1391),o=r(7294),a=r(8987),u=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],s=function(){var e=(0,o.useContext)(a.O),n=e.interval,r=e.setInterval;return(0,t.jsxs)(i.kC,{flexDir:"column",children:[(0,t.jsx)(i.xv,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,t.jsxs)(i.kC,{flexDir:"row",alignItems:"center",children:[(0,t.jsx)(i.xv,{mr:2,children:"Interval"}),(0,t.jsx)(l.Ph,{value:n,onChange:function(e){return r(Number(e.target.value))},children:u.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},30:function(e,n,r){r.d(n,{M:function(){return m}});var t=r(5893),i=r(949),l=r(8527),o=r(7496),a=r(3756),u=r(5840),s=r(9490),c=r(7294),d=r(670),f=r(4517),v=r(7852);function h(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function x(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){h(e,n,r[n])}))}return e}var m=function(e){var n,r=e.pastUpdates,h=(0,c.useContext)(f.A).event,m=(0,i.If)().colorMode,p=(0,c.useMemo)((function(){return h&&u.y[h.type]}),[h]),j=(0,c.useMemo)((function(){return null!==(n=null===r||void 0===r?void 0:r.sort((function(e,n){return s.ou.fromISO(n.date).diff(s.ou.fromISO(e.date)).as("minutes")})))&&void 0!==n?n:[]}),[r,p]);return(0,t.jsxs)(l.kC,{flexDir:"column",alignItems:"stretch",w:"full",children:[(0,t.jsxs)(l.rj,{templateColumns:"1fr 1.5fr 1fr 1fr",pr:"20px",fontWeight:"bold",fontSize:"lg",children:[(0,t.jsx)(l.P4,{children:"Change"}),(0,t.jsx)(l.P4,{children:"Player"}),(0,t.jsx)(l.P4,{children:"Points"}),(0,t.jsx)(l.P4,{children:"Date/Time"})]}),(0,t.jsx)(d.t7,{itemCount:j.length,itemSize:60,width:"100%",height:600,itemData:j,children:function(e){var n=e.index,r=e.style,i=e.data[n];return(0,t.jsx)(o.pT,{in:!0,children:(0,t.jsxs)(l.rj,x({},(0,v._)(i,i.change,(0,a.Gk)(h),m,!1),{alignItems:"center",templateColumns:"1fr 1.5fr 1fr 1fr",style:r,children:[(0,t.jsxs)(l.P4,{children:["+",i.change]}),(0,t.jsx)(l.P4,{px:1,children:i.name}),(0,t.jsx)(l.P4,{children:i.points}),(0,t.jsx)(l.P4,{px:1,children:s.ou.fromISO(i.date).toFormat("HH:mm:ss dd/MM")})]}))},i.date)}})]})}},1135:function(e,n,r){r.d(n,{s:function(){return S}});var t=r(5893),i=r(949),l=r(2684),o=r(8527),a=r(9042),u=r(3756),s=r(6755),c=r(9695),d=r.n(c),f=r(9490),v=r(7294),h=r(4517),x=r(6388),m=r(3422),p=r(9867),j=r(7852),b=r(8203),g=r(1213);function y(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function w(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){y(e,n,r[n])}))}return e}var S=function(e){var n=e.isSmall,r=(e.interval,e.isPlaying),c=void 0===r||r,y=e.onTierSelected,S=(0,v.useContext)(m.G),k=S.lbData,C=S.lastUpdated,O=(0,v.useContext)(x.X).changes,P=(0,v.useContext)(h.A).event,M=(0,i.If)().colorMode,T=(0,l.Gc)(),z=(0,v.useMemo)((function(){var e=f.ou.fromJSDate(C).diffNow().as("milliseconds");return 0===e?"Just now":d()(e,{round:!0,largest:2})+" ago"}),[C]);if(!k)return(0,t.jsx)(b.L,{});var I,A=n||"base"===T||"sm"===T,D=A&&{display:"none"};return(0,t.jsxs)(o.kC,{flexDir:"column",children:[(0,t.jsxs)(o.kC,{flexDir:"column",children:[(0,t.jsx)(o.xv,{fontSize:"2xl",fontWeight:"bold",children:"Muniboard"}),(0,t.jsxs)(o.xv,{fontSize:"sm",as:"span",fontWeight:"normal",children:["Last Updated: ",z]})]}),(0,t.jsxs)(a.iA,{size:"sm",children:[(0,t.jsx)(a.hr,{children:(0,t.jsxs)(a.Tr,{children:[(0,t.jsx)(a.Th,{textAlign:"center",children:"Rank"}),(0,t.jsx)(a.Th,{children:"Name"}),(0,t.jsx)(a.Th,{children:"Points"}),(0,t.jsx)(a.Th,w({textAlign:"end"},D,{children:"Gap"})),(0,t.jsx)(a.Th,w({textAlign:"end"},D,{children:"Rate"})),(0,t.jsx)(a.Th,w({textAlign:"end",whiteSpace:"break-spaces"},D,{children:"Time to boat"})),(0,t.jsx)(a.Th,{children:"Last Updated"})]})}),(0,t.jsx)(a.p3,{children:k.map((function(e,n,r){var i,l,d,v,h;return(0,t.jsxs)(a.Tr,w({},c?(0,j._)(e,null===O||void 0===O?void 0:O[e.rank],(0,u.Gk)(P),M):{},{borderBottom:s.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===y||void 0===y?void 0:y(e.rank)},children:[(0,t.jsx)(a.Td,{textAlign:"center",children:(0,t.jsx)(g.K,{tier:e.rank,children:A?(0,p.a)(e.rank):e.rank})}),(0,t.jsxs)(a.Td,{children:[(0,t.jsx)(o.xv,{fontSize:A?"sm":"md",overflow:A?"ellipsis":"unset",children:e.name}),(0,t.jsx)(o.xv,w({fontSize:"xs"},D,{children:e.description}))]}),(0,t.jsxs)(a.Td,{children:[(0,t.jsx)(o.xv,{fontSize:A?"sm":"md",children:e.points}),(null===O||void 0===O?void 0:O[e.rank])>0&&(0,t.jsxs)(o.xv,{fontSize:"xs",children:["(+",null!==(I=O[e.rank])&&void 0!==I?I:0,")"]})]}),(0,t.jsx)(a.Td,w({isNumeric:!0},D,{children:n+1<r.length?e.points-(null===(i=r[n+1])||void 0===i?void 0:i.points):0})),(0,t.jsx)(a.Td,w({isNumeric:!0},D,{children:e.rate})),(0,t.jsx)(a.Td,w({isNumeric:!0},D,{children:n+1<r.length&&!isNaN(Number(null===(l=r[n+1])||void 0===l?void 0:l.rate))?(0,j.I)((e.points-(null===(d=r[n+1])||void 0===d?void 0:d.points))/(Number(null===(v=r[n+1])||void 0===v?void 0:v.rate)-Number("???"===e.rate?0:e.rate))*60*60*1e3):"-"})),(0,t.jsx)(a.Td,{children:(h=e.date,f.ou.fromISO(h).diffNow().as("minute")>-3?"Just now":f.ou.now().diff(f.ou.fromISO(h)).toFormat("hh:mm"))})]}),e.rank)}))})]})]})}},4210:function(e,n,r){r.d(n,{W:function(){return c}});var t=r(5893),i=r(8527),l=r(5193),o=r(1664),a=r(1163),u=(r(7294),[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"}]),s=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"}],c=function(e){var n=e.en,r=(0,a.useRouter)();return(0,t.jsx)(i.kC,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(n?u:s).map((function(e){return(0,t.jsx)(l.zx,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:r.pathname===e.url?"solid":"outline",fontSize:"lg",children:(0,t.jsx)(o.default,{href:e.url,children:e.label})},e.url)}))})}},277:function(e,n,r){r.d(n,{z:function(){return w}});var t=r(5893),i=r(4018),l=r(8527),o=r(5193),a=r(9490),u=r(7294),s=r(8987),c=r(6388),d=r(3422),f=r(9380),v=r(4517),h=r(3688),x=r(5277),m=r(6453);function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,l=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(u){i=!0,l=u}finally{try{t||null==a.return||a.return()}finally{if(i)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function(e){var n,r=e.tier,i=(0,u.useContext)(h.V).points,o=(0,u.useContext)(v.A).event,a=(0,u.useRef)(null),s=p((0,x.tH)(a),2),c=s[0],d=s[1],f=(0,u.useMemo)((function(){return null!==(n=null===i||void 0===i?void 0:i.filter((function(e){return e.rank===r})))&&void 0!==n?n:[]}),[r,i]);return(0,t.jsx)(l.xu,{ref:a,minH:"300px",w:"full",children:(0,t.jsx)(m.k,{id:"t".concat(r),startDate:o.startdate,endDate:null===o||void 0===o?void 0:o.enddate,width:c,height:d,points:f,isSmall:!0})})},b=r(30),g=function(e){var n,r=e.tier,i=(0,u.useContext)(c.X).pastUpdates,l=(0,u.useMemo)((function(){return null!==(n=null===i||void 0===i?void 0:i.filter((function(e){return e.rank===r})))&&void 0!==n?n:[]}),[i,r]);return(0,t.jsx)(b.M,{pastUpdates:l})},y=r(3509),w=function(e){var n=e.tier,r=e.onClose,v=(0,u.useContext)(c.X).changes,h=(0,u.useContext)(d.G).lbData,x=!!n,m=null===h||void 0===h?void 0:h.find((function(e){return e.rank===n}));return m?(0,t.jsxs)(i.u_,{isOpen:x,size:"4xl",onClose:r,children:[(0,t.jsx)(i.ZA,{}),(0,t.jsxs)(i.hz,{children:[(0,t.jsxs)(i.xB,{children:["T",n," Details"]}),(0,t.jsx)(i.ol,{}),(0,t.jsx)(i.fe,{children:(0,t.jsxs)(l.kC,{flexDir:["column",null,"row"],children:[(0,t.jsxs)(l.kC,{flexDir:"column",flex:1,px:2,children:[(0,t.jsxs)(l.xv,{children:[(0,t.jsx)(l.xv,{fontWeight:"bold",as:"span",children:"Current player"}),": ",m.name," (",m.playerid,")"]}),(0,t.jsxs)(l.xv,{children:[(0,t.jsx)(l.xv,{fontWeight:"bold",as:"span",children:"Points"}),": ",m.points]}),m.rate&&(0,t.jsxs)(l.xv,{children:[(0,t.jsx)(l.xv,{fontWeight:"bold",as:"span",children:"Rate"}),": ",m.rate]}),(0,t.jsxs)(l.xv,{children:[(0,t.jsx)(l.xv,{fontWeight:"bold",as:"span",children:"Last Update"}),": +",v[n]]}),(0,t.jsxs)(l.xv,{children:[(0,t.jsx)(l.xv,{fontWeight:"bold",as:"span",children:"Last Updated"}),": ",a.ou.fromISO(m.date).toFormat("HH:mm:ss yyyy/MM/dd")," ","(",a.ou.now().diff(a.ou.fromISO(m.date)).toFormat("hh:mm"),")"]}),(0,t.jsx)(j,{tier:n}),(0,t.jsxs)(s.z,{all:!0,children:[(0,t.jsx)(y.P,{tier:n}),(0,t.jsx)(f.k,{})]})]}),(0,t.jsx)(l.kC,{minH:"600px",flexGrow:0,px:[4,null,2],children:(0,t.jsx)(g,{tier:n})})]})}),(0,t.jsx)(i.mz,{children:(0,t.jsx)(o.zx,{colorScheme:"red",mr:3,onClick:r,children:"Close"})})]})]}):null}},3509:function(e,n,r){r.d(n,{P:function(){return d}});var t=r(5893),i=r(8527),l=r(7294),o=r(8987),a=r(4517),u=r(5277),s=r(6453);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,l=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(u){i=!0,l=u}finally{try{t||null==a.return||a.return()}finally{if(i)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(e){var n=e.tier,r=e.graphFlags,d=(0,l.useContext)(o.O).rate,f=(0,l.useContext)(a.A).event,v=(0,l.useRef)(null),h=c((0,u.tH)(v),2),x=h[0],m=h[1],p=(0,l.useMemo)((function(){return null===d||void 0===d?void 0:d[n]}),[d,n]);return(0,t.jsx)(i.xu,{ref:v,minH:"300px",w:"full",children:(0,t.jsx)(s.k,{id:"Rate",startDate:null===f||void 0===f?void 0:f.startdate,endDate:null===f||void 0===f?void 0:f.enddate,width:x,height:m,graphFlags:null!==r&&void 0!==r?r:{advancedZoom:!1,showTooltip:!1},points:p||(d?Object.values(d).flatMap((function(e){return e})):[]),isSmall:!0})})}},1213:function(e,n,r){r.d(n,{K:function(){return a}});var t=r(5893),i=r(8527),l=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var a=(0,l.memo)((function(e){var n=e.tier,r=e.children,a=(0,l.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,t.jsx)(i.xv,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){o(e,n,r[n])}))}return e}({},a,{children:r||n}))}));a.displayName="Tier"},5840:function(e,n,r){r.d(n,{y:function(){return t}});var t={Medley:[{name:"Nyoom",value:5200},{name:"Good Room",value:4700},{name:"Rooming",value:4e3}],Poker:[{name:"Manual Rate",value:1800},{name:"Rooming Rate",value:2100}],Raid:[{name:"Max",value:2200}],Bingo:[{name:"Winning",value:4800},{name:"Playing",value:3e3}]}},8987:function(e,n,r){r.d(n,{O:function(){return c},z:function(){return d}});var t=r(5893),i=r(7294),l=r(5277),o=r(4517),a=r(3688),u=r(7477);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,l=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(u){i=!0,l=u}finally{try{t||null==a.return||a.return()}finally{if(i)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=(0,i.createContext)({}),d=function(e){var n=e.children,d=e.all,f=(0,i.useContext)(a.V).points,v=(0,i.useContext)(u.B).points,h=(0,i.useContext)(o.A).event,x=(0,i.useRef)(),m=(0,i.useState)(),p=m[0],j=m[1],b=(0,i.useState)(),g=b[0],y=b[1],w=s((0,l._)("groupInterval",36e5),2),S=w[0],k=w[1],C=(0,i.useMemo)((function(){return(d?f:v||f)||[]}),[f,v]),O=function(e){var n=e.data,r=n.rate,t=n.forecast;j(r),y(t)};return(0,i.useEffect)((function(){return x.current=new Worker(new URL(r.p+r.u(951),r.b),{type:void 0}),x.current.postMessage({points:C,interval:S,event:h}),x.current.onmessage=O,function(){return x.current.removeEventListener("message",O),x.current.terminate()}}),[C,S]),(0,t.jsx)(c.Provider,{value:{rate:p,forecast:g,interval:S,setInterval:k},children:n})}},7852:function(e,n,r){r.d(n,{_:function(){return l},I:function(){return o}});var t=r(5840),i=r(9490),l=function(e,n,r,l,o){var a,u=void 0===o||o,s=null===(a=t.y[r])||void 0===a?void 0:a.sort((function(e,n){return n.value-e.value}));if(u&&i.ou.fromISO(e.date).diffNow().as("minutes")<-10)return{};if(s){var c;if(null===(c=n>s[0].value)||void 0===c||c)return{bg:"light"===l?"red.100":"red.800"};if(s[1]&&n>s[1].value)return{bg:"light"===l?"yellow.100":"yellow.800"}}return{bg:"light"===l?"gray.100":"gray.700"}},o=function(e){return isNaN(e)||e<0?"--:--":i.nL.fromMillis(e).toFormat("hh:mm")}}}]);