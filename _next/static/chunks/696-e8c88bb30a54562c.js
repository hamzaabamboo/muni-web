"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{8203:function(t,r,e){e.d(r,{L:function(){return i}});var n=e(5893),u=e(8527),o=e(9609),i=(e(7294),function(){return(0,n.jsx)(u.kC,{w:"full",alignItems:"center",justifyContent:"center",h:"full",children:(0,n.jsx)(o.$,{size:"xl"})})})},1889:function(t,r,e){e.d(r,{T:function(){return c}});var n=e(5893),u=e(8527),o=e(3756),i=e(9490),a=e(7294),c=(0,a.memo)((function(t){var r=t.align,e=t.event,c=(0,a.useMemo)((function(){return(0,o.Gk)(e)}),[e]);return(0,n.jsxs)(u.xv,{textAlign:r||"start",children:[(0,n.jsxs)(u.xv,{as:"span",mr:2,children:[i.ou.fromISO(e.startdate).toFormat("yyyy/MM/dd  HH:mm")," -"," ",i.ou.fromISO(e.enddate).toFormat("yyyy/MM/dd HH:mm")]}),"/",(0,n.jsxs)(u.xv,{as:"span",ml:2,children:[Math.round(i.ou.fromISO(e.enddate).diff(i.ou.fromISO(e.startdate)).as("hours"))," ","hours"]})," ","/",(0,n.jsx)(u.xv,{as:"span",ml:2,children:c})]})}));c.displayName="EventDetails"},5117:function(t,r,e){e.d(r,{M:function(){return f}});var n=e(5893),u=e(8527),o=e(4651),i=e(9490),a=e(7294),c=e(4517),l=e(8142),s=e(1889),f=function(){var t=(0,a.useContext)(c.A).event;return t?(0,n.jsx)(u.kC,{flexDirection:"column",py:2,children:(0,n.jsxs)(u.kC,{flexDirection:["column",null,"row"],justifyContent:"space-between",children:[(0,n.jsxs)(u.kC,{flexDirection:"column",order:[2,null,1],children:[(0,n.jsx)(u.xv,{fontWeight:"bold",fontSize:"3xl",textAlign:["center",null,"start"],children:t.name}),(0,n.jsx)(s.T,{align:["center",null,"start"],event:t}),i.ou.fromISO(t.enddate).diffNow().as("second")>0&&(0,n.jsx)(d,{startTime:t.startdate,rankEndTime:t.enddate,resultsTime:t.enddate})]}),(0,n.jsx)(u.xu,{h:"120",margin:["0 auto",null,"auto 0"],order:[1,null,2],children:(0,n.jsx)(o.Ee,{src:(0,l.Z)("/images/events/logo/".concat(t.eventid,".png")),maxH:"full",maxW:"full"})})]})}):null},d=function(t){var r=t.startTime,e=t.rankEndTime,o=t.resultsTime,c=(0,a.useState)("--:--"),l=c[0],s=c[1],f=(0,a.useState)(""),d=f[0],p=f[1],m=(0,a.useState)("-"),y=m[0],v=m[1],h=(0,a.useMemo)((function(){return Math.round(i.ou.fromISO(e).diff(i.ou.fromISO(r)).as("hours"))}),[r,e]);return(0,a.useEffect)((function(){var t=!1,n=function(){var n=i.ou.fromISO(r).diffNow(),u=i.ou.fromISO(e).diffNow(),a=i.ou.fromISO(o).diffNow(),c=Math.floor(i.ou.now().diff(i.ou.fromISO(r)).as("hours"));if(!t){if(n.as("hours")>0)return p("Time until start"),s(n.toFormat("hh:mm")),void v(void 0);u.as("hours")>0?(p("Time until end"),s(u.toFormat("hh:mm"))):a.as("hours")>0&&(p("Time until results"),s(a.toFormat("hh:mm"))),v("".concat(c>h?h:c," / ").concat(h," ").concat(c>h?"100":Math.round(c/h*100),"%"))}};n();setInterval(n,3e4)}),[h]),(0,n.jsxs)(u.kC,{flexDirection:"column",justifyContent:["center",null,"start"],py:4,children:[y&&(0,n.jsxs)(u.xv,{textAlign:["center",null,"start"],children:["Progress: ",y]}),(0,n.jsxs)(u.xv,{textAlign:["center",null,"start"],children:[d,":",(0,n.jsx)(u.xv,{fontSize:"lg",fontWeight:"bold",as:"span",ml:"2",children:l})]})]})}},6453:function(t,r,e){e.d(r,{k:function(){return h}});var n=e(5893),u=e(949),o=e(2684),i=e(8527),a=e(6755),c=e(8976),l=e(9490),s=e(7294),f=e(9867),d=e(8203);function p(t,r){if(null==t)return{};var e,n,u=function(t,r){if(null==t)return{};var e,n,u={},o=Object.keys(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||(u[e]=t[e]);return u}(t,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)e=o[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(u[e]=t[e])}return u}function m(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,u=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(e.push(i.value),!r||e.length!==r);n=!0);}catch(c){u=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(u)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(t){return function(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=500,h=function(t){var r=function(){W.current.style("opacity",0),B.current.style("display","none")},e=t.id,h=t.points,x=t.startDate,g=t.endDate,w=t.isLive,S=void 0!==w&&w,k=t.width,j=t.height,b=void 0===j?600:j,O=t.graphFlags,A=void 0===O?{showTooltip:!1,advancedZoom:!1}:O,I=t.renderTooltip,T=t.forecast,E=p(t,["id","points","startDate","endDate","isLive","width","height","graphFlags","renderTooltip","forecast"]),D=A.showTooltip,M=A.advancedZoom,R=(0,u.If)().colorMode,C=(0,s.useRef)(null),F=(0,s.useRef)(),L=(0,s.useRef)(),_=(0,s.useRef)(),N=(0,s.useRef)(),J=(0,s.useRef)(),z=(0,s.useRef)(),P=(0,s.useRef)(),V=(0,s.useRef)(),X=(0,s.useRef)(),H=(0,s.useRef)(),Z=(0,s.useRef)(),G=(0,s.useRef)(),$=(0,s.useRef)(),K=(0,s.useRef)(c.YFb((function(t){return(0,c.ji_)(t.date)})).left),W=(0,s.useRef)(),Y=(0,s.useRef)(),B=(0,s.useRef)(),Q=(0,s.useRef)(),U=(0,o.Gc)(),q=E.isSmall||"base"===U||"sm"===U,tt=(0,s.useMemo)((function(){return{top:20,right:20,bottom:30,left:q?45:60}}),[q]),rt=(0,s.useMemo)((function(){var t=k-tt.left-tt.right;return t<0?0:t}),[tt,k]),et=(0,s.useMemo)((function(){var t=b-tt.top-tt.bottom;return t<0?0:t}),[tt,b]);(0,s.useEffect)((function(){return H.current=c.sPX().scaleExtent([1,500]).extent([[0,0],[rt,et]]).translateExtent([[0,-1/0],[rt,1/0]]).on("zoom",it),F.current=c.Ys(C.current),L.current=F.current.append("svg").attr("width",rt+tt.left+tt.right).attr("height",et+tt.top+tt.bottom).append("g").attr("transform","translate("+tt.left+","+tt.top+")"),_.current=c.Xf().range([0,rt]),J.current=c.BYU().range([et,0]),Z.current=_.current,V.current=L.current.append("clipPath").attr("id","clip-"+e).append("rect").attr("width",rt).attr("height",et),L.current.append("g").attr("class","xAxis").attr("transform","translate(0,"+et+")"),L.current.append("g").attr("class","yAxis"),L.current.append("g").attr("class","xGrid").attr("transform","translate(0,"+et+")"),L.current.append("g").attr("class","yGrid"),N.current=c.LLu(_.current),z.current=c.y4O(J.current),P.current=c.PKp().range(Array(30).fill(null).map((function(t,r){return(0,c.ICD)(3*r%30/30)}))).domain(a.K),X.current=L.current.append("g").attr("clip-path","url(#clip-".concat(e,")")).attr("id","lines"),D&&(W.current=L.current.append("g").attr("class","tooltip").style("padding","2px").style("background-color","red"),Y.current=W.current.append("line").style("stroke-width",1).style("stroke","light"===R?"black":"white"),B.current=F.current.append("div").style("display",null).style("position","absolute").style("pointer-events","none").style("padding","2px").style("background-color","lightgray").style("opacity",.9).style("color","black").style("z-index",3),B.current.append("p").style("font-size","0.9em"),B.current.append("ul").attr("class","scoreboard").style("font-size","0.75em").style("list-style-type","none")),function(){F.current.selectAll("*").remove()}}),[rt,et,S,D,M,R]);var nt=(0,s.useCallback)((function(t){if(h&&0!==h.length){var r=c.cx$(t),e=y(h).concat(y(T||[])),n=Z.current.invert(r[0]),u=K.current(e,n,1);if(!e[u])return W.current.style("opacity",0),void B.current.style("display","none");W.current.style("opacity",1),B.current.style("display","block");var o,i=Z.current((0,c.ji_)(e[u].date)),a=c.Xxj(e,(function(t){return null!==(o=t.rank)&&void 0!==o?o:0})).sort((function(t,r){return t[0]-r[0]})).map((function(t){var r=m(t,2),e=r[0],u=r[1];return[e,u[K.current(null!==u&&void 0!==u?u:[],n,1)]]})).filter((function(t){return!!t[1]}));Y.current.attr("y1",0).attr("y2",et).attr("x1",i).attr("x2",i);var s=c.cx$(t,F.current);B.current.selectAll("p").text(l.ou.fromJSDate(n).toFormat("HH:mm:ss DD")),B.current.style("left",s[0]+10+"px"),B.current.style("top",s[1]+"px");var d=B.current.select(".scoreboard").selectAll("li").data(a);I?I(d):(d.enter().append("li"),d.exit().remove(),d.text((function(t){return"T".concat((0,f.a)(t[0]),": ").concat(t[1].points)})));var p=W.current.selectAll("circle").data(a,(function(t){return t[0]}));p.enter().append("circle").attr("class","point").attr("tier",(function(t){return t[0]})).attr("r",4),p.exit().remove(),p.attr("fill",(function(t){return P.current(t[0])})).attr("cx",(function(t){return Z.current((0,c.ji_)(t[1].date))})).attr("cy",(function(t){return G.current(t[1].points)}))}}),[et,h,T,R]);(0,s.useEffect)((function(){return Q.current=L.current.append("rect").style("fill","none").style("pointer-events","all").attr("width",rt).attr("height",et),D&&Q.current.on("mousemove",(function(t){nt(t)})).on("mouseout",r),S||Q.current.call(H.current),function(){Q.current.remove()}}),[rt,et,nt,D,M]);var ut=(0,s.useCallback)((function(){if(Z.current=$.current.rescaleX(_.current),N.current=c.LLu(Z.current),M){var t=Z.current.domain(),r=y(h).concat(y(T||[])).filter((function(r){return l.ou.fromISO(r.date).toJSDate()>=t[0]&&l.ou.fromISO(r.date).toJSDate()<=t[1]})),e=[c.VV$(r,(function(t){return t.points})),c.Fp7(r,(function(t){return t.points}))];G.current=J.current.domain(e),z.current=c.y4O(G.current)}}),[h,M,T]),ot=(0,s.useCallback)((function(t){var r=void 0!==t&&t;L.current.select(".xGrid").attr("color","light"===R?"gray":"white").transition().duration(r?v:0).call(c.LLu(Z.current).tickSize(-et).tickFormat((function(){return""}))),L.current.select(".yGrid").attr("color","light"===R?"gray":"white").transition().duration(r?v:0).call(c.y4O(G.current).tickSize(-rt).tickFormat((function(){return""}))),L.current.select(".xAxis").transition().duration(r?v:0).call(N.current),L.current.select(".yAxis").transition().duration(r?v:0).call(q?z.current.tickFormat((function(t){return(0,f.a)(t)})):z.current)}),[et,rt,q,R]),it=(0,s.useCallback)((function(t){var r,e;$.current=t.transform,null===(r=W.current)||void 0===r||r.style("opacity",0),null===(e=B.current)||void 0===e||e.style("display","none"),ut(),ot(),X.current.selectAll("path.line").attr("d",(function(t){return c.jvg().x((function(t){return Z.current((0,c.ji_)(t.date))})).y((function(t){return G.current(t.points)}))(t[1])})),X.current.selectAll("path.forecast").attr("d",(function(t){return c.jvg().x((function(t){return Z.current((0,c.ji_)(t.date))})).y((function(t){return G.current(t.points)}))(t[1])}))}),[ut,ot]);return(0,s.useEffect)((function(){var t=l.ou.now().plus({minutes:30}),r=l.ou.fromISO(x),e=l.ou.fromISO(g),n=S?x&&l.ou.now().minus({hour:3}).diff(r).as("second")<0?r.toJSDate():l.ou.now().minus({hour:3}).toJSDate():x||!h?r.toJSDate():c.VV$(h,(function(t){return(0,c.ji_)(t.date)})),u=l.ou.now().plus({minutes:30}).diff(e).as("seconds")>0||T?e:t,o=S&&e.diffNow().as("minute")<0?[r,e]:[n,u];_.current.domain(o);var i,a=[S&&e.diffNow().as("minute")<0?c.VV$(h.filter((function(t){return l.ou.fromISO(t.date).diff(l.ou.fromJSDate(n)).as("seconds")>0})),(function(t){return t.points})):0,h?c.Fp7((null===T||void 0===T?void 0:T.length)>0?T:h,(function(t){return t.points})):0];J.current.domain(a).nice(),$.current?ut():(Z.current=_.current,G.current=J.current),M||(Z.current=_.current,G.current=J.current),N.current=c.LLu(Z.current),z.current=c.y4O(G.current);var s=c.Xxj(null!==h&&void 0!==h?h:[],(function(t){return null!==(i=t.rank)&&void 0!==i?i:0})),f=X.current.selectAll("path").data(s,(function(t){return t[0]}));if(f.enter().append("path").attr("class","line").attr("tier",(function(t){return t[0]})).attr("fill","none").attr("stroke",(function(t){return P.current(t[0])})).attr("stroke-width",2),f.exit().remove(),(null===h||void 0===h?void 0:h.length)>50&&T){var d,p=X.current.selectAll("path.forecast").data(c.Xxj(T,(function(t){return null!==(d=t.rank)&&void 0!==d?d:0})),(function(t){return t[0]}));p.enter().append("path").attr("class","forecast").attr("tier",(function(t){return t[0]})).attr("fill","none").attr("stroke",(function(t){return P.current(Number(t[0]))})).style("stroke-dasharray","6 2").style("opacity",.8).attr("stroke-width",2),p.exit().remove(),X.current.selectAll("path.forecast").transition().attr("d",(function(t){return c.jvg().x((function(t){return Z.current((0,c.ji_)(t.date))})).y((function(t){return G.current(t.points)}))(t[1])}))}X.current.selectAll("path.line").transition().attr("d",(function(t){return c.jvg().x((function(t){return Z.current((0,c.ji_)(t.date))})).y((function(t){return G.current(t.points)}))(t[1])})),ot(!0)}),[h,rt,et,q,D,M,T,R]),0===rt&&0===et?(0,n.jsx)(d.L,{}):(0,n.jsx)(i.xu,{ref:C})}},6755:function(t,r,e){e.d(r,{X:function(){return n},K:function(){return u}});var n=[1,2,3,10,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4],u=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4]},7477:function(t,r,e){e.d(r,{B:function(){return d},Q:function(){return p}});var n=e(5893),u=e(6755),o=e(4012),i=e(3660),a=e(7294),c=e(5386),l=e(3688);function s(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,u=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(e.push(i.value),!r||e.length!==r);n=!0);}catch(c){u=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(u)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=.69,d=(0,a.createContext)({}),p=function(t){var r=t.points,e=t.children,p=(0,a.useContext)(l.V).points,m=(0,a.useState)([]),y=m[0],v=m[1],h=s((0,i._)("displayTier",u.X),2),x=h[0],g=h[1],w=(0,a.useState)([]),S=w[0],k=w[1],j=(0,a.useMemo)((function(){return r||p}),[r,p]);(0,a.useEffect)((function(){0===S.length&&j&&k(Array.from(new Set(j.map((function(t){return t.rank})))))}),[j]);var b=(0,a.useMemo)((function(){if(j)return x?y.length>0?j.filter((function(t){return y.some((function(r){return t.name&&(0,c.compareTwoStrings)(r,t.name)>f||t.description&&(0,c.compareTwoStrings)(r,t.description)>f||t.playerid&&(0,c.compareTwoStrings)(r,t.playerid)>f}))})).sort((function(t,r){return(0,o.Z)(t.date)>(0,o.Z)(r.date)?0:1})):j.filter((function(t){return x.includes(t.rank)})).sort((function(t,r){return(0,o.Z)(t.date)>(0,o.Z)(r.date)?0:1})):j}),[j,x,y]);return(0,n.jsx)(d.Provider,{value:{points:b,displayTier:x,setDisplayTier:g,allTiers:S,playerFilters:y,setPlayerFilters:v},children:e})}},3660:function(t,r,e){e.d(r,{_:function(){return i}});var n=e(7294);function u(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=r}var r,e,n;return r=t,(e=[{key:"value",get:function(){try{var t=localStorage.getItem(this.key);return null!==t?JSON.parse(t):null}catch(r){return null}},set:function(t){if(null!==t){var r=JSON.stringify(t);localStorage.setItem(this.key,r)}else localStorage.removeItem(this.key)}},{key:"clear",value:function(){localStorage.removeItem(this.key)}}])&&u(r.prototype,e),n&&u(r,n),t}(),i=function(t,r){var e=void 0===r?null:r,u=this,i=(0,n.useRef)(new o(t)),a=(0,n.useState)(e),c=a[0],l=a[1],s=function(t){var r="function"===typeof t?t.call(u,c):t;i.current.value=r,l(r)},f=function(t){return function(r){r.key===t&&l(JSON.parse(r.newValue||""))}};return(0,n.useEffect)((function(){s(i.current.value||e)}),[]),(0,n.useEffect)((function(){return window.addEventListener("storage",f(t)),function(){window.removeEventListener("storage",f(t))}}),[t]),[c,s]}},9867:function(t,r,e){e.d(r,{a:function(){return n}});var n=function(t){return t<1e3?"".concat(t):t<1e6?"".concat(Math.round(t/1e3*100)/100,"k"):"".concat(Math.round(t/1e6*100)/100,"M")}}}]);