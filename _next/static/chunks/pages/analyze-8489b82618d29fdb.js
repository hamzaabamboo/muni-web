(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{32426:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analyze",function(){return n(54742)}])},54742:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return y}});var t=n(85893),l=n(89154),o=n(99996),a=n(26597),i=n(28653),u=n(7005),c=n(93854),s=n(44173),f=n(67294),d=n(72484),h=n(71709),p=n(61724);function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,l,o=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);a=!0);}catch(u){i=!0,l=u}finally{try{a||null==n.return||n.return()}finally{if(i)throw l}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return v(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){(0,f.useContext)(p.G).lastUpdated;var e=m((0,s._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),r=e[0],n=e[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.M,{}),(0,t.jsx)(i.W,{}),(0,t.jsxs)(h.Q,{children:[(0,t.jsxs)(d.z,{children:[(0,t.jsx)(u.P,{graphFlags:r}),(0,t.jsx)(l.k,{})]}),(0,t.jsx)(a.Y,{graphFlags:r,setGraphFlags:n}),(0,t.jsx)(c.I,{})]})]})}},89154:function(e,r,n){"use strict";n.d(r,{k:function(){return s}});var t=n(85893),l=n(204),o=n(88911),a=n(18691),i=n(67294),u=n(72484),c=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],s=function(){var e=(0,i.useContext)(u.O),r=e.interval,n=e.setInterval;return(0,t.jsxs)(l.k,{flexDir:"column",children:[(0,t.jsx)(o.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,t.jsxs)(l.k,{flexDir:"row",alignItems:"center",children:[(0,t.jsx)(o.x,{mr:2,children:"Interval"}),(0,t.jsx)(a.P,{value:r,onChange:function(e){return n(Number(e.target.value))},children:c.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},26597:function(e,r,n){"use strict";n.d(r,{Y:function(){return u}});var t=n(85893),l=n(204),o=n(12104),a=n(88911);n(67294);function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var u=function(e){var r=e.graphFlags,n=e.setGraphFlags,u=e.forecastOptions,c=void 0!==u&&u,s=function(e){n((function(r){return function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){i(e,r,n[r])}))}return e}({},r,i({},e,!r[e]))}))};return(0,t.jsx)(l.k,{flexDir:"column",children:(0,t.jsxs)(l.k,{flexDir:"column",children:[(0,t.jsxs)(l.k,{children:[(0,t.jsx)(o.r,{isChecked:r.showTooltip,onChange:function(){return s("showTooltip")}}),(0,t.jsx)(a.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(l.k,{children:[(0,t.jsx)(o.r,{isChecked:r.advancedZoom,onChange:function(){return s("advancedZoom")}}),(0,t.jsx)(a.x,{ml:2,children:"Advanced Zoom"})]}),c&&(0,t.jsxs)(l.k,{children:[(0,t.jsx)(o.r,{isChecked:r.showForecast,onChange:function(){return s("showForecast")}}),(0,t.jsx)(a.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},28653:function(e,r,n){"use strict";n.d(r,{W:function(){return f}});var t=n(85893),l=n(204),o=n(96272),a=n(41664),i=n.n(a),u=n(11163),c=[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"},{label:"Player",url:"/en/player"}],s=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"},{label:"Other Leaderboards",url:"/leaderboards"}],f=function(e){var r=e.en,n=(0,u.useRouter)();return(0,t.jsx)(l.k,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(r?c:s).map((function(e){return(0,t.jsx)(o.z,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:n.pathname===e.url?"solid":"outline",fontSize:"lg",children:(0,t.jsx)(i(),{href:e.url,children:e.label})},e.url)}))})}},7005:function(e,r,n){"use strict";n.d(r,{P:function(){return d}});var t=n(85893),l=n(23100),o=n(67294),a=n(72484),i=n(92426),u=n(35277),c=n(63844);function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,l,o=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);a=!0);}catch(u){i=!0,l=u}finally{try{a||null==n.return||n.return()}finally{if(i)throw l}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return s(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var r=e.tier,n=e.graphFlags,s=(0,o.useContext)(a.O).rate,d=(0,o.useContext)(i.A).event,h=(0,o.useRef)(null),p=f((0,u.tH)(h),2),v=p[0],m=p[1],y=(0,o.useMemo)((function(){return null===s||void 0===s?void 0:s[r]}),[s,r]);return(0,t.jsx)(l.xu,{ref:h,minH:"300px",w:"full",children:(0,t.jsx)(c.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:v,height:m,graphFlags:null!==n&&void 0!==n?n:{advancedZoom:!1,showTooltip:!1},points:y||(s?Object.values(s).flatMap((function(e){return e})):[]),isSmall:!0})})}},93854:function(e,r,n){"use strict";n.d(r,{I:function(){return s}});var t=n(85893),l=n(204),o=n(96272),a=n(67294),i=n(71709);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var e=(0,a.useContext)(i.B),r=e.displayTier,n=e.setDisplayTier,u=e.allTiers,s=(0,a.useMemo)((function(){return[{label:"Select All",tiers:u},{label:"Clear",tiers:[]},{label:"< T10",tiers:u.filter((function(e){return e<=10}))},{label:"< T20",tiers:u.filter((function(e){return e<=20}))},{label:"< T100",tiers:u.filter((function(e){return e<=100}))},{label:"> T500",tiers:u.filter((function(e){return e>=500}))}]}),[u]);return(0,t.jsxs)(l.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(e){return(0,t.jsx)(o.z,{m:2,colorScheme:"blue",onClick:function(){return n(e.tiers)},children:e.label},e.label)})),u.sort((function(e,r){return e-r})).map((function(e){return(0,t.jsxs)(o.z,{m:2,colorScheme:(null===r||void 0===r?void 0:r.includes(e))?"green":"gray",onClick:function(){return function(e){if(null===r||void 0===r?void 0:r.includes(e))return n((function(r){return r.filter((function(r){return r!==e}))}));n((function(r){return c(r||[]).concat([e])}))}(e)},children:["T",e]},e)}))]})}},72484:function(e,r,n){"use strict";n.d(r,{O:function(){return f},z:function(){return d}});var t=n(85893),l=n(67294),o=n(35277),a=n(92426),i=n(58661),u=n(71709);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,l,o=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);a=!0);}catch(u){i=!0,l=u}finally{try{a||null==n.return||n.return()}finally{if(i)throw l}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return c(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,l.createContext)({}),d=function(e){var r=e.children,c=e.all,d=(0,l.useContext)(i.V).points,h=(0,l.useContext)(u.B).points,p=(0,l.useContext)(a.A).event,v=(0,l.useRef)(),m=(0,l.useState)(),y=m[0],b=m[1],x=(0,l.useState)(),g=x[0],j=x[1],w=s((0,o._)("groupInterval",36e5),2),S=w[0],A=w[1],C=(0,l.useMemo)((function(){return(c?d:h||d)||[]}),[d,h]),k=function(e){var r=e.data,n=r.rate,t=r.forecast;b(n),j(t)};return(0,l.useEffect)((function(){return v.current=new Worker(new URL(n.p+n.u(502),n.b),{type:void 0}),v.current.postMessage({points:C,interval:S,event:p}),v.current.onmessage=k,function(){return v.current.removeEventListener("message",k),v.current.terminate()}}),[C,S]),(0,t.jsx)(f.Provider,{value:{rate:y,forecast:g,interval:S,setInterval:A},children:r})}},11163:function(e,r,n){e.exports=n(80880)},18691:function(e,r,n){"use strict";n.d(r,{P:function(){return d}});var t=n(25432),l=n(35059),o=n(51337),a=n(85893),i=(0,l.G)((function(e,r){const{children:n,placeholder:l,className:i,...u}=e;return(0,a.jsxs)(o.m.select,{...u,ref:r,className:(0,t.cx)("chakra-select",i),children:[l&&(0,a.jsx)("option",{value:"",children:l}),n]})}));i.displayName="SelectField";var u=n(33529),c=n(54662),s=n(33179),f=n(67294);var d=(0,l.G)(((e,r)=>{var n;const l=(0,c.jC)("Select",e),{rootProps:f,placeholder:d,icon:h,color:p,height:m,h:y,minH:b,minHeight:x,iconColor:g,iconSize:j,...w}=(0,s.Lr)(e),[S,A]=function(e,r){const n={},t={};for(const[l,o]of Object.entries(e))r.includes(l)?n[l]=o:t[l]=o;return[n,t]}(w,s.oE),C=(0,u.Y)(A),k={width:"100%",height:"fit-content",position:"relative",color:p},_={paddingEnd:"2rem",...l.field,_focus:{zIndex:"unset",...null==(n=l.field)?void 0:n._focus}};return(0,a.jsxs)(o.m.div,{className:"chakra-select__wrapper",__css:k,...S,...f,children:[(0,a.jsx)(i,{ref:r,height:null!=y?y:m,minH:null!=b?b:x,placeholder:d,...C,__css:_,children:e.children}),(0,a.jsx)(v,{"data-disabled":(0,t.PB)(C.disabled),...(g||p)&&{color:g||p},__css:l.icon,...j&&{fontSize:j},children:h})]})}));d.displayName="Select";var h=e=>(0,a.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),p=(0,o.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),v=e=>{const{children:r=(0,a.jsx)(h,{}),...n}=e,t=(0,f.cloneElement)(r,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,a.jsx)(p,{...n,className:"chakra-select__icon-wrapper",children:(0,f.isValidElement)(r)?t:null})};v.displayName="SelectIcon"}},function(e){e.O(0,[664,881,492,453,423,774,888,179],(function(){return r=32426,e(e.s=r);var r}));var r=e.O();_N_E=r}]);