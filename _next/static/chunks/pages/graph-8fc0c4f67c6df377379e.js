(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645,179],{9122:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return w}});var t=r(5893),i=r(4121),o=r(7294),a=r(4115),s=r(8017),l=r(2974),u=r(3451),c=r(9490),d=r(9695),f=r.n(d),h=r(4263),p=r(8024),x=r(5277),g=r(258),j=r(9538),v=r(5492),m=r(184),b=r(9933);function w(){var e=(0,o.useContext)(u.G).lastUpdated,n=(0,o.useRef)(null),r=(0,x.tH)(n),d=(0,i.Z)(r,2),w=d[0],y=d[1],k=(0,v._)("graphFlags",{showTooltip:!1,advancedZoom:!1,showForecast:!1}),O=(0,i.Z)(k,2),C=O[0],F=O[1],S=(0,o.useMemo)((function(){var n=c.ou.fromJSDate(e).diffNow().as("milliseconds");return 0===n?"Just now":f()(n,{round:!0,largest:2})+" ago"}),[e]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.M,{}),(0,t.jsx)(p.W,{}),(0,t.jsxs)(a.x,{textAlign:"center",children:["Last Updated: ",S]}),(0,t.jsx)(m.Y,{graphFlags:C,setGraphFlags:F,forecastOptions:!0}),(0,t.jsx)(j.Q,{children:(0,t.jsxs)(b.z,{children:[(0,t.jsx)(s.xu,{ref:n,w:"full",h:"600px",children:(0,t.jsx)(g.q,{showForecast:C.showForecast,graphFlags:C,width:w,height:y})}),(0,t.jsx)(h.I,{})]})})]})}},184:function(e,n,r){"use strict";r.d(n,{Y:function(){return c}});var t=r(5893),i=r(6265),o=r(4096),a=r(980),s=r(4115);r(7294);function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var c=function(e){var n=e.graphFlags,r=e.setGraphFlags,l=e.forecastOptions,c=void 0!==l&&l,d=function(e){r((function(n){return u(u({},n),{},(0,i.Z)({},e,!n[e]))}))};return(0,t.jsx)(o.k,{flexDir:"column",children:(0,t.jsxs)(o.k,{flexDir:"column",children:[(0,t.jsxs)(o.k,{children:[(0,t.jsx)(a.Switch,{isChecked:n.showTooltip,onChange:function(){return d("showTooltip")}}),(0,t.jsx)(s.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(o.k,{children:[(0,t.jsx)(a.Switch,{isChecked:n.advancedZoom,onChange:function(){return d("advancedZoom")}}),(0,t.jsx)(s.x,{ml:2,children:"Advanced Zoom"})]}),c&&(0,t.jsxs)(o.k,{children:[(0,t.jsx)(a.Switch,{isChecked:n.showForecast,onChange:function(){return d("showForecast")}}),(0,t.jsx)(s.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},8024:function(e,n,r){"use strict";r.d(n,{W:function(){return l}});var t=r(5893),i=r(4096),o=r(8017),a=r(1664),s=r(1163),l=function(){var e=(0,s.useRouter)();return(0,t.jsxs)(i.k,{py:2,justifyContent:["center","start"],children:[(0,t.jsx)(o.xu,{mx:4,p:2,rounded:"md",bg:"/"===e.pathname?"gray.200":"transparent",color:"/"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(a.default,{href:"/",children:"Muniboard"})}),(0,t.jsx)(o.xu,{mx:4,p:2,rounded:"md",bg:"/graph"===e.pathname?"gray.200":"transparent",color:"/graph"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(a.default,{href:"/graph",children:"Graph"})}),(0,t.jsx)(o.xu,{mx:4,p:2,rounded:"md",bg:"/analyze"===e.pathname?"gray.200":"transparent",color:"/analyze"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(a.default,{href:"/analyze",children:"Analyze"})}),(0,t.jsx)(o.xu,{mx:4,p:2,rounded:"md",bg:"/live"===e.pathname?"gray.200":"transparent",color:"/live"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(a.default,{href:"/live",children:"Live View"})})]})}},258:function(e,n,r){"use strict";r.d(n,{q:function(){return u}});var t=r(5893),i=r(7294),o=r(9933),a=r(5837),s=r(9538),l=r(7251),u=function(e){var n=e.width,r=e.height,u=e.isSmall,c=void 0!==u&&u,d=e.isLive,f=void 0!==d&&d,h=e.graphFlags,p=e.showForecast,x=void 0!==p&&p,g=(0,i.useContext)(s.B),j=g.points,v=g.displayTier,m=(0,i.useContext)(a.A).event,b=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(l.k,{id:"score",points:j,startDate:null===m||void 0===m?void 0:m.startdate,endDate:null===m||void 0===m?void 0:m.enddate,width:n,height:r,isSmall:c,isLive:f,forecast:x&&(null===v||void 0===v?void 0:v.filter((function(e){return null===b||void 0===b?void 0:b[e]})).map((function(e){return b[e]})).flatMap((function(e){return e}))),graphFlags:h})}},4263:function(e,n,r){"use strict";r.d(n,{I:function(){return u}});var t=r(5893),i=r(9999),o=r(6185),a=r(4096),s=r(7294),l=r(9538),u=function(){var e=(0,s.useContext)(l.B),n=e.displayTier,r=e.setDisplayTier,u=e.allTiers,c=(0,s.useMemo)((function(){return[{label:"Select All",tiers:u},{label:"Clear",tiers:[]},{label:"< T10",tiers:u.filter((function(e){return e<=10}))},{label:"< T20",tiers:u.filter((function(e){return e<=20}))},{label:"< T100",tiers:u.filter((function(e){return e<=100}))},{label:"> T500",tiers:u.filter((function(e){return e>=500}))}]}),[u]);return(0,t.jsxs)(a.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[c.map((function(e){return(0,t.jsx)(o.z,{m:2,bg:"blue.200",onClick:function(){return r(e.tiers)},children:e.label},e.label)})),u.sort((function(e,n){return e-n})).map((function(e){return(0,t.jsxs)(o.z,{m:2,bg:null!==n&&void 0!==n&&n.includes(e)?"green.200":"gray.200",onClick:function(){return function(e){if(null!==n&&void 0!==n&&n.includes(e))return r((function(n){return n.filter((function(n){return n!==e}))}));r((function(n){return[].concat((0,i.Z)(n),[e])}))}(e)},children:["T",e]},e)}))]})}},9439:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graph",function(){return r(9122)}])},4453:function(){}},function(e){e.O(0,[774,809,351,263,433,568,639,321,11,337,162],(function(){return n=9439,e(e.s=n);var n}));var n=e.O();_N_E=n}]);