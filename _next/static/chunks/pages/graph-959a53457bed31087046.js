(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634,179],{9122:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return m}});var t=r(5893),i=r(4121),o=r(7294),u=r(4115),s=r(8017),l=r(2974),c=r(3451),a=r(9490),f=r(9695),d=r.n(f),h=r(4263),p=r(8024),x=r(5277),v=r(258),j=r(9538),g=r(5492),w=r(184),b=r(9933);function m(){var e=(0,o.useContext)(c.G).lastUpdated,n=(0,o.useRef)(null),r=(0,x.tH)(n),f=(0,i.Z)(r,2),m=f[0],O=f[1],y=(0,g._)("graphFlags",{showTooltip:!1,advancedZoom:!1,showForecast:!1}),k=(0,i.Z)(y,2),C=k[0],F=k[1],S=(0,o.useMemo)((function(){var n=a.ou.fromJSDate(e).diffNow().as("milliseconds");return 0===n?"Just now":d()(n,{round:!0,largest:2})+" ago"}),[e]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.M,{}),(0,t.jsx)(p.W,{}),(0,t.jsxs)(u.x,{textAlign:"center",children:["Last Updated: ",S]}),(0,t.jsx)(w.Y,{graphFlags:C,setGraphFlags:F,forecastOptions:!0}),(0,t.jsx)(j.Q,{children:(0,t.jsxs)(b.z,{children:[(0,t.jsx)(s.xu,{ref:n,w:"full",h:"600px",children:(0,t.jsx)(v.q,{showForecast:C.showForecast,graphFlags:C,width:m,height:O})}),(0,t.jsx)(h.I,{})]})})]})}},184:function(e,n,r){"use strict";r.d(n,{Y:function(){return a}});var t=r(5893),i=r(6265),o=r(4096),u=r(980),s=r(4115);r(7294);function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var a=function(e){var n=e.graphFlags,r=e.setGraphFlags,l=e.forecastOptions,a=void 0!==l&&l,f=function(e){r((function(n){return c(c({},n),{},(0,i.Z)({},e,!n[e]))}))};return(0,t.jsx)(o.k,{flexDir:"column",children:(0,t.jsxs)(o.k,{flexDir:"column",children:[(0,t.jsxs)(o.k,{children:[(0,t.jsx)(u.Switch,{isChecked:n.showTooltip,onChange:function(){return f("showTooltip")}}),(0,t.jsx)(s.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(o.k,{children:[(0,t.jsx)(u.Switch,{isChecked:n.advancedZoom,onChange:function(){return f("advancedZoom")}}),(0,t.jsx)(s.x,{ml:2,children:"Advanced Zoom"})]}),a&&(0,t.jsxs)(o.k,{children:[(0,t.jsx)(u.Switch,{isChecked:n.showForecast,onChange:function(){return f("showForecast")}}),(0,t.jsx)(s.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},8024:function(e,n,r){"use strict";r.d(n,{W:function(){return c}});var t=r(5893),i=r(4096),o=r(6185),u=r(1664),s=r(1163),l=(r(7294),[{label:"Muniboard",url:"/"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"}]),c=function(){var e=(0,s.useRouter)();return(0,t.jsx)(i.k,{py:2,justifyContent:["center","start"],children:l.map((function(n){return(0,t.jsx)(o.z,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:e.pathname===n.url?"solid":"outline",fontSize:"lg",children:(0,t.jsx)(u.default,{href:n.url,children:n.label})},n.url)}))})}},258:function(e,n,r){"use strict";r.d(n,{q:function(){return c}});var t=r(5893),i=r(7294),o=r(9933),u=r(5837),s=r(9538),l=r(7251),c=function(e){var n=e.width,r=e.height,c=e.isSmall,a=void 0!==c&&c,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,p=e.showForecast,x=void 0!==p&&p,v=(0,i.useContext)(s.B),j=v.points,g=v.displayTier,w=(0,i.useContext)(u.A).event,b=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(l.k,{id:"score",points:j,startDate:null===w||void 0===w?void 0:w.startdate,endDate:null===w||void 0===w?void 0:w.enddate,width:n,height:r,isSmall:a,isLive:d,forecast:x&&(null===g||void 0===g?void 0:g.filter((function(e){return null===b||void 0===b?void 0:b[e]})).map((function(e){return b[e]})).flatMap((function(e){return e}))),graphFlags:h})}},4263:function(e,n,r){"use strict";r.d(n,{I:function(){return c}});var t=r(5893),i=r(9999),o=r(6185),u=r(4096),s=r(7294),l=r(9538),c=function(){var e=(0,s.useContext)(l.B),n=e.displayTier,r=e.setDisplayTier,c=e.allTiers,a=(0,s.useMemo)((function(){return[{label:"Select All",tiers:c},{label:"Clear",tiers:[]},{label:"< T10",tiers:c.filter((function(e){return e<=10}))},{label:"< T20",tiers:c.filter((function(e){return e<=20}))},{label:"< T100",tiers:c.filter((function(e){return e<=100}))},{label:"> T500",tiers:c.filter((function(e){return e>=500}))}]}),[c]);return(0,t.jsxs)(u.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[a.map((function(e){return(0,t.jsx)(o.z,{m:2,colorScheme:"blue",onClick:function(){return r(e.tiers)},children:e.label},e.label)})),c.sort((function(e,n){return e-n})).map((function(e){return(0,t.jsxs)(o.z,{m:2,colorScheme:null!==n&&void 0!==n&&n.includes(e)?"green":"gray",onClick:function(){return function(e){if(null!==n&&void 0!==n&&n.includes(e))return r((function(n){return n.filter((function(n){return n!==e}))}));r((function(n){return[].concat((0,i.Z)(n||[]),[e])}))}(e)},children:["T",e]},e)}))]})}},9439:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graph",function(){return r(9122)}])},4453:function(){}},function(e){e.O(0,[774,809,351,659,433,648,740,321,277,364,337,162],(function(){return n=9439,e(e.s=n);var n}));var n=e.O();_N_E=n}]);