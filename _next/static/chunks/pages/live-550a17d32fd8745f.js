(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{8502:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return e(4917)}])},4917:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return j}});var t=e(5893),i=e(7294),o=e(8527),l=e(5117),u=e(2787),s=e(4210),c=e(5277),a=e(1633),f=e(6701),d=e(277),h=e(7477),x=e(3660),v=e(8889),p=e(8987);function m(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=[],t=!0,i=!1,o=void 0;try{for(var l,u=n[Symbol.iterator]();!(t=(l=u.next()).done)&&(e.push(l.value),!r||e.length!==r);t=!0);}catch(s){i=!0,o=s}finally{try{t||null==u.return||u.return()}finally{if(i)throw o}}return e}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(){var n=(0,i.useRef)(null),r=m((0,c.tH)(n),2),e=r[0],j=r[1],g=(0,i.useState)(),w=g[0],b=g[1],y=m((0,x._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),C=y[0],k=y[1];return(0,t.jsxs)(o.kC,{flexDir:"column",h:"full",px:2,children:[(0,t.jsx)(l.M,{}),(0,t.jsx)(s.W,{}),(0,t.jsxs)(o.kC,{flex:"1",w:"full",flexDirection:["column",null,"row"],alignItems:"stretch",minH:"500px",children:[(0,t.jsx)(o.xu,{flex:"1",children:(0,t.jsxs)(h.Q,{children:[(0,t.jsx)(o.xu,{ref:n,h:"full",minH:"400px",maxH:"600px",children:(0,t.jsx)(f.q,{width:e,height:j,isSmall:!0,isLive:!0,graphFlags:C})}),(0,t.jsx)(v.Y,{graphFlags:C,setGraphFlags:k}),(0,t.jsx)(u.I,{})]})}),(0,t.jsxs)(o.xu,{px:"8",flex:"1",children:[(0,t.jsx)(a.s,{isSmall:!0,onTierSelected:function(n){return b(n)}}),(0,t.jsx)(p.z,{children:(0,t.jsx)(h.Q,{children:(0,t.jsx)(d.z,{tier:w,onClose:function(){return b(void 0)}})})})]})]})]})}},8889:function(n,r,e){"use strict";e.d(r,{Y:function(){return u}});var t=e(5893),i=e(8527),o=e(9033);e(7294);function l(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}var u=function(n){var r=n.graphFlags,e=n.setGraphFlags,u=n.forecastOptions,s=void 0!==u&&u,c=function(n){e((function(r){return function(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),t.forEach((function(r){l(n,r,e[r])}))}return n}({},r,l({},n,!r[n]))}))};return(0,t.jsx)(i.kC,{flexDir:"column",children:(0,t.jsxs)(i.kC,{flexDir:"column",children:[(0,t.jsxs)(i.kC,{children:[(0,t.jsx)(o.r,{isChecked:r.showTooltip,onChange:function(){return c("showTooltip")}}),(0,t.jsx)(i.xv,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(i.kC,{children:[(0,t.jsx)(o.r,{isChecked:r.advancedZoom,onChange:function(){return c("advancedZoom")}}),(0,t.jsx)(i.xv,{ml:2,children:"Advanced Zoom"})]}),s&&(0,t.jsxs)(i.kC,{children:[(0,t.jsx)(o.r,{isChecked:r.showForecast,onChange:function(){return c("showForecast")}}),(0,t.jsx)(i.xv,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},6701:function(n,r,e){"use strict";e.d(r,{q:function(){return c}});var t=e(5893),i=e(7294),o=e(8987),l=e(4517),u=e(7477),s=e(6453),c=function(n){var r=n.width,e=n.height,c=n.isSmall,a=void 0!==c&&c,f=n.isLive,d=void 0!==f&&f,h=n.graphFlags,x=n.showForecast,v=void 0!==x&&x,p=(0,i.useContext)(u.B),m=p.points,j=p.displayTier,g=(0,i.useContext)(l.A).event,w=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(s.k,{id:"score",points:m,startDate:null===g||void 0===g?void 0:g.startdate,endDate:null===g||void 0===g?void 0:g.enddate,width:r,height:e,isSmall:a,isLive:d,forecast:v&&(null===j||void 0===j?void 0:j.filter((function(n){return null===w||void 0===w?void 0:w[n]})).map((function(n){return w[n]})).flatMap((function(n){return n}))),graphFlags:h})}},2787:function(n,r,e){"use strict";e.d(r,{I:function(){return c}});var t=e(5893),i=e(5193),o=e(8527),l=e(7294),u=e(7477);function s(n){return function(n){if(Array.isArray(n)){for(var r=0,e=new Array(n.length);r<n.length;r++)e[r]=n[r];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(){var n=(0,l.useContext)(u.B),r=n.displayTier,e=n.setDisplayTier,c=n.allTiers,a=(0,l.useMemo)((function(){return[{label:"Select All",tiers:c},{label:"Clear",tiers:[]},{label:"< T10",tiers:c.filter((function(n){return n<=10}))},{label:"< T20",tiers:c.filter((function(n){return n<=20}))},{label:"< T100",tiers:c.filter((function(n){return n<=100}))},{label:"> T500",tiers:c.filter((function(n){return n>=500}))}]}),[c]);return(0,t.jsxs)(o.kC,{w:"full",flexWrap:"wrap",mx:"auto",children:[a.map((function(n){return(0,t.jsx)(i.zx,{m:2,colorScheme:"blue",onClick:function(){return e(n.tiers)},children:n.label},n.label)})),c.sort((function(n,r){return n-r})).map((function(n){return(0,t.jsxs)(i.zx,{m:2,colorScheme:(null===r||void 0===r?void 0:r.includes(n))?"green":"gray",onClick:function(){return function(n){if(null===r||void 0===r?void 0:r.includes(n))return e((function(r){return r.filter((function(r){return r!==n}))}));e((function(r){return s(r||[]).concat([n])}))}(n)},children:["T",n]},n)}))]})}}},function(n){n.O(0,[484,653,205,337,753,59,696,359,774,888,179],(function(){return r=8502,n(n.s=r);var r}));var r=n.O();_N_E=r}]);