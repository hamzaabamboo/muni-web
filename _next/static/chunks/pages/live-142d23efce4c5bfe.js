(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{3292:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return e(6675)}])},6675:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return b}});var t=e(5893),i=e(7294),o=e(8527),l=e(9996),u=e(3854),a=e(8653),c=e(5277),s=e(6044),f=e(7964),d=e(4789),h=e(1709),x=e(4173),p=e(6597),v=e(2484);function m(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function y(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,i,o=[],l=!0,u=!1;try{for(e=e.call(r);!(l=(t=e.next()).done)&&(o.push(t.value),!n||o.length!==n);l=!0);}catch(a){u=!0,i=a}finally{try{l||null==e.return||e.return()}finally{if(u)throw i}}return o}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return m(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return m(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(){var r=(0,i.useRef)(null),n=y((0,c.tH)(r),2),e=n[0],m=n[1],b=(0,i.useState)(),j=b[0],g=b[1],w=y((0,x._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),C=w[0],S=w[1];return(0,t.jsxs)(o.kC,{flexDir:"column",h:"full",px:2,children:[(0,t.jsx)(l.M,{}),(0,t.jsx)(a.W,{}),(0,t.jsxs)(o.kC,{flex:"1",w:"full",flexDirection:["column",null,"row"],alignItems:"stretch",minH:"500px",children:[(0,t.jsx)(o.xu,{flex:"1",children:(0,t.jsxs)(h.Q,{children:[(0,t.jsx)(o.xu,{ref:r,h:"full",minH:"400px",maxH:"600px",children:(0,t.jsx)(f.q,{width:e,height:m,isSmall:!0,isLive:!0,graphFlags:C})}),(0,t.jsx)(p.Y,{graphFlags:C,setGraphFlags:S}),(0,t.jsx)(u.I,{})]})}),(0,t.jsxs)(o.xu,{px:"8",flex:"1",children:[(0,t.jsx)(s.s,{isSmall:!0,onTierSelected:function(r){return g(r)}}),(0,t.jsx)(v.z,{children:(0,t.jsx)(h.Q,{children:(0,t.jsx)(d.z,{tier:j,onClose:function(){return g(void 0)}})})})]})]})]})}},6597:function(r,n,e){"use strict";e.d(n,{Y:function(){return u}});var t=e(5893),i=e(8527),o=e(9033);e(7294);function l(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}var u=function(r){var n=r.graphFlags,e=r.setGraphFlags,u=r.forecastOptions,a=void 0!==u&&u,c=function(r){e((function(n){return function(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})))),t.forEach((function(n){l(r,n,e[n])}))}return r}({},n,l({},r,!n[r]))}))};return(0,t.jsx)(i.kC,{flexDir:"column",children:(0,t.jsxs)(i.kC,{flexDir:"column",children:[(0,t.jsxs)(i.kC,{children:[(0,t.jsx)(o.r,{isChecked:n.showTooltip,onChange:function(){return c("showTooltip")}}),(0,t.jsx)(i.xv,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(i.kC,{children:[(0,t.jsx)(o.r,{isChecked:n.advancedZoom,onChange:function(){return c("advancedZoom")}}),(0,t.jsx)(i.xv,{ml:2,children:"Advanced Zoom"})]}),a&&(0,t.jsxs)(i.kC,{children:[(0,t.jsx)(o.r,{isChecked:n.showForecast,onChange:function(){return c("showForecast")}}),(0,t.jsx)(i.xv,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},7964:function(r,n,e){"use strict";e.d(n,{q:function(){return c}});var t=e(5893),i=e(7294),o=e(2484),l=e(2426),u=e(1709),a=e(3844),c=function(r){var n=r.width,e=r.height,c=r.isSmall,s=void 0!==c&&c,f=r.isLive,d=void 0!==f&&f,h=r.graphFlags,x=r.showForecast,p=void 0!==x&&x,v=(0,i.useContext)(u.B),m=v.points,y=v.displayTier,b=(0,i.useContext)(l.A).event,j=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(a.k,{id:"score",points:m,startDate:null===b||void 0===b?void 0:b.startdate,endDate:null===b||void 0===b?void 0:b.enddate,width:n,height:e,isSmall:s,isLive:d,forecast:p&&(null===y||void 0===y?void 0:y.filter((function(r){return null===j||void 0===j?void 0:j[r]})).map((function(r){return j[r]})).flatMap((function(r){return r}))),graphFlags:h})}},3854:function(r,n,e){"use strict";e.d(n,{I:function(){return s}});var t=e(5893),i=e(5193),o=e(8527),l=e(7294),u=e(1709);function a(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function c(r){return function(r){if(Array.isArray(r))return a(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"===typeof r)return a(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var r=(0,l.useContext)(u.B),n=r.displayTier,e=r.setDisplayTier,a=r.allTiers,s=(0,l.useMemo)((function(){return[{label:"Select All",tiers:a},{label:"Clear",tiers:[]},{label:"< T10",tiers:a.filter((function(r){return r<=10}))},{label:"< T20",tiers:a.filter((function(r){return r<=20}))},{label:"< T100",tiers:a.filter((function(r){return r<=100}))},{label:"> T500",tiers:a.filter((function(r){return r>=500}))}]}),[a]);return(0,t.jsxs)(o.kC,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(r){return(0,t.jsx)(i.zx,{m:2,colorScheme:"blue",onClick:function(){return e(r.tiers)},children:r.label},r.label)})),a.sort((function(r,n){return r-n})).map((function(r){return(0,t.jsxs)(i.zx,{m:2,colorScheme:(null===n||void 0===n?void 0:n.includes(r))?"green":"gray",onClick:function(){return function(r){if(null===n||void 0===n?void 0:n.includes(r))return e((function(n){return n.filter((function(n){return n!==r}))}));e((function(n){return c(n||[]).concat([r])}))}(r)},children:["T",r]},r)}))]})}}},function(r){r.O(0,[664,484,653,205,410,143,553,423,759,774,888,179],(function(){return n=3292,r(r.s=n);var n}));var n=r.O();_N_E=n}]);