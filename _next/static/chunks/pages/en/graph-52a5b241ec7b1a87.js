(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{4849:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/en/graph",function(){return t(1199)}])},1199:function(r,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return w},default:function(){return S}});var n=t(2086),o=t(3236),u=t(8510),i=t(1535),a=t(3973),l=t(7570),s=t(652),c=t(1879),f=t.n(c),d=t(7883),h=t(6509),p=t(4285),v=t(9637),m=t(8263),y=t(1671),b=t(7335),g=t(9320);function x(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function j(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,u=[],i=!0,a=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(u.push(n.value),!e||u.length!==e);i=!0);}catch(l){a=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return u}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return x(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=!0;function S(){var r=(0,o.useContext)(l.G).lastUpdated,e=(0,o.useRef)(null),t=j((0,p.tH)(e),2),c=t[0],x=t[1],w=j((0,y._)("graphFlags",{showTooltip:!1,advancedZoom:!1,showForecast:!1}),2),S=w[0],A=w[1],C=(0,o.useMemo)((function(){var e=s.ou.fromJSDate(r).diffNow().as("milliseconds");return 0===e?"Just now":f()(e,{round:!0,largest:2})+" ago"}),[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.M,{}),(0,n.jsx)(h.W,{en:!0}),(0,n.jsxs)(u.x,{textAlign:"center",children:["Last Updated: ",C]}),(0,n.jsx)(b.Y,{graphFlags:S,setGraphFlags:A,forecastOptions:!0}),(0,n.jsx)(m.Q,{children:(0,n.jsxs)(g.z,{children:[(0,n.jsx)(i.x,{ref:e,w:"full",h:"600px",children:(0,n.jsx)(v.q,{showForecast:S.showForecast,graphFlags:S,width:c,height:x})}),(0,n.jsx)(d.I,{})]})})]})}},7335:function(r,e,t){"use strict";t.d(e,{Y:function(){return l}});var n=t(2086),o=t(2226),u=t(3458),i=t(8510);t(3236);function a(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var l=function(r){var e=r.graphFlags,t=r.setGraphFlags,l=r.forecastOptions,s=void 0!==l&&l,c=function(r){t((function(e){return function(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),n.forEach((function(e){a(r,e,t[e])}))}return r}({},e,a({},r,!e[r]))}))};return(0,n.jsx)(o.k,{flexDir:"column",children:(0,n.jsxs)(o.k,{flexDir:"column",children:[(0,n.jsxs)(o.k,{children:[(0,n.jsx)(u.r,{isChecked:e.showTooltip,onChange:function(){return c("showTooltip")}}),(0,n.jsx)(i.x,{ml:2,children:"Show Details on hover"})]}),(0,n.jsxs)(o.k,{children:[(0,n.jsx)(u.r,{isChecked:e.advancedZoom,onChange:function(){return c("advancedZoom")}}),(0,n.jsx)(i.x,{ml:2,children:"Advanced Zoom"})]}),s&&(0,n.jsxs)(o.k,{children:[(0,n.jsx)(u.r,{isChecked:e.showForecast,onChange:function(){return c("showForecast")}}),(0,n.jsx)(i.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},6509:function(r,e,t){"use strict";t.d(e,{W:function(){return f}});var n=t(2086),o=t(2226),u=t(6393),i=t(8521),a=t.n(i),l=t(4694),s=[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"},{label:"Player",url:"/en/player"}],c=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"},{label:"Other Leaderboards",url:"/leaderboards"}],f=function(r){var e=r.en,t=(0,l.useRouter)();return(0,n.jsx)(o.k,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(e?s:c).map((function(r){return(0,n.jsx)(u.z,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:t.pathname===r.url?"solid":"outline",fontSize:"lg",children:(0,n.jsx)(a(),{href:r.url,children:r.label})},r.url)}))})}},9637:function(r,e,t){"use strict";t.d(e,{q:function(){return s}});var n=t(2086),o=t(3236),u=t(9320),i=t(7576),a=t(8263),l=t(4155),s=function(r){var e=r.width,t=r.height,s=r.isSmall,c=void 0!==s&&s,f=r.isLive,d=void 0!==f&&f,h=r.graphFlags,p=r.showForecast,v=void 0!==p&&p,m=(0,o.useContext)(a.B),y=m.points,b=m.displayTier,g=(0,o.useContext)(i.A).event,x=(0,o.useContext)(u.O).forecast;return(0,n.jsx)(l.k,{id:"score",points:y,startDate:null===g||void 0===g?void 0:g.startdate,endDate:null===g||void 0===g?void 0:g.enddate,width:e,height:t,isSmall:c,isLive:d,forecast:v&&(null===b||void 0===b?void 0:b.filter((function(r){return null===x||void 0===x?void 0:x[r]})).map((function(r){return x[r]})).flatMap((function(r){return r}))),graphFlags:h})}},7883:function(r,e,t){"use strict";t.d(e,{I:function(){return c}});var n=t(2086),o=t(2226),u=t(6393),i=t(3236),a=t(8263);function l(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function s(r){return function(r){if(Array.isArray(r))return l(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"===typeof r)return l(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=function(){var r=(0,i.useContext)(a.B),e=r.displayTier,t=r.setDisplayTier,l=r.allTiers,c=(0,i.useMemo)((function(){return[{label:"Select All",tiers:l},{label:"Clear",tiers:[]},{label:"< T10",tiers:l.filter((function(r){return r<=10}))},{label:"< T20",tiers:l.filter((function(r){return r<=20}))},{label:"< T100",tiers:l.filter((function(r){return r<=100}))},{label:"> T500",tiers:l.filter((function(r){return r>=500}))}]}),[l]);return(0,n.jsxs)(o.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[c.map((function(r){return(0,n.jsx)(u.z,{m:2,colorScheme:"blue",onClick:function(){return t(r.tiers)},children:r.label},r.label)})),l.sort((function(r,e){return r-e})).map((function(r){return(0,n.jsxs)(u.z,{m:2,colorScheme:(null===e||void 0===e?void 0:e.includes(r))?"green":"gray",onClick:function(){return function(r){if(null===e||void 0===e?void 0:e.includes(r))return t((function(e){return e.filter((function(e){return e!==r}))}));t((function(e){return s(e||[]).concat([r])}))}(r)},children:["T",r]},r)}))]})}},9320:function(r,e,t){"use strict";t.d(e,{O:function(){return f},z:function(){return d}});var n=t(2086),o=t(3236),u=t(4285),i=t(7576),a=t(6847),l=t(8263);function s(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function c(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,u=[],i=!0,a=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(u.push(n.value),!e||u.length!==e);i=!0);}catch(l){a=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return u}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return s(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,o.createContext)({}),d=function(r){var e=r.children,s=r.all,d=(0,o.useContext)(a.V).points,h=(0,o.useContext)(l.B).points,p=(0,o.useContext)(i.A).event,v=(0,o.useRef)(),m=(0,o.useState)(),y=m[0],b=m[1],g=(0,o.useState)(),x=g[0],j=g[1],w=c((0,u._)("groupInterval",36e5),2),S=w[0],A=w[1],C=(0,o.useMemo)((function(){return(s?d:h||d)||[]}),[d,h]),O=function(r){var e=r.data,t=e.rate,n=e.forecast;b(t),j(n)};return(0,o.useEffect)((function(){return v.current=new Worker(new URL(t.p+t.u(420),t.b),{type:void 0}),v.current.postMessage({points:C,interval:S,event:p}),v.current.onmessage=O,function(){return v.current.removeEventListener("message",O),v.current.terminate()}}),[C,S]),(0,n.jsx)(f.Provider,{value:{rate:y,forecast:x,interval:S,setInterval:A},children:e})}},4694:function(r,e,t){r.exports=t(6616)}},function(r){r.O(0,[521,840,616,879,799,774,888,179],(function(){return e=4849,r(r.s=e);var e}));var e=r.O();_N_E=e}]);