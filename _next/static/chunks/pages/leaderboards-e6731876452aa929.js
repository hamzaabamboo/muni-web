(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{1497:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboards",function(){return t(3755)}])},3755:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var r=t(5893),o=t(8527),i=t(5117),a=t(2684),u=t(9042),l=t(6755),s=t(7294),c=t(8520),d=t.n(c),f=t(1845),x=t(8743),h=t(3243);function m(e,n,t,r,o,i,a){try{var u=e[i](a),l=u.value}catch(s){return void t(s)}u.done?n(l):Promise.resolve(l).then(r,o)}var v=(0,s.createContext)({}),b=function(e){var n=e.lbData,t=e.children,o=(0,s.useContext)(h.S).server,i=(0,s.useState)(),a=i[0],u=i[1],l=(0,s.useState)(),c=l[0],b=l[1],j=(0,s.useState)(),p=j[0],y=j[1],g=(0,s.useState)(2e4)[0];return(0,s.useEffect)((function(){if(!n&&a){var e,t=!1;return(e=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=15;break}return e.prev=1,e.next=4,(0,f.N)(o)(a);case 4:if(n=e.sent,!t){e.next=7;break}return e.abrupt("break",15);case 7:b(n),y(new Date);case 9:return e.prev=9,e.next=12,(0,x._)(g);case 12:return e.finish(9);case 13:e.next=0;break;case 15:case"end":return e.stop()}}),e,null,[[1,,9,13]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){m(i,r,o,a,u,"next",e)}function u(e){m(i,r,o,a,u,"throw",e)}a(void 0)}))})(),function(){t=!0}}}),[g,o,a]),(0,s.useEffect)((function(){b([])}),[o]),(0,r.jsx)(v.Provider,{value:{lbData:c,lastUpdated:p,lbConfig:a,setLbConfig:u},children:t})},j=t(9867),p=t(6832),y=t(8203),g=t(1213);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}var O=function(e){var n=e.isSmall,t=(e.title,e.onTierSelected),i=(0,a.Gc)(),c=(0,s.useContext)(v).lbData;if(!c)return(0,r.jsx)(y.L,{});var d=n||"base"===i||"sm"===i,f=d&&{display:"none"};return(0,r.jsx)(o.kC,{flexDir:"column",children:(0,r.jsxs)(u.iA,{size:"sm",children:[(0,r.jsx)(u.hr,{children:(0,r.jsxs)(u.Tr,{children:[(0,r.jsx)(u.Th,{textAlign:"center",children:"Rank"}),(0,r.jsx)(u.Th,{children:"Name"}),(0,r.jsx)(u.Th,{children:"Points"}),(0,r.jsx)(u.Th,w({textAlign:"end"},f,{children:"Gap"})),(0,r.jsx)(u.Th,{children:"Last Updated"})]})}),(0,r.jsx)(u.p3,{children:c.map((function(e,n,i){var a;return(0,r.jsxs)(u.Tr,{borderBottom:l.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===t||void 0===t?void 0:t(e.rank)},children:[(0,r.jsx)(u.Td,{textAlign:"center",children:(0,r.jsx)(g.K,{tier:e.rank,children:d?(0,j.a)(e.rank):e.rank})}),(0,r.jsxs)(u.Td,{children:[(0,r.jsx)(o.xv,{fontSize:d?"sm":"md",overflow:d?"ellipsis":"unset",children:e.name}),(0,r.jsx)(o.xv,w({fontSize:"xs"},f,{children:e.description}))]}),(0,r.jsx)(u.Td,{children:(0,r.jsx)(o.xv,{fontSize:d?"sm":"md",children:e.points})}),(0,r.jsx)(u.Td,w({isNumeric:!0},f,{children:n+1<i.length?e.points-(null===(a=i[n+1])||void 0===a?void 0:a.points):0})),(0,r.jsx)(u.Td,{children:(0,p.q)(e.date)})]},e.rank)}))})]})})},k=t(5193),T=t(465),C=t(4517),I=function(){(0,s.useContext)(h.S).server;var e=(0,s.useContext)(C.A).event,n=(0,s.useContext)(v),i=n.lbConfig,a=n.setLbConfig,u=(0,s.useState)([]),l=u[0],c=u[1],d=(0,s.useState)(),x=d[0],m=d[1],b=(0,s.useCallback)((function(){return(0,f.n)(null===e||void 0===e?void 0:e.id)}),[]),j=(0,s.useCallback)((function(){return t.e(905).then(t.t.bind(t,3905,19))}),[]);return(0,T.b)(j,m),(0,T.b)(b,c),(0,s.useEffect)((function(){i||a(l[0])}),[l]),(0,r.jsx)(o.Ug,{children:l.map((function(e){var n=x?M(x[e.leaderboardType],e.leaderboardId):"(".concat(e.leaderboardType,", ").concat(e.leaderboardId,")"),t=e.leaderboardType===(null===i||void 0===i?void 0:i.leaderboardType)&&e.leaderboardId===(null===i||void 0===i?void 0:i.leaderboardId);return(0,r.jsx)(k.zx,{variant:t?"solid":"default",onClick:function(){return a(e)},children:n},n)}))})},M=function(e,n){switch(null===e||void 0===e?void 0:e.aggregationType){case"MainAddPoint":return"Overall";default:return"".concat(e.pointTypeName).concat(0!==n?" ".concat(n):"")}},N=t(4210),P=t(9490),z=t(1163);function E(){var e=(0,s.useContext)(C.A).event;return(0,s.useEffect)((function(){e&&P.ou.fromISO(e.enddate).diffNow("seconds").seconds<0&&z.default.push("/towaland")}),[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.M,{}),(0,r.jsx)(N.W,{}),(0,r.jsx)(o.xu,{px:2,w:"full",children:(0,r.jsxs)(b,{children:[(0,r.jsx)(I,{}),(0,r.jsx)(O,{})]})})]})}},8203:function(e,n,t){"use strict";t.d(n,{L:function(){return a}});var r=t(5893),o=t(8527),i=t(9609),a=(t(7294),function(){return(0,r.jsx)(o.kC,{w:"full",alignItems:"center",justifyContent:"center",h:"full",children:(0,r.jsx)(i.$,{size:"xl"})})})},1889:function(e,n,t){"use strict";t.d(n,{T:function(){return l}});var r=t(5893),o=t(8527),i=t(3756),a=t(9490),u=t(7294),l=(0,u.memo)((function(e){var n=e.align,t=e.event,l=(0,u.useMemo)((function(){return(0,i.Gk)(t)}),[t]);return(0,r.jsxs)(o.xv,{textAlign:n||"start",children:[(0,r.jsxs)(o.xv,{as:"span",mr:2,children:[a.ou.fromISO(t.startdate).toFormat("yyyy/MM/dd  HH:mm")," -"," ",a.ou.fromISO(t.enddate).toFormat("yyyy/MM/dd HH:mm")]}),"/",(0,r.jsxs)(o.xv,{as:"span",ml:2,children:[Math.round(a.ou.fromISO(t.enddate).diff(a.ou.fromISO(t.startdate)).as("hours"))," ","hours"]})," ","/",(0,r.jsx)(o.xv,{as:"span",ml:2,children:l})]})}));l.displayName="EventDetails"},5117:function(e,n,t){"use strict";t.d(n,{M:function(){return d}});var r=t(5893),o=t(8527),i=t(4651),a=t(9490),u=t(7294),l=t(4517),s=t(8142),c=t(1889),d=function(){var e=(0,u.useContext)(l.A).event;return e?(0,r.jsx)(o.kC,{flexDirection:"column",py:2,children:(0,r.jsxs)(o.kC,{flexDirection:["column",null,"row"],justifyContent:"space-between",children:[(0,r.jsxs)(o.kC,{flexDirection:"column",order:[2,null,1],children:[(0,r.jsx)(o.xv,{fontWeight:"bold",fontSize:"3xl",textAlign:["center",null,"start"],children:e.name}),(0,r.jsx)(c.T,{align:["center",null,"start"],event:e}),a.ou.fromISO(e.enddate).diffNow().as("second")>0&&(0,r.jsx)(f,{startTime:e.startdate,rankEndTime:e.enddate,resultsTime:e.enddate})]}),(0,r.jsx)(o.xu,{h:"120",margin:["0 auto",null,"auto 0"],order:[1,null,2],children:(0,r.jsx)(i.Ee,{src:(0,s.Z)("/images/events/logo/".concat(e.eventid,".png")),maxH:"full",maxW:"full"})})]})}):null},f=function(e){var n=e.startTime,t=e.rankEndTime,i=e.resultsTime,l=(0,u.useState)("--:--"),s=l[0],c=l[1],d=(0,u.useState)(""),f=d[0],x=d[1],h=(0,u.useState)("-"),m=h[0],v=h[1],b=(0,u.useMemo)((function(){return Math.round(a.ou.fromISO(t).diff(a.ou.fromISO(n)).as("hours"))}),[n,t]);return(0,u.useEffect)((function(){var e=!1,r=function(){var r=a.ou.fromISO(n).diffNow(),o=a.ou.fromISO(t).diffNow(),u=a.ou.fromISO(i).diffNow(),l=Math.floor(a.ou.now().diff(a.ou.fromISO(n)).as("hours"));if(!e){if(r.as("hours")>0)return x("Time until start"),c(r.toFormat("hh:mm")),void v(void 0);o.as("hours")>0?(x("Time until end"),c(o.toFormat("hh:mm"))):u.as("hours")>0&&(x("Time until results"),c(u.toFormat("hh:mm"))),v("".concat(l>b?b:l," / ").concat(b," ").concat(l>b?"100":Math.round(l/b*100),"%"))}};r();setInterval(r,3e4)}),[b]),(0,r.jsxs)(o.kC,{flexDirection:"column",justifyContent:["center",null,"start"],py:4,children:[m&&(0,r.jsxs)(o.xv,{textAlign:["center",null,"start"],children:["Progress: ",m]}),(0,r.jsxs)(o.xv,{textAlign:["center",null,"start"],children:[f,":",(0,r.jsx)(o.xv,{fontSize:"lg",fontWeight:"bold",as:"span",ml:"2",children:s})]})]})}},4210:function(e,n,t){"use strict";t.d(n,{W:function(){return c}});var r=t(5893),o=t(8527),i=t(5193),a=t(1664),u=t(1163),l=(t(7294),[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"}]),s=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"},{label:"Other Leaderboards",url:"/leaderboards"}],c=function(e){var n=e.en,t=(0,u.useRouter)();return(0,r.jsx)(o.kC,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(n?l:s).map((function(e){return(0,r.jsx)(i.zx,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:t.pathname===e.url?"solid":"outline",fontSize:"lg",children:(0,r.jsx)(a.default,{href:e.url,children:e.label})},e.url)}))})}},1213:function(e,n,t){"use strict";t.d(n,{K:function(){return u}});var r=t(5893),o=t(8527),i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=(0,i.memo)((function(e){var n=e.tier,t=e.children,u=(0,i.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,r.jsx)(o.xv,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({},u,{children:t||n}))}));u.displayName="Tier"},6755:function(e,n,t){"use strict";t.d(n,{X:function(){return r},K:function(){return o}});var r=[1,2,3,10,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4],o=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4]},9867:function(e,n,t){"use strict";t.d(n,{a:function(){return r}});var r=function(e){return e<1e3?"".concat(e):e<1e6?"".concat(Math.round(e/1e3*100)/100,"k"):"".concat(Math.round(e/1e6*100)/100,"M")}},6832:function(e,n,t){"use strict";t.d(n,{q:function(){return o}});var r=t(9490),o=function(e){return r.ou.fromISO(e).diffNow().as("minute")>-3?"Just now":r.ou.now().diff(r.ou.fromISO(e)).toFormat("hh:mm")}}},function(e){e.O(0,[695,774,888,179],(function(){return n=1497,e(e.s=n);var n}));var n=e.O();_N_E=n}]);