(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{5403:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return x}});var e=n(5893),u=n(4121),i=n(7294),a=n(4096),c=n(8017),o=n(2974),s=n(4263),l=n(8024),f=n(5277),d=n(7810),p=n(6887),h=n(9567);function x(){var t=(0,i.useRef)(null),r=(0,f.tH)(t),n=(0,u.Z)(r,2),x=n[0],m=n[1],v=(0,i.useState)(),g=v[0],w=v[1];return(0,e.jsxs)(a.k,{flexDir:"column",h:"full",px:2,children:[(0,e.jsx)(o.M,{}),(0,e.jsx)(l.W,{}),(0,e.jsxs)(a.k,{flex:"1",w:"full",flexDirection:["column",null,"row"],minH:"500px",children:[(0,e.jsxs)(c.xu,{flex:"1",children:[(0,e.jsx)(c.xu,{ref:t,h:"full",minH:"400px",maxH:"600px",children:(0,e.jsx)(p.q,{width:x,height:m,isSmall:!0,isLive:!0})}),(0,e.jsx)(s.I,{})]}),(0,e.jsxs)(c.xu,{px:"8",flex:"1",children:[(0,e.jsx)(d.s,{isSmall:!0,onTierSelected:function(t){return w(t)}}),(0,e.jsx)(h.z,{tier:g,onClose:function(){return w(void 0)}}),";"]})]})]})}},6887:function(t,r,n){"use strict";n.d(r,{q:function(){return h}});var e=n(5893),u=n(7294),i=n(7216),a=n(2965),c=n(8347),o=n(9801),s=n(9490),l=n(4279),f=n(4013),d=500,p=function(t){var r=t.points,n=t.startDate,i=t.endDate,a=t.isLive,p=void 0!==a&&a,h=t.width,x=t.height,m=void 0===x?600:x,v=(0,c.Z)(t,["points","startDate","endDate","isLive","width","height"]),g=(0,u.useRef)(),w=(0,u.useRef)(),b=(0,u.useRef)(),k=(0,u.useRef)(),j=(0,u.useRef)(),S=(0,u.useRef)(),y=(0,u.useRef)(),_=(0,u.useRef)(),D=(0,u.useRef)(),T=(0,u.useRef)(),C=(0,u.useRef)(),L=(0,f.G)(),R=v.isSmall||"base"===L||"sm"===L,A=(0,u.useMemo)((function(){return{top:20,right:20,bottom:30,left:R?45:60}}),[R]),E=(0,u.useMemo)((function(){var t=h-A.left-A.right;return t<0?0:t}),[A,h]),O=(0,u.useMemo)((function(){var t=m-A.top-A.bottom;return t<0?0:t}),[A,m]);function I(t){C.current=t.transform,T.current=C.current.rescaleX(w.current),b.current=o.LLu(T.current),V(),_.current.selectAll("path.line").attr("d",(function(t){return o.jvg().x((function(t){return T.current((0,o.ji_)(t.date))})).y((function(t){return k.current(t.points)}))(t[1])}))}(0,u.useEffect)((function(){o.Ys("#lbgraph").selectAll("*").remove(),D.current=o.sPX().scaleExtent([1,500]).extent([[0,0],[E,O]]).translateExtent([[0,-1/0],[E,1/0]]).on("zoom",I),g.current=o.Ys("#lbgraph").attr("width",E+A.left+A.right).attr("height",O+A.top+A.bottom).append("g").attr("transform","translate("+A.left+","+A.top+")"),w.current=o.Xf().range([0,E]),k.current=o.BYU().range([O,0]),T.current=w.current,y.current=g.current.append("clipPath").attr("id","graph").append("rect").attr("width",E).attr("height",O),g.current.append("g").attr("class","xAxis").attr("transform","translate(0,"+O+")"),g.current.append("g").attr("class","yAxis"),g.current.append("g").attr("class","xGrid").attr("transform","translate(0,"+O+")"),g.current.append("g").attr("class","yGrid"),b.current=o.LLu(w.current),j.current=o.y4O(k.current),S.current=o.PKp().range(["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]),_.current=g.current.append("g").attr("clip-path","url(#graph)").attr("id","lines"),p||o.Ys("#lbgraph").call(D.current)}),[E,O,p]);var V=(0,u.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g.current.select(".xGrid").attr("color","lightgray").transition().duration(t?d:0).call(o.LLu(T.current).tickSize(-O).tickFormat((function(){return""}))),g.current.select(".yGrid").attr("color","lightgray").transition().duration(t?d:0).call(o.y4O(k.current).tickSize(-E).tickFormat((function(){return""}))),g.current.select(".xAxis").transition().duration(t?d:0).call(b.current),g.current.select(".yAxis").transition().duration(t?d:0).call(R?j.current.tickFormat((function(t){return(0,l.a)(t)})):j.current)}),[O,E,R]);return(0,u.useEffect)((function(){var t=s.ou.now().plus({minutes:30}),e=s.ou.fromISO(n),u=s.ou.fromISO(i),a=p?n&&s.ou.now().minus({hour:3}).diff(e).as("second")<0?e.toJSDate():s.ou.now().minus({hour:3}).toJSDate():n?e.toJSDate():o.VV$(r,(function(t){return(0,o.ji_)(t.date)})),c=p&&s.ou.now().plus({minutes:30}).diff(u).as("seconds")>0?u:t,l=[a,c];S.current=S.current.domain(new Set(r.map((function(t){return t.rank})))),w.current.domain(l),C.current&&(T.current=C.current.rescaleX(w.current),b.current=o.LLu(T.current)),k.current.domain([p?o.VV$(r.filter((function(t){return s.ou.fromISO(t.date).diff(s.ou.fromJSDate(a)).as("seconds")>0})),(function(t){return t.points})):0,o.Fp7(r,(function(t){return t.points}))]).nice();var f=o.Xxj(r,(function(t){return t.rank})),h=_.current.selectAll("path").data(f,(function(t){return t[0]}));h.enter().append("path").attr("class","line").attr("tier",(function(t){return t[0]})).attr("fill","none").attr("stroke",(function(t){return S.current(t[0])})).attr("stroke-width",2),h.exit().remove(),_.current.selectAll("path.line").transition().duration(d).attr("d",(function(t){return o.jvg().x((function(t){return T.current((0,o.ji_)(t.date))})).y((function(t){return k.current(t.points)}))(t[1])})),V(!0)}),[r,E,O,R]),(0,e.jsx)("svg",{id:"lbgraph"})},h=function(t){var r=t.width,n=t.height,c=t.isSmall,o=void 0!==c&&c,s=t.isLive,l=void 0!==s&&s,f=(0,u.useContext)(a.V).points,d=(0,u.useContext)(i.A).event;return(0,e.jsx)(p,{points:f,startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.rank_end,width:r,height:n,isSmall:o,isLive:l})}},4263:function(t,r,n){"use strict";n.d(r,{I:function(){return s}});var e=n(5893),u=n(9999),i=n(6185),a=n(4096),c=n(7294),o=n(2965),s=function(){var t=(0,c.useContext)(o.V),r=t.displayTier,n=t.setDisplayTier,s=t.allTiers,l=(0,c.useMemo)((function(){return[{label:"Select All",tiers:s},{label:"Clear",tiers:[]},{label:"< T10",tiers:s.filter((function(t){return t<=10}))},{label:"< T20",tiers:s.filter((function(t){return t<=20}))},{label:"< T100",tiers:s.filter((function(t){return t<=100}))},{label:"> T500",tiers:s.filter((function(t){return t>=500}))}]}),[s]);return(0,e.jsxs)(a.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[l.map((function(t){return(0,e.jsx)(i.z,{m:2,bg:"blue.200",onClick:function(){return n(t.tiers)},children:t.label},t.label)})),s.sort((function(t,r){return t-r})).map((function(t){return(0,e.jsxs)(i.z,{m:2,bg:null!==r&&void 0!==r&&r.includes(t)?"green.200":"gray.200",onClick:function(){return function(t){if(null!==r&&void 0!==r&&r.includes(t))return n((function(r){return r.filter((function(r){return r!==t}))}));n((function(r){return[].concat((0,u.Z)(r),[t])}))}(t)},children:["T",t]},t)}))]})}},2965:function(t,r,n){"use strict";n.d(r,{V:function(){return g},U:function(){return w}});var e=n(5893),u=n(9999),i=n(4121),a=n(809),c=n.n(a),o=n(2447),s=n(9669),l=n.n(s),f=n(7456),d=function(){var t=(0,o.Z)(c().mark((function t(){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().get((0,f._)("http://www.projectdivar.com/eventdata/t20?all=true&event=14"));case 2:return r=t.sent,t.abrupt("return",r.data.sort((function(t,r){return t.id-r.id})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=n(5492),h=n(4693),x=n(9490),m=n(7294),v=n(3451),g=(0,m.createContext)({}),w=function(t){var r=t.children,n=(0,m.useContext)(v.G).lbData,a=(0,m.useState)([]),c=a[0],o=a[1],s=(0,p._)("displayTier",null),l=(0,i.Z)(s,2),f=l[0],w=l[1],b=(0,m.useState)([]),k=b[0],j=b[1],S=(0,m.useRef)({}),y=(0,m.useCallback)((function(t){var r=Array.from(new Set(t.map((function(t){return t.rank}))));j(r),null===f&&w(r),o(t)}),[]);(0,h.b)(d,y),(0,m.useEffect)((function(){if(n){var t=n.filter((function(t){return!(S.current[t.rank]&&x.ou.fromISO(t.date).diff(S.current[t.rank]).as("seconds")<=0)&&(S.current[t.rank]=x.ou.fromISO(t.date),!0)}));t.length>0&&o((function(r){return[].concat((0,u.Z)(r),(0,u.Z)(t))}))}}),[n]);var _=(0,m.useMemo)((function(){return f?c.filter((function(t){return f.includes(t.rank)})):c}),[c,f]);return(0,e.jsx)(g.Provider,{value:{points:_,displayTier:f,setDisplayTier:w,allTiers:k},children:r})}},8502:function(t,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return n(5403)}])}},function(t){t.O(0,[774,809,351,269,757,879,139,392,620],(function(){return r=8502,t(t.s=r);var r}));var r=t.O();_N_E=r}]);