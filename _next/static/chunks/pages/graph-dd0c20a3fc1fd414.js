(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645],{280:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graph",function(){return t(8259)}])},8259:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return j}});var n=t(5893),o=t(7294),u=t(639),i=t(9996),a=t(1724),l=t(120),s=t(9695),c=t.n(s),f=t(3854),d=t(8653),h=t(5277),p=t(7964),v=t(1709),m=t(4173),y=t(6597),b=t(2484);function g(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function x(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,u=[],i=!0,a=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(u.push(n.value),!e||u.length!==e);i=!0);}catch(l){a=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return u}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return g(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var r=(0,o.useContext)(a.G).lastUpdated,e=(0,o.useRef)(null),t=x((0,h.tH)(e),2),s=t[0],g=t[1],j=x((0,m._)("graphFlags",{showTooltip:!1,advancedZoom:!1,showForecast:!1}),2),w=j[0],C=j[1],S=(0,o.useMemo)((function(){var e=l.ou.fromJSDate(r).diffNow().as("milliseconds");return 0===e?"Just now":c()(e,{round:!0,largest:2})+" ago"}),[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.M,{}),(0,n.jsx)(d.W,{}),(0,n.jsxs)(u.xv,{textAlign:"center",children:["Last Updated: ",S]}),(0,n.jsx)(y.Y,{graphFlags:w,setGraphFlags:C,forecastOptions:!0}),(0,n.jsx)(v.Q,{children:(0,n.jsxs)(b.z,{children:[(0,n.jsx)(u.xu,{ref:e,w:"full",h:"600px",children:(0,n.jsx)(p.q,{showForecast:w.showForecast,graphFlags:w,width:s,height:g})}),(0,n.jsx)(f.I,{})]})})]})}},6597:function(r,e,t){"use strict";t.d(e,{Y:function(){return a}});var n=t(5893),o=t(639),u=t(7917);t(7294);function i(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var a=function(r){var e=r.graphFlags,t=r.setGraphFlags,a=r.forecastOptions,l=void 0!==a&&a,s=function(r){t((function(e){return function(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})))),n.forEach((function(e){i(r,e,t[e])}))}return r}({},e,i({},r,!e[r]))}))};return(0,n.jsx)(o.kC,{flexDir:"column",children:(0,n.jsxs)(o.kC,{flexDir:"column",children:[(0,n.jsxs)(o.kC,{children:[(0,n.jsx)(u.r,{isChecked:e.showTooltip,onChange:function(){return s("showTooltip")}}),(0,n.jsx)(o.xv,{ml:2,children:"Show Details on hover"})]}),(0,n.jsxs)(o.kC,{children:[(0,n.jsx)(u.r,{isChecked:e.advancedZoom,onChange:function(){return s("advancedZoom")}}),(0,n.jsx)(o.xv,{ml:2,children:"Advanced Zoom"})]}),l&&(0,n.jsxs)(o.kC,{children:[(0,n.jsx)(u.r,{isChecked:e.showForecast,onChange:function(){return s("showForecast")}}),(0,n.jsx)(o.xv,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},8653:function(r,e,t){"use strict";t.d(e,{W:function(){return f}});var n=t(5893),o=t(639),u=t(7741),i=t(1664),a=t.n(i),l=t(1163),s=(t(7294),[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"}]),c=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"},{label:"Other Leaderboards",url:"/leaderboards"}],f=function(r){var e=r.en,t=(0,l.useRouter)();return(0,n.jsx)(o.kC,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(e?s:c).map((function(r){return(0,n.jsx)(u.zx,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:t.pathname===r.url?"solid":"outline",fontSize:"lg",children:(0,n.jsx)(a(),{href:r.url,children:r.label})},r.url)}))})}},7964:function(r,e,t){"use strict";t.d(e,{q:function(){return s}});var n=t(5893),o=t(7294),u=t(2484),i=t(2426),a=t(1709),l=t(3844),s=function(r){var e=r.width,t=r.height,s=r.isSmall,c=void 0!==s&&s,f=r.isLive,d=void 0!==f&&f,h=r.graphFlags,p=r.showForecast,v=void 0!==p&&p,m=(0,o.useContext)(a.B),y=m.points,b=m.displayTier,g=(0,o.useContext)(i.A).event,x=(0,o.useContext)(u.O).forecast;return(0,n.jsx)(l.k,{id:"score",points:y,startDate:null===g||void 0===g?void 0:g.startdate,endDate:null===g||void 0===g?void 0:g.enddate,width:e,height:t,isSmall:c,isLive:d,forecast:v&&(null===b||void 0===b?void 0:b.filter((function(r){return null===x||void 0===x?void 0:x[r]})).map((function(r){return x[r]})).flatMap((function(r){return r}))),graphFlags:h})}},3854:function(r,e,t){"use strict";t.d(e,{I:function(){return c}});var n=t(5893),o=t(7741),u=t(639),i=t(7294),a=t(1709);function l(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function s(r){return function(r){if(Array.isArray(r))return l(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"===typeof r)return l(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=function(){var r=(0,i.useContext)(a.B),e=r.displayTier,t=r.setDisplayTier,l=r.allTiers,c=(0,i.useMemo)((function(){return[{label:"Select All",tiers:l},{label:"Clear",tiers:[]},{label:"< T10",tiers:l.filter((function(r){return r<=10}))},{label:"< T20",tiers:l.filter((function(r){return r<=20}))},{label:"< T100",tiers:l.filter((function(r){return r<=100}))},{label:"> T500",tiers:l.filter((function(r){return r>=500}))}]}),[l]);return(0,n.jsxs)(u.kC,{w:"full",flexWrap:"wrap",mx:"auto",children:[c.map((function(r){return(0,n.jsx)(o.zx,{m:2,colorScheme:"blue",onClick:function(){return t(r.tiers)},children:r.label},r.label)})),l.sort((function(r,e){return r-e})).map((function(r){return(0,n.jsxs)(o.zx,{m:2,colorScheme:(null===e||void 0===e?void 0:e.includes(r))?"green":"gray",onClick:function(){return function(r){if(null===e||void 0===e?void 0:e.includes(r))return t((function(e){return e.filter((function(e){return e!==r}))}));t((function(e){return s(e||[]).concat([r])}))}(r)},children:["T",r]},r)}))]})}},2484:function(r,e,t){"use strict";t.d(e,{O:function(){return f},z:function(){return d}});var n=t(5893),o=t(7294),u=t(5277),i=t(2426),a=t(8661),l=t(1709);function s(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function c(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,u=[],i=!0,a=!1;try{for(t=t.call(r);!(i=(n=t.next()).done)&&(u.push(n.value),!e||u.length!==e);i=!0);}catch(l){a=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return u}}(r,e)||function(r,e){if(!r)return;if("string"===typeof r)return s(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,o.createContext)({}),d=function(r){var e=r.children,s=r.all,d=(0,o.useContext)(a.V).points,h=(0,o.useContext)(l.B).points,p=(0,o.useContext)(i.A).event,v=(0,o.useRef)(),m=(0,o.useState)(),y=m[0],b=m[1],g=(0,o.useState)(),x=g[0],j=g[1],w=c((0,u._)("groupInterval",36e5),2),C=w[0],S=w[1],A=(0,o.useMemo)((function(){return(s?d:h||d)||[]}),[d,h]),O=function(r){var e=r.data,t=e.rate,n=e.forecast;b(t),j(n)};return(0,o.useEffect)((function(){return v.current=new Worker(new URL(t.p+t.u(502),t.b),{type:void 0}),v.current.postMessage({points:A,interval:C,event:p}),v.current.onmessage=O,function(){return v.current.removeEventListener("message",O),v.current.terminate()}}),[A,C]),(0,n.jsx)(f.Provider,{value:{rate:y,forecast:x,interval:C,setInterval:S},children:e})}}},function(r){r.O(0,[664,484,117,651,410,423,774,888,179],(function(){return e=280,r(r.s=e);var e}));var e=r.O();_N_E=e}]);