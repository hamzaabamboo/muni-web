(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{7189:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analyze",function(){return r(5245)}])},5245:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return x}});var t=r(5893),u=r(9380),l=r(5117),a=r(8889),i=r(4210),o=r(3509),s=r(2787),c=r(3660),f=r(7294),d=r(8987),v=r(7477),h=r(3422);function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,u=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(o){u=!0,l=o}finally{try{t||null==i.return||i.return()}finally{if(u)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(){(0,f.useContext)(h.G).lastUpdated;var e=p((0,c._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),n=e[0],r=e[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.M,{}),(0,t.jsx)(i.W,{}),(0,t.jsxs)(v.Q,{children:[(0,t.jsxs)(d.z,{children:[(0,t.jsx)(o.P,{graphFlags:n}),(0,t.jsx)(u.k,{})]}),(0,t.jsx)(a.Y,{graphFlags:n,setGraphFlags:r}),(0,t.jsx)(s.I,{})]})]})}},9380:function(e,n,r){"use strict";r.d(n,{k:function(){return s}});var t=r(5893),u=r(8527),l=r(1391),a=r(7294),i=r(8987),o=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],s=function(){var e=(0,a.useContext)(i.O),n=e.interval,r=e.setInterval;return(0,t.jsxs)(u.kC,{flexDir:"column",children:[(0,t.jsx)(u.xv,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,t.jsxs)(u.kC,{flexDir:"row",alignItems:"center",children:[(0,t.jsx)(u.xv,{mr:2,children:"Interval"}),(0,t.jsx)(l.Ph,{value:n,onChange:function(e){return r(Number(e.target.value))},children:o.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},8889:function(e,n,r){"use strict";r.d(n,{Y:function(){return i}});var t=r(5893),u=r(8527),l=r(9033);r(7294);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var i=function(e){var n=e.graphFlags,r=e.setGraphFlags,i=e.forecastOptions,o=void 0!==i&&i,s=function(e){r((function(n){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){a(e,n,r[n])}))}return e}({},n,a({},e,!n[e]))}))};return(0,t.jsx)(u.kC,{flexDir:"column",children:(0,t.jsxs)(u.kC,{flexDir:"column",children:[(0,t.jsxs)(u.kC,{children:[(0,t.jsx)(l.r,{isChecked:n.showTooltip,onChange:function(){return s("showTooltip")}}),(0,t.jsx)(u.xv,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(u.kC,{children:[(0,t.jsx)(l.r,{isChecked:n.advancedZoom,onChange:function(){return s("advancedZoom")}}),(0,t.jsx)(u.xv,{ml:2,children:"Advanced Zoom"})]}),o&&(0,t.jsxs)(u.kC,{children:[(0,t.jsx)(l.r,{isChecked:n.showForecast,onChange:function(){return s("showForecast")}}),(0,t.jsx)(u.xv,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},4210:function(e,n,r){"use strict";r.d(n,{W:function(){return c}});var t=r(5893),u=r(8527),l=r(5193),a=r(1664),i=r(1163),o=(r(7294),[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"}]),s=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"}],c=function(e){var n=e.en,r=(0,i.useRouter)();return(0,t.jsx)(u.kC,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(n?o:s).map((function(e){return(0,t.jsx)(l.zx,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:r.pathname===e.url?"solid":"outline",fontSize:"lg",children:(0,t.jsx)(a.default,{href:e.url,children:e.label})},e.url)}))})}},3509:function(e,n,r){"use strict";r.d(n,{P:function(){return f}});var t=r(5893),u=r(8527),l=r(7294),a=r(8987),i=r(4517),o=r(5277),s=r(6453);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,u=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(o){u=!0,l=o}finally{try{t||null==i.return||i.return()}finally{if(u)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e){var n=e.tier,r=e.graphFlags,f=(0,l.useContext)(a.O).rate,d=(0,l.useContext)(i.A).event,v=(0,l.useRef)(null),h=c((0,o.tH)(v),2),p=h[0],x=h[1],b=(0,l.useMemo)((function(){return null===f||void 0===f?void 0:f[n]}),[f,n]);return(0,t.jsx)(u.xu,{ref:v,minH:"300px",w:"full",children:(0,t.jsx)(s.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:p,height:x,graphFlags:null!==r&&void 0!==r?r:{advancedZoom:!1,showTooltip:!1},points:b||(f?Object.values(f).flatMap((function(e){return e})):[]),isSmall:!0})})}},2787:function(e,n,r){"use strict";r.d(n,{I:function(){return s}});var t=r(5893),u=r(5193),l=r(8527),a=r(7294),i=r(7477);function o(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=function(){var e=(0,a.useContext)(i.B),n=e.displayTier,r=e.setDisplayTier,s=e.allTiers,c=(0,a.useMemo)((function(){return[{label:"Select All",tiers:s},{label:"Clear",tiers:[]},{label:"< T10",tiers:s.filter((function(e){return e<=10}))},{label:"< T20",tiers:s.filter((function(e){return e<=20}))},{label:"< T100",tiers:s.filter((function(e){return e<=100}))},{label:"> T500",tiers:s.filter((function(e){return e>=500}))}]}),[s]);return(0,t.jsxs)(l.kC,{w:"full",flexWrap:"wrap",mx:"auto",children:[c.map((function(e){return(0,t.jsx)(u.zx,{m:2,colorScheme:"blue",onClick:function(){return r(e.tiers)},children:e.label},e.label)})),s.sort((function(e,n){return e-n})).map((function(e){return(0,t.jsxs)(u.zx,{m:2,colorScheme:(null===n||void 0===n?void 0:n.includes(e))?"green":"gray",onClick:function(){return function(e){if(null===n||void 0===n?void 0:n.includes(e))return r((function(n){return n.filter((function(n){return n!==e}))}));r((function(n){return o(n||[]).concat([e])}))}(e)},children:["T",e]},e)}))]})}},8987:function(e,n,r){"use strict";r.d(n,{O:function(){return c},z:function(){return f}});var t=r(5893),u=r(7294),l=r(5277),a=r(4517),i=r(3688),o=r(7477);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,u=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(o){u=!0,l=o}finally{try{t||null==i.return||i.return()}finally{if(u)throw l}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=(0,u.createContext)({}),f=function(e){var n=e.children,f=e.all,d=(0,u.useContext)(i.V).points,v=(0,u.useContext)(o.B).points,h=(0,u.useContext)(a.A).event,p=(0,u.useRef)(),x=(0,u.useState)(),b=x[0],m=x[1],y=(0,u.useState)(),g=y[0],j=y[1],w=s((0,l._)("groupInterval",36e5),2),C=w[0],k=w[1],A=(0,u.useMemo)((function(){return(f?d:v||d)||[]}),[d,v]),S=function(e){var n=e.data,r=n.rate,t=n.forecast;m(r),j(t)};return(0,u.useEffect)((function(){return p.current=new Worker(new URL(r.p+r.u(951),r.b),{type:void 0}),p.current.postMessage({points:A,interval:C,event:h}),p.current.onmessage=S,function(){return p.current.removeEventListener("message",S),p.current.terminate()}}),[A,C]),(0,t.jsx)(c.Provider,{value:{rate:b,forecast:g,interval:C,setInterval:k},children:n})}}},function(e){e.O(0,[484,653,205,609,696,774,888,179],(function(){return n=7189,e(e.s=n);var n}));var n=e.O();_N_E=n}]);