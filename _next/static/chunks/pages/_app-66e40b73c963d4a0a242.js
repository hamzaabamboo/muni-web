(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888,179],{12137:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return D}});var r=e(85893),o=e(26265),i=e(94536),a=e(40980),c=e(94096),u=e(67294),s=e(17179),f=e(64115),l=e(49444),p=function(){return(0,a.useColorModeValue)("gray.100","gray.600")},d=function(){var n=p();return(0,r.jsx)(c.k,{as:"footer",py:"20px",justifyContent:"center",bg:n,children:(0,r.jsxs)(f.x,{textAlign:"center",children:["Data by"," ",(0,r.jsx)(l.r,{href:"https://www.youtube.com/watch?v=M2wZs7eHHVo",children:(0,r.jsx)(f.x,{as:"span",colorScheme:"blue",cursor:"pointer",mx:"2",children:"\u3080\u306b"})})," ","| If stuff breaks, just refresh or contact someone"]})})},m=e(48017),h=e(73979),v=function(){var n=(0,a.useColorMode)(),t=n.colorMode,e=n.toggleColorMode,o=p();return(0,r.jsx)(m.xu,{w:"100%",bg:o,children:(0,r.jsxs)(c.k,{justifyContent:"space-between",alignItems:["stretch",null,"center"],flexDirection:["column",null,"row"],w:["100%",null,"90%"],m:"0 auto",py:4,children:[(0,r.jsx)(l.r,{href:(0,h.Z)("/"),as:"a",_hover:{textDecor:"none"},children:(0,r.jsxs)(f.x,{textAlign:["center",null,"start"],fontSize:"2xl",fontWeight:"bold",px:2,children:[(0,r.jsx)(f.x,{as:"span",textDecor:"line-through",color:"red.400",children:"Muni"})," ","Towa Web (Please give me a proper name)"]})}),(0,r.jsxs)(c.k,{alignItems:"center",justifyContent:["space-between",null,"unset"],px:2,children:[(0,r.jsxs)(f.x,{mx:2,children:["Dark Mode",(0,r.jsx)(a.Switch,{mx:2,isChecked:"dark"===t,onChange:function(){return null===e||void 0===e?void 0:e()}})]}),(0,r.jsx)(l.r,{href:(0,h.Z)("/event"),_hover:{textDecor:"none"},as:"a",children:(0,r.jsx)(f.x,{fontSize:"lg",children:"View all events"})})]})]})})},x=function(n){var t=n.children,e=(0,u.useContext)(s.N).bgImage,o=(0,a.useColorMode)().colorMode;return(0,r.jsxs)(c.k,{flexDirection:"column",w:"full",minH:"100vh",alignItems:"stretch",backgroundImage:e&&"".concat("light"===o?"linear-gradient(to bottom, rgba(255,255, 255, .85), rgba(255,255, 255, .85))":"linear-gradient(to bottom, rgba(0,0, 0, .75), rgba(0,0, 0, .75))",", url(").concat(e,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",backgroundBlendMode:"light"===o?"lighten":"darken",children:[(0,r.jsxs)(c.k,{as:"main",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",flex:1,children:[(0,r.jsx)(c.k,{justifyContent:"center",w:"full",children:(0,r.jsx)(v,{})}),(0,r.jsx)(c.k,{maxW:["100%",null,"90%"],flexDirection:"column",flex:"1",w:"full",px:4,mx:"auto",children:t})]}),(0,r.jsx)(d,{})]})},g=e(9008),b=function(n){var t=n.providers,e=n.children;return t.reverse().map((function(n){return n})).reduce((function(n,t){return(0,r.jsx)(t,{children:n})}),e)},j=e(25837),y=e(82965),w=e(34033),k=e(13451),O=(0,e(48764).B)({fonts:{body:"Rodin Pro, sans-serif",heading:"Rodin Pro, sans-serif"},config:{initialColorMode:"light",useSystemColorMode:!1}}),P=e(70917),C=function(){return(0,r.jsx)(P.xB,{styles:"\n    @font-face {\n      font-family: 'Rodin Pro';\n      font-style: normal;\n      font-weight: 100;\n      font-display: swap;\n      src: url('".concat((0,h.Z)("/fonts/FOT-RodinPro-L.otf"),"') format(\"opentype\");\n    }\n    @font-face {\n      font-family: 'Rodin Pro';\n      font-style: normal;\n      font-weight: 500;\n      font-display: swap;\n      src: url('").concat((0,h.Z)("/fonts/FOT-RodinPro-M.otf"),"') format(\"opentype\");\n    }\n    @font-face {\n      font-family: 'Rodin Pro';\n      font-style: normal;\n      font-weight: 700;\n      font-display: swap;\n      src: url('").concat((0,h.Z)("/fonts/FOT-RodinPro-B_5.otf"),"') format(\"opentype\");\n    }\n    @font-face {\n      font-family: 'Rodin Pro';\n      font-style: normal;\n      font-weight: 800;\n      font-display: swap;\n      src: url('").concat((0,h.Z)("/fonts/FOT-RodinPro-EB.otf"),"') format(\"opentype\");\n    } \n    @font-face {\n      font-family: 'Rodin Pro';\n      font-style: normal;\n      font-weight: 900;\n      font-display: swap;\n      src: url('").concat((0,h.Z)("/fonts/FOT-RodinPro-UB.otf"),'\') format("opentype");\n    }\n    ')})};function Z(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function _(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(e),!0).forEach((function(t){(0,o.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Z(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var D=function(n){var t=n.Component,e=n.pageProps,o=e.isStatic,a=e.head,c=e.backgroundImage,u=a||{},f=u.title,l=u.image,p=u.description,d=u.url;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(g.default,{children:[(0,r.jsx)("title",{children:f||"Create \u3080\u306b App"}),(0,r.jsx)("link",{rel:"icon",href:(0,h.Z)("/favicon.ico")}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:f||"Create \u3080\u306b App"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Create \u3080\u306b App"}),(0,r.jsx)("meta",{property:"og:url",content:d||"https://hamzaabamboo.github.io/muni-web"}),"string"!==typeof l&&l?l.map((function(n,t){return(0,r.jsx)("meta",{property:"og:image",content:n},t)})):(0,r.jsx)("meta",{property:"og:image",content:l||(0,h.Z)("/images/munihappy.png")}),(0,r.jsx)("meta",{property:"og:description",content:p||"Munimunimunimunimuni"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@HamP_punipuni"}),(0,r.jsx)("meta",{name:"twitter:image:src",content:("string"===typeof l?l:null===l||void 0===l?void 0:l[0])||(0,h.Z)("/images/munihappy.png")}),(0,r.jsx)("meta",{name:"twitter:title",content:f||"Create \u3080\u306b App"}),(0,r.jsx)("meta",{name:"twitter:description",content:p||"Munimunimunimunimuni"})]}),(0,r.jsx)(s.f,{defaultImage:c,children:(0,r.jsxs)(i.x,{theme:O,children:[(0,r.jsx)(C,{}),o?(0,r.jsx)(x,{children:(0,r.jsx)(t,_({},e))}):(0,r.jsx)(b,{providers:[j.d,k.K,y.U,w.t],children:(0,r.jsx)(x,{children:(0,r.jsx)(t,_({},e))})})]})})]})}},47456:function(n,t,e){"use strict";e.d(t,{_n:function(){return a},bZ:function(){return c},Gk:function(){return u}});var r=e(26265);function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){(0,r.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var a=function(n){return n.match("projectdivar")?"https://hambot.ham-san.net/d4dj/sig?url="+encodeURIComponent(n):n.match("d4-dj")?"https://hambot.ham-san.net/d4dj/d4db?url="+encodeURIComponent(n):n},c=function(n){return i(i({},n),{},{eventid:n.eventid+2})},u=function(n){if(n){if("string"===typeof n.type)return n.type;switch(n.type){case 0:return"Poker";case 1:return"Bingo";case 2:return"Medley";case 3:return"Raid";default:return n.type}}}},25837:function(n,t,e){"use strict";e.d(t,{A:function(){return h},d:function(){return v}});var r=e(85893),o=e(809),i=e.n(o),a=e(92447),c=e(9669),u=e.n(c),s=e(47456),f=function(){var n=(0,a.Z)(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get((0,s._n)("http://www.projectdivar.com/ev"));case 2:return t=n.sent,n.abrupt("return",(0,s.bZ)(t.data));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=e(54693),p=e(67294),d=e(73979),m=e(17179),h=(0,p.createContext)({}),v=function(n){var t=n.event,e=n.children,o=(0,p.useContext)(m.N).setBgImage,i=(0,p.useState)(t),a=i[0],c=i[1];t||(0,l.b)(f,c);var u=(0,p.useMemo)((function(){return a||t}),[a,t]);return(0,p.useEffect)((function(){u&&o((0,d.Z)("/images/events/background/".concat(u.eventid,".jpg")))}),[u]),(0,r.jsx)(h.Provider,{value:{event:u},children:e})}},82965:function(n,t,e){"use strict";e.d(t,{V:function(){return x},U:function(){return g}});var r=e(85893),o=e(59999),i=e(809),a=e.n(i),c=e(92447),u=e(9669),s=e.n(u),f=e(47456),l=function(){var n=(0,c.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s().get((0,f._n)("http://www.projectdivar.com/eventdata/t20?all=true&event=".concat(t-2)));case 2:return e=n.sent,n.abrupt("return",e.data.sort((function(n,t){return n.id-t.id})).map(f.bZ));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),p=e(54693),d=e(99490),m=e(67294),h=e(25837),v=e(13451),x=(0,m.createContext)({}),g=function(n){var t=n.children,e=(0,m.useContext)(v.G).lbData,i=(0,m.useContext)(h.A).event,a=(0,m.useState)(),c=a[0],u=a[1],s=(0,m.useRef)({}),f=(0,m.useCallback)((function(){return i?l(i.eventid):Promise.resolve(void 0)}),[i]);return(0,p.b)(f,u),(0,m.useEffect)((function(){if(e&&c){var n=e.filter((function(n){return!(s.current[n.rank]&&d.ou.fromISO(n.date).diff(s.current[n.rank]).as("seconds")<=0)&&(s.current[n.rank]=d.ou.fromISO(n.date),!0)}));n.length>0&&u((function(t){return[].concat((0,o.Z)(t),(0,o.Z)(n))}))}}),[e]),(0,r.jsx)(x.Provider,{value:{points:c},children:t})}},34033:function(n,t,e){"use strict";e.d(t,{X:function(){return l},t:function(){return p}});var r=e(85893),o=e(59999),i=e(99490),a=e(67294),c=e(13200),u=e(25837),s=e(82965),f=e(13451),l=(0,a.createContext)({}),p=function(n){var t=n.children,e=(0,a.useContext)(f.G).lbData,p=(0,a.useContext)(s.V).points,d=(0,a.useContext)(u.A).event,m=(0,a.useState)({}),h=m[0],v=m[1],x=(0,a.useState)(),g=x[0],b=x[1],j=(0,a.useRef)();return(0,a.useEffect)((function(){!g&&p&&b(p.map(c.u))}),[p]),(0,a.useEffect)((function(){if(d&&g){if(j.current){var n=[],t=e.map((function(t){var e,r=j.current.find((function(n){return n.rank===t.rank}));if(!r)return[t.rank,t.points];var o=t.points-r.points,a=o>0?o:i.ou.fromISO(t.date).diffNow().as("minutes")>-4&&null!==(e=h[t.rank])&&void 0!==e?e:0;return o>0&&n.push({event:d.eventid,rank:t.rank,change:a,date:t.date,points:t.points,name:t.name}),[t.rank,a]}));b((function(t){return[].concat((0,o.Z)(t),n)})),v(Object.fromEntries(t))}j.current=e}}),[e,d]),(0,r.jsx)(l.Provider,{value:{changes:h,pastUpdates:g},children:t})}},13451:function(n,t,e){"use strict";e.d(t,{G:function(){return m},K:function(){return h}});var r=e(85893),o=e(809),i=e.n(o),a=e(92447),c=e(59999),u=e(9669),s=e.n(u),f=e(47456),l=function(){var n=(0,a.Z)(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([s().get((0,f._n)("http://www.projectdivar.com/eventdata/t20")),s().get((0,f._n)("http://www.projectdivar.com/eventdata/t50"))]);case 2:return t=n.sent,n.abrupt("return",t.map((function(n){return n.data})).reduce((function(n,t){return[].concat((0,c.Z)(n),(0,c.Z)(t))})).sort((function(n,t){return n.rank-t.rank})).map(f.bZ));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=e(67294),d=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){return setTimeout(t,n)}))},m=(0,p.createContext)({}),h=function(n){var t=n.lbData,e=n.children,o=(0,p.useState)(),c=o[0],u=o[1],s=(0,p.useState)(),f=s[0],h=s[1],v=(0,p.useState)(2e4)[0];return(0,p.useEffect)((function(){if(!t){var n=!1;(function(){var t=(0,a.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=15;break}return t.prev=1,t.next=4,l();case 4:if(e=t.sent,!n){t.next=7;break}return t.abrupt("break",15);case 7:u(e),h(new Date);case 9:return t.prev=9,t.next=12,d(v);case 12:return t.finish(9);case 13:t.next=0;break;case 15:case"end":return t.stop()}}),t,null,[[1,,9,13]])})));return function(){return t.apply(this,arguments)}})()()}}),[v]),(0,r.jsx)(m.Provider,{value:{lbData:t||c,lastUpdated:f},children:e})}},17179:function(n,t,e){"use strict";e.d(t,{N:function(){return i},f:function(){return a}});var r=e(85893),o=e(67294),i=(0,o.createContext)({}),a=function(n){var t=n.defaultImage,e=n.children,a=(0,o.useState)(),c=a[0],u=a[1],s=(0,o.useCallback)((function(n){t||u(n)}),[t]);return(0,o.useEffect)((function(){t&&u(t)}),[t]),(0,r.jsx)(i.Provider,{value:{bgImage:c,setBgImage:s},children:e})}},54693:function(n,t,e){"use strict";e.d(t,{b:function(){return c}});var r=e(809),o=e.n(r),i=e(92447),a=e(67294),c=function(n,t){(0,a.useEffect)((function(){var e=!1;return function(){var r=(0,i.Z)(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,"function"===typeof n?n():n;case 2:if(i=r.sent,!e){r.next=5;break}return r.abrupt("return");case 5:t(i);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()(),function(){e=!0}}),[n,t])}},73979:function(n,t,e){"use strict";e.d(t,{Z:function(){return o}});var r=e(26470),o=function(n){return(0,r.join)("/muni-web",n)}},13200:function(n,t,e){"use strict";e.d(t,{u:function(){return r}});var r=function(n){return{event:n.eventid,rank:n.rank,change:-1*Number(n.difference),date:n.date,points:n.points,name:n.name}}},76363:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return e(12137)}])},14453:function(){}},function(n){var t=function(t){return n(n.s=t)};n.O(0,[774,809,351,980,659,433,24,217],(function(){return t(76363),t(72441)}));var e=n.O();_N_E=e}]);