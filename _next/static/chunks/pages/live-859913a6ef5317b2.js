(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{8468:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return e(6164)}])},6164:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return j}});var t=e(2086),i=e(3236),o=e(2226),l=e(1535),u=e(3973),a=e(7883),c=e(6509),s=e(4285),f=e(5047),d=e(9637),h=e(1654),p=e(8263),x=e(1671),m=e(7335),v=e(9320);function y(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function b(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,i,o=[],l=!0,u=!1;try{for(e=e.call(r);!(l=(t=e.next()).done)&&(o.push(t.value),!n||o.length!==n);l=!0);}catch(a){u=!0,i=a}finally{try{l||null==e.return||e.return()}finally{if(u)throw i}}return o}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return y(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(){var r=(0,i.useRef)(null),n=b((0,s.tH)(r),2),e=n[0],y=n[1],j=(0,i.useState)(),g=j[0],w=j[1],S=b((0,x._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),k=S[0],C=S[1];return(0,t.jsxs)(o.k,{flexDir:"column",h:"full",px:2,children:[(0,t.jsx)(u.M,{}),(0,t.jsx)(c.W,{}),(0,t.jsxs)(o.k,{flex:"1",w:"full",flexDirection:["column",null,"row"],alignItems:"stretch",minH:"500px",children:[(0,t.jsx)(l.x,{flex:"1",children:(0,t.jsxs)(p.Q,{children:[(0,t.jsx)(l.x,{ref:r,h:"full",minH:"400px",maxH:"600px",children:(0,t.jsx)(d.q,{width:e,height:y,isSmall:!0,isLive:!0,graphFlags:k})}),(0,t.jsx)(m.Y,{graphFlags:k,setGraphFlags:C}),(0,t.jsx)(a.I,{})]})}),(0,t.jsxs)(l.x,{px:"8",flex:"1",children:[(0,t.jsx)(f.s,{isSmall:!0,onTierSelected:function(r){return w(r)}}),(0,t.jsx)(v.z,{children:(0,t.jsx)(p.Q,{children:(0,t.jsx)(h.z,{tier:g,onClose:function(){return w(void 0)}})})})]})]})]})}},7335:function(r,n,e){"use strict";e.d(n,{Y:function(){return a}});var t=e(2086),i=e(2226),o=e(3458),l=e(8510);e(3236);function u(r,n,e){return n in r?Object.defineProperty(r,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[n]=e,r}var a=function(r){var n=r.graphFlags,e=r.setGraphFlags,a=r.forecastOptions,c=void 0!==a&&a,s=function(r){e((function(n){return function(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},t=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e).filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})))),t.forEach((function(n){u(r,n,e[n])}))}return r}({},n,u({},r,!n[r]))}))};return(0,t.jsx)(i.k,{flexDir:"column",children:(0,t.jsxs)(i.k,{flexDir:"column",children:[(0,t.jsxs)(i.k,{children:[(0,t.jsx)(o.r,{isChecked:n.showTooltip,onChange:function(){return s("showTooltip")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(i.k,{children:[(0,t.jsx)(o.r,{isChecked:n.advancedZoom,onChange:function(){return s("advancedZoom")}}),(0,t.jsx)(l.x,{ml:2,children:"Advanced Zoom"})]}),c&&(0,t.jsxs)(i.k,{children:[(0,t.jsx)(o.r,{isChecked:n.showForecast,onChange:function(){return s("showForecast")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},9637:function(r,n,e){"use strict";e.d(n,{q:function(){return c}});var t=e(2086),i=e(3236),o=e(9320),l=e(7576),u=e(8263),a=e(4155),c=function(r){var n=r.width,e=r.height,c=r.isSmall,s=void 0!==c&&c,f=r.isLive,d=void 0!==f&&f,h=r.graphFlags,p=r.showForecast,x=void 0!==p&&p,m=(0,i.useContext)(u.B),v=m.points,y=m.displayTier,b=(0,i.useContext)(l.A).event,j=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(a.k,{id:"score",points:v,startDate:null===b||void 0===b?void 0:b.startdate,endDate:null===b||void 0===b?void 0:b.enddate,width:n,height:e,isSmall:s,isLive:d,forecast:x&&(null===y||void 0===y?void 0:y.filter((function(r){return null===j||void 0===j?void 0:j[r]})).map((function(r){return j[r]})).flatMap((function(r){return r}))),graphFlags:h})}},7883:function(r,n,e){"use strict";e.d(n,{I:function(){return s}});var t=e(2086),i=e(2226),o=e(6393),l=e(3236),u=e(8263);function a(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function c(r){return function(r){if(Array.isArray(r))return a(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"===typeof r)return a(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var r=(0,l.useContext)(u.B),n=r.displayTier,e=r.setDisplayTier,a=r.allTiers,s=(0,l.useMemo)((function(){return[{label:"Select All",tiers:a},{label:"Clear",tiers:[]},{label:"< T10",tiers:a.filter((function(r){return r<=10}))},{label:"< T20",tiers:a.filter((function(r){return r<=20}))},{label:"< T100",tiers:a.filter((function(r){return r<=100}))},{label:"> T500",tiers:a.filter((function(r){return r>=500}))}]}),[a]);return(0,t.jsxs)(i.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(r){return(0,t.jsx)(o.z,{m:2,colorScheme:"blue",onClick:function(){return e(r.tiers)},children:r.label},r.label)})),a.sort((function(r,n){return r-n})).map((function(r){return(0,t.jsxs)(o.z,{m:2,colorScheme:(null===n||void 0===n?void 0:n.includes(r))?"green":"gray",onClick:function(){return function(r){if(null===n||void 0===n?void 0:n.includes(r))return e((function(n){return n.filter((function(n){return n!==r}))}));e((function(n){return c(n||[]).concat([r])}))}(r)},children:["T",r]},r)}))]})}}},function(r){r.O(0,[521,840,616,440,879,874,799,177,774,888,179],(function(){return n=8468,r(r.s=n);var n}));var n=r.O();_N_E=n}]);