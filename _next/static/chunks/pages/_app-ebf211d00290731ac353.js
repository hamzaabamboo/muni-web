(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888,179],{2829:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(5893),o=n(6265),u=n(895),c=n(980),i=n(4096),a=n(8017),s=n(7294),f=n(7179),l=n(9444),d=n(4115),p=function(){return(0,c.useColorModeValue)("gray.100","gray.600")},h=function(){var e=p();return(0,r.jsxs)(i.k,{as:"footer",py:"20px",justifyContent:"center",bg:e,children:["Powered by"," ",(0,r.jsx)(l.r,{href:"https://www.youtube.com/watch?v=M2wZs7eHHVo",children:(0,r.jsx)(d.x,{as:"span",colorScheme:"blue",cursor:"pointer",mx:"2",children:"\u3080\u306b"})})," ","| If stuff breaks, just refresh or contact someone"]})},v=n(3979),m=function(){var e=(0,c.useColorMode)(),t=e.colorMode,n=e.toggleColorMode,o=p();return(0,r.jsx)(a.xu,{w:"100%",bg:o,children:(0,r.jsxs)(i.k,{justifyContent:"space-between",alignItems:["stretch",null,"center"],flexDirection:["column",null,"row"],w:["100%",null,"90%"],m:"0 auto",py:4,children:[(0,r.jsx)(l.r,{href:(0,v.Z)("/"),as:"a",_hover:{textDecor:"none"},children:(0,r.jsxs)(d.x,{textAlign:["center",null,"start"],fontSize:"2xl",fontWeight:"bold",children:[(0,r.jsx)(d.x,{as:"span",textDecor:"line-through",color:"red.400",children:"Muni"})," ","Towa Web (Please give me a proper name)"]})}),(0,r.jsxs)(i.k,{alignItems:"center",justifyContent:["space-between",null,"unset"],px:2,children:[(0,r.jsxs)(d.x,{mx:2,children:["Dark Mode",(0,r.jsx)(c.Switch,{mx:2,isChecked:"dark"===t,onChange:function(){return null===n||void 0===n?void 0:n()}})]}),(0,r.jsx)(l.r,{href:(0,v.Z)("/event"),_hover:{textDecor:"none"},as:"a",children:(0,r.jsx)(d.x,{fontSize:"lg",children:"View all events"})})]})]})})},x=function(e){var t=e.children,n=(0,s.useContext)(f.N).bgImage,o=(0,c.useColorMode)().colorMode;return(0,r.jsxs)(i.k,{flexDirection:"column",w:"full",minH:"100vh",alignItems:"stretch",backgroundImage:n&&"".concat("light"===o?"linear-gradient(to bottom, rgba(255,255, 255, .85), rgba(255,255, 255, .85))":"linear-gradient(to bottom, rgba(0,0, 0, .75), rgba(0,0, 0, .75))",", url(").concat(n,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",children:[(0,r.jsxs)(i.k,{as:"main",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",flex:1,mb:20,children:[(0,r.jsx)(i.k,{justifyContent:"center",w:"full",children:(0,r.jsx)(m,{})}),(0,r.jsx)(a.xu,{maxW:["100%",null,"90%"],w:"full",mx:"auto",children:t})]}),(0,r.jsx)(h,{})]})},b=n(9008),g=function(e){var t=e.providers,n=e.children;return t.reverse().map((function(e){return e})).reduce((function(e,t){return(0,r.jsx)(t,{children:e})}),n)},j=n(5837),w=n(2965),y=n(4033),k=n(3451),O=(0,n(8764).B)({config:{initialColorMode:"light",useSystemColorMode:!1}});function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.Component,n=e.pageProps,o=n.isStatic,c=n.head,i=n.backgroundImage,a=c||{},s=a.title,l=a.image,d=a.description,p=a.url;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(b.default,{children:[(0,r.jsx)("title",{children:s||"Create \u3080\u306b App"}),(0,r.jsx)("link",{rel:"icon",href:(0,v.Z)("/favicon.ico")}),(0,r.jsx)("meta",{property:"og:title",content:s||"Create \u3080\u306b App"}),(0,r.jsx)("meta",{property:"og:url",content:p||"https://hamzaabamboo.github.io/muni-web"}),(0,r.jsx)("meta",{property:"og:image",content:l||(0,v.Z)("/images/munihappy.png")}),(0,r.jsx)("meta",{property:"og:description",content:d||"Munimunimunimunimuni"})]}),(0,r.jsx)(f.f,{defaultImage:i,children:(0,r.jsx)(u.x,{theme:O,children:o?(0,r.jsx)(x,{children:(0,r.jsx)(t,P({},n))}):(0,r.jsx)(g,{providers:[j.d,k.K,w.U,y.t],children:(0,r.jsx)(x,{children:(0,r.jsx)(t,P({},n))})})})})]})}},7456:function(e,t,n){"use strict";n.d(t,{_n:function(){return c},bZ:function(){return i},x6:function(){return a}});var r=n(6265);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return e.match("projectdivar")?"https://hambot.ham-san.net/d4dj/sig?url="+encodeURIComponent(e):e.match("d4-dj")?"https://hambot.ham-san.net/d4dj/d4db?url="+encodeURIComponent(e):e},i=function(e){return u(u({},e),{},{eventid:e.eventid+2})},a=function(e){if("string"===typeof e.type)return e.type;switch(e.type){case 0:return"Poker";case 1:return"Bingo";case 2:return"Medley";case 3:return"Raid";default:return e.type}}},5837:function(e,t,n){"use strict";n.d(t,{A:function(){return v},d:function(){return m}});var r=n(5893),o=n(809),u=n.n(o),c=n(2447),i=n(9669),a=n.n(i),s=n(7456),f=function(){var e=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().get((0,s._n)("http://www.projectdivar.com/ev"));case 2:return t=e.sent,e.abrupt("return",(0,s.bZ)(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=n(4693),d=n(7294),p=n(3979),h=n(7179),v=(0,d.createContext)({}),m=function(e){var t=e.event,n=e.children,o=(0,d.useContext)(h.N).setBgImage,u=(0,d.useState)(t),c=u[0],i=u[1];t||(0,l.b)(f,i);var a=(0,d.useMemo)((function(){return c||t}),[c,t]);return(0,d.useEffect)((function(){a&&o((0,p.Z)("/images/events/background/".concat(a.eventid,".jpg")))}),[a]),(0,r.jsx)(v.Provider,{value:{event:a},children:n})}},2965:function(e,t,n){"use strict";n.d(t,{V:function(){return x},U:function(){return b}});var r=n(5893),o=n(9999),u=n(809),c=n.n(u),i=n(2447),a=n(9669),s=n.n(a),f=n(7456),l=function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get((0,f._n)("http://www.projectdivar.com/eventdata/t20?all=true&event=".concat(t-2)));case 2:return n=e.sent,e.abrupt("return",n.data.sort((function(e,t){return e.id-t.id})).map(f.bZ));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=n(4693),p=n(9490),h=n(7294),v=n(5837),m=n(3451),x=(0,h.createContext)({}),b=function(e){var t=e.children,n=(0,h.useContext)(m.G).lbData,u=(0,h.useContext)(v.A).event,c=(0,h.useState)(),i=c[0],a=c[1],s=(0,h.useRef)({}),f=(0,h.useCallback)((function(){return u?l(u.eventid):Promise.resolve(void 0)}),[u]);return(0,d.b)(f,a),(0,h.useEffect)((function(){if(n&&i){var e=n.filter((function(e){return!(s.current[e.rank]&&p.ou.fromISO(e.date).diff(s.current[e.rank]).as("seconds")<=0)&&(s.current[e.rank]=p.ou.fromISO(e.date),!0)}));e.length>0&&a((function(t){return[].concat((0,o.Z)(t),(0,o.Z)(e))}))}}),[n]),(0,r.jsx)(x.Provider,{value:{points:i},children:t})}},4033:function(e,t,n){"use strict";n.d(t,{X:function(){return f},t:function(){return l}});var r=n(5893),o=n(9999),u=n(9490),c=n(7294),i=n(5837),a=n(2965),s=n(3451),f=(0,c.createContext)({}),l=function(e){var t=e.children,n=(0,c.useContext)(s.G).lbData,l=(0,c.useContext)(a.V).points,d=(0,c.useContext)(i.A).event,p=(0,c.useState)({}),h=p[0],v=p[1],m=(0,c.useState)(),x=m[0],b=m[1],g=(0,c.useRef)();return(0,c.useEffect)((function(){!x&&l&&b(l.map((function(e){return{event:d.eventid,rank:e.rank,change:-1*Number(e.difference),date:e.date,points:e.points,name:e.name}})))}),[l]),(0,c.useEffect)((function(){if(d&&x){if(g.current){var e=[],t=n.map((function(t){var n,r=g.current.find((function(e){return e.rank===t.rank}));if(!r)return[t.rank,t.points];var o=t.points-r.points,c=o>0?o:u.ou.fromISO(t.date).diffNow().as("minutes")>-4&&null!==(n=h[t.rank])&&void 0!==n?n:0;return o>0&&e.push({event:d.eventid,rank:t.rank,change:c,date:t.date,points:t.points,name:t.name}),[t.rank,c]}));b((function(t){return[].concat((0,o.Z)(t),e)})),v(Object.fromEntries(t))}g.current=n}}),[n,d]),(0,r.jsx)(f.Provider,{value:{changes:h,pastUpdates:x},children:t})}},3451:function(e,t,n){"use strict";n.d(t,{G:function(){return h},K:function(){return v}});var r=n(5893),o=n(809),u=n.n(o),c=n(2447),i=n(9999),a=n(9669),s=n.n(a),f=n(7456),l=function(){var e=(0,c.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([s().get((0,f._n)("http://www.projectdivar.com/eventdata/t20")),s().get((0,f._n)("http://www.projectdivar.com/eventdata/t50"))]);case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return e.data})).reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t))})).sort((function(e,t){return e.rank-t.rank})).map(f.bZ));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=n(7294),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){return setTimeout(t,e)}))},h=(0,d.createContext)({}),v=function(e){var t=e.lbData,n=e.children,o=(0,d.useState)(),i=o[0],a=o[1],s=(0,d.useState)(),f=s[0],v=s[1],m=(0,d.useState)(2e4)[0];return(0,d.useEffect)((function(){if(!t){var e=!1;(function(){var t=(0,c.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=15;break}return t.prev=1,t.next=4,l();case 4:if(n=t.sent,!e){t.next=7;break}return t.abrupt("break",15);case 7:a(n),v(new Date);case 9:return t.prev=9,t.next=12,p(m);case 12:return t.finish(9);case 13:t.next=0;break;case 15:case"end":return t.stop()}}),t,null,[[1,,9,13]])})));return function(){return t.apply(this,arguments)}})()()}}),[m]),(0,r.jsx)(h.Provider,{value:{lbData:t||i,lastUpdated:f},children:n})}},7179:function(e,t,n){"use strict";n.d(t,{N:function(){return u},f:function(){return c}});var r=n(5893),o=n(7294),u=(0,o.createContext)({}),c=function(e){var t=e.defaultImage,n=e.children,c=(0,o.useState)(),i=c[0],a=c[1];return(0,o.useEffect)((function(){t&&a(t)}),[t]),(0,r.jsx)(u.Provider,{value:{bgImage:i,setBgImage:a},children:n})}},4693:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(809),o=n.n(r),u=n(2447),c=n(7294),i=function(e,t){(0,c.useEffect)((function(){var n=!1;return function(){var r=(0,u.Z)(o().mark((function r(){var u;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,"function"===typeof e?e():e;case 2:if(u=r.sent,!n){r.next=5;break}return r.abrupt("return");case 5:t(u);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()(),function(){n=!0}}),[e,t])}},3979:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(6470),o=function(e){return(0,r.join)("/muni-web",e)}},6363:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(2829)}])},4453:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,809,351,710,433,321,589],(function(){return t(6363),t(2441)}));var n=e.O();_N_E=n}]);