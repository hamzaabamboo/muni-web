(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{5403:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return m}});var t=r(5893),i=r(4121),o=r(7294),s=r(4096),l=r(8017),u=r(2974),c=r(4263),a=r(8024),f=r(5277),d=r(4816),h=r(258),x=r(3411),p=r(9538),j=r(5492),v=r(184),g=r(9933);function m(){var e=(0,o.useRef)(null),n=(0,f.tH)(e),r=(0,i.Z)(n,2),m=r[0],w=r[1],b=(0,o.useState)(),O=b[0],k=b[1],y=(0,j._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),C=(0,i.Z)(y,2),T=C[0],S=C[1];return(0,t.jsxs)(s.k,{flexDir:"column",h:"full",px:2,children:[(0,t.jsx)(u.M,{}),(0,t.jsx)(a.W,{}),(0,t.jsxs)(s.k,{flex:"1",w:"full",flexDirection:["column",null,"row"],alignItems:"stretch",minH:"500px",children:[(0,t.jsx)(l.xu,{flex:"1",children:(0,t.jsxs)(p.Q,{children:[(0,t.jsx)(l.xu,{ref:e,h:"full",minH:"400px",maxH:"600px",children:(0,t.jsx)(h.q,{width:m,height:w,isSmall:!0,isLive:!0,graphFlags:T})}),(0,t.jsx)(v.Y,{graphFlags:T,setGraphFlags:S}),(0,t.jsx)(c.I,{})]})}),(0,t.jsxs)(l.xu,{px:"8",children:[(0,t.jsx)(d.s,{isSmall:!0,onTierSelected:function(e){return k(e)}}),(0,t.jsx)(g.z,{children:(0,t.jsx)(p.Q,{children:(0,t.jsx)(x.z,{tier:O,onClose:function(){return k(void 0)}})})})]})]})]})}},184:function(e,n,r){"use strict";r.d(n,{Y:function(){return a}});var t=r(5893),i=r(6265),o=r(4096),s=r(980),l=r(4115);r(7294);function u(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var a=function(e){var n=e.graphFlags,r=e.setGraphFlags,u=e.forecastOptions,a=void 0!==u&&u,f=function(e){r((function(n){return c(c({},n),{},(0,i.Z)({},e,!n[e]))}))};return(0,t.jsx)(o.k,{flexDir:"column",children:(0,t.jsxs)(o.k,{flexDir:"column",children:[(0,t.jsxs)(o.k,{children:[(0,t.jsx)(s.Switch,{isChecked:n.showTooltip,onChange:function(){return f("showTooltip")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(o.k,{children:[(0,t.jsx)(s.Switch,{isChecked:n.advancedZoom,onChange:function(){return f("advancedZoom")}}),(0,t.jsx)(l.x,{ml:2,children:"Advanced Zoom"})]}),a&&(0,t.jsxs)(o.k,{children:[(0,t.jsx)(s.Switch,{isChecked:n.showForecast,onChange:function(){return f("showForecast")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},258:function(e,n,r){"use strict";r.d(n,{q:function(){return c}});var t=r(5893),i=r(7294),o=r(9933),s=r(5837),l=r(9538),u=r(7251),c=function(e){var n=e.width,r=e.height,c=e.isSmall,a=void 0!==c&&c,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,x=e.showForecast,p=void 0!==x&&x,j=(0,i.useContext)(l.B),v=j.points,g=j.displayTier,m=(0,i.useContext)(s.A).event,w=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(u.k,{id:"score",points:v,startDate:null===m||void 0===m?void 0:m.startdate,endDate:null===m||void 0===m?void 0:m.enddate,width:n,height:r,isSmall:a,isLive:d,forecast:p&&(null===g||void 0===g?void 0:g.filter((function(e){return null===w||void 0===w?void 0:w[e]})).map((function(e){return w[e]})).flatMap((function(e){return e}))),graphFlags:h})}},4263:function(e,n,r){"use strict";r.d(n,{I:function(){return c}});var t=r(5893),i=r(9999),o=r(6185),s=r(4096),l=r(7294),u=r(9538),c=function(){var e=(0,l.useContext)(u.B),n=e.displayTier,r=e.setDisplayTier,c=e.allTiers,a=(0,l.useMemo)((function(){return[{label:"Select All",tiers:c},{label:"Clear",tiers:[]},{label:"< T10",tiers:c.filter((function(e){return e<=10}))},{label:"< T20",tiers:c.filter((function(e){return e<=20}))},{label:"< T100",tiers:c.filter((function(e){return e<=100}))},{label:"> T500",tiers:c.filter((function(e){return e>=500}))}]}),[c]);return(0,t.jsxs)(s.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[a.map((function(e){return(0,t.jsx)(o.z,{m:2,bg:"blue.200",onClick:function(){return r(e.tiers)},children:e.label},e.label)})),c.sort((function(e,n){return e-n})).map((function(e){return(0,t.jsxs)(o.z,{m:2,bg:null!==n&&void 0!==n&&n.includes(e)?"green.200":"gray.200",onClick:function(){return function(e){if(null!==n&&void 0!==n&&n.includes(e))return r((function(n){return n.filter((function(n){return n!==e}))}));r((function(n){return[].concat((0,i.Z)(n),[e])}))}(e)},children:["T",e]},e)}))]})}},8502:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return r(5403)}])}},function(e){e.O(0,[774,809,285,351,263,433,980,740,321,11,337,162,12],(function(){return n=8502,e(e.s=n);var n}));var n=e.O();_N_E=n}]);