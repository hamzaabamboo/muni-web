(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[645,179],{9122:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return v}});var t=r(5893),i=r(4121),a=r(7294),l=r(4115),o=r(8017),u=r(2974),s=r(3451),c=r(9490),d=r(9695),f=r.n(d),h=r(4263),p=r(8024),x=r(5277),g=r(258),m=r(9538),j=r(5492),b=r(184);function v(){var e=(0,a.useContext)(s.G).lastUpdated,n=(0,a.useRef)(null),r=(0,x.tH)(n),d=(0,i.Z)(r,2),v=d[0],w=d[1],y=(0,j._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),k=(0,i.Z)(y,2),O=k[0],C=k[1],S=(0,a.useMemo)((function(){var n=c.ou.fromJSDate(e).diffNow().as("milliseconds");return 0===n?"Just now":f()(n,{round:!0,largest:2})+" ago"}),[e]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.M,{}),(0,t.jsx)(p.W,{}),(0,t.jsxs)(l.x,{textAlign:"center",children:["Last Updated: ",S]}),(0,t.jsx)(b.Y,{graphFlags:O,setGraphFlags:C}),(0,t.jsxs)(m.Q,{children:[(0,t.jsx)(o.xu,{ref:n,w:"full",h:"600px",children:(0,t.jsx)(g.q,{graphFlags:O,width:v,height:w})}),(0,t.jsx)(h.I,{})]})]})}},184:function(e,n,r){"use strict";r.d(n,{Y:function(){return c}});var t=r(5893),i=r(6265),a=r(4096),l=r(4115),o=r(980);r(7294);function u(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var c=function(e){var n=e.graphFlags,r=e.setGraphFlags,u=function(e){r((function(n){return s(s({},n),{},(0,i.Z)({},e,!n[e]))}))};return(0,t.jsxs)(a.k,{flexDir:"column",children:[(0,t.jsx)(l.x,{ml:1,as:"span",color:"red.600",fontStyle:"italic",textAlign:"center",children:"(These settings are experimental, muni may break or becomes very slow)"}),(0,t.jsxs)(a.k,{flexDir:"column",children:[(0,t.jsxs)(a.k,{children:[(0,t.jsx)(o.Switch,{isChecked:n.showTooltip,onChange:function(){return u("showTooltip")}}),(0,t.jsx)(l.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(a.k,{children:[(0,t.jsx)(o.Switch,{isChecked:n.advancedZoom,onChange:function(){return u("advancedZoom")}}),(0,t.jsx)(l.x,{ml:2,children:"Advanced Zoom"})]})]})]})}},8024:function(e,n,r){"use strict";r.d(n,{W:function(){return u}});var t=r(5893),i=r(4096),a=r(8017),l=r(1664),o=r(1163),u=function(){var e=(0,o.useRouter)();return(0,t.jsxs)(i.k,{py:2,justifyContent:["center","start"],children:[(0,t.jsx)(a.xu,{mx:4,p:2,rounded:"md",bg:"/"===e.pathname?"gray.200":"transparent",color:"/"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(l.default,{href:"/",children:"Muniboard"})}),(0,t.jsx)(a.xu,{mx:4,p:2,rounded:"md",bg:"/graph"===e.pathname?"gray.200":"transparent",color:"/graph"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(l.default,{href:"/graph",children:"Graph"})}),(0,t.jsx)(a.xu,{mx:4,p:2,rounded:"md",bg:"/analyze"===e.pathname?"gray.200":"transparent",color:"/analyze"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(l.default,{href:"/analyze",children:"Analyze"})}),(0,t.jsx)(a.xu,{mx:4,p:2,rounded:"md",bg:"/live"===e.pathname?"gray.200":"transparent",color:"/live"===e.pathname?"blue.400":"black",fontSize:"lg",children:(0,t.jsx)(l.default,{href:"/live",children:"Live View"})})]})}},258:function(e,n,r){"use strict";r.d(n,{q:function(){return u}});var t=r(5893),i=r(7294),a=r(5837),l=r(9538),o=r(7251),u=function(e){var n=e.width,r=e.height,u=e.isSmall,s=void 0!==u&&u,c=e.isLive,d=void 0!==c&&c,f=e.graphFlags,h=(0,i.useContext)(l.B).points,p=(0,i.useContext)(a.A).event;return(0,t.jsx)(o.k,{id:"score",points:h,startDate:null===p||void 0===p?void 0:p.startdate,endDate:null===p||void 0===p?void 0:p.enddate,width:n,height:r,isSmall:s,isLive:d,graphFlags:f})}},4263:function(e,n,r){"use strict";r.d(n,{I:function(){return s}});var t=r(5893),i=r(9999),a=r(6185),l=r(4096),o=r(7294),u=r(9538),s=function(){var e=(0,o.useContext)(u.B),n=e.displayTier,r=e.setDisplayTier,s=e.allTiers,c=(0,o.useMemo)((function(){return[{label:"Select All",tiers:s},{label:"Clear",tiers:[]},{label:"< T10",tiers:s.filter((function(e){return e<=10}))},{label:"< T20",tiers:s.filter((function(e){return e<=20}))},{label:"< T100",tiers:s.filter((function(e){return e<=100}))},{label:"> T500",tiers:s.filter((function(e){return e>=500}))}]}),[s]);return(0,t.jsxs)(l.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[c.map((function(e){return(0,t.jsx)(a.z,{m:2,bg:"blue.200",onClick:function(){return r(e.tiers)},children:e.label},e.label)})),s.sort((function(e,n){return e-n})).map((function(e){return(0,t.jsxs)(a.z,{m:2,bg:null!==n&&void 0!==n&&n.includes(e)?"green.200":"gray.200",onClick:function(){return function(e){if(null!==n&&void 0!==n&&n.includes(e))return r((function(n){return n.filter((function(n){return n!==e}))}));r((function(n){return[].concat((0,i.Z)(n),[e])}))}(e)},children:["T",e]},e)}))]})}},9439:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graph",function(){return r(9122)}])},4453:function(){}},function(e){e.O(0,[774,809,351,263,433,980,845,412,11,337,733],(function(){return n=9439,e(e.s=n);var n}));var n=e.O();_N_E=n}]);