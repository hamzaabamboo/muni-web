(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{9396:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});var r=n(5893),u=n(6265),o=n(9008),c=(n(7294),n(4536)),a=n(4096),i=n(8017),s=n(9444),f=n(4115),p=n(7216),l=n(3451),d=n(2965),v=function(t){var e=t.providers,n=t.children;return e.reverse().map((function(t){return t})).reduce((function(t,e){return(0,r.jsx)(e,{children:t})}),n)},h=n(4033);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w="/muni-web";var j=function(t){var e=t.Component,n=t.pageProps;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"Create \u3080\u306b App"}),(0,r.jsx)("link",{rel:"icon",href:"".concat(w,"/favicon.ico")}),(0,r.jsx)("meta",{property:"og:title",content:"Muni Web"}),(0,r.jsx)("meta",{property:"og:url",content:"https://hamzaabamboo.github.io/muni-web"}),(0,r.jsx)("meta",{property:"og:image",content:"".concat(w,"/images/munihappy.png")}),(0,r.jsx)("meta",{property:"og:description",content:"Munimunimunimunimuni"})]}),(0,r.jsx)(c.x,{children:(0,r.jsx)(v,{providers:[l.K,p.d,d.U,h.t],children:(0,r.jsxs)(a.k,{flexDirection:"column",w:"full",minH:"100vh",alignItems:"stretch",children:[(0,r.jsx)(a.k,{as:"main",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",flex:1,children:(0,r.jsx)(i.xu,{maxW:["100%",null,"90%"],w:"full",mx:"auto",children:(0,r.jsx)(e,b({},n))})}),(0,r.jsxs)(a.k,{as:"footer",py:"20px",justifyContent:"center",children:["Powered by"," ",(0,r.jsx)(s.r,{href:"https://www.youtube.com/watch?v=M2wZs7eHHVo",children:(0,r.jsx)(f.x,{as:"span",color:"blue.500",cursor:"pointer",ml:"2",children:"\u3080\u306b"})})]})]})})})]})}},7456:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});var r=function(t){return t.match("projectdivar")?"https://hambot.ham-san.net/d4dj/sig?url="+encodeURIComponent(t):t.match("d4-dj")?"https://hambot.ham-san.net/d4dj/d4db?url="+encodeURIComponent(t):t}},7216:function(t,e,n){"use strict";n.d(e,{A:function(){return h},d:function(){return m}});var r=n(5893),u=n(809),o=n.n(u),c=n(2447),a=n(9490),i=n(9669),s=n.n(i),f=n(7456),p=function(){var t=(0,c.Z)(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post((0,f._)("http://d4-dj-frontend.vercel.app/api/dbs"),{dbs:e});case 2:return n=t.sent,t.abrupt("return",e.map((function(t){return n.data.result[t]})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,c.Z)(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(["EventMaster"]);case 2:return e=t.sent,n=Object.values(e[0]).find((function(t){return a.ou.fromSeconds(t.StartDate).diffNow().as("seconds")<0&&a.ou.fromSeconds(t.RankFixStartDate).diffNow().as("seconds")>0})),t.abrupt("return",{id:101,eventid:n.Id,name:n.Name,startdate:a.ou.fromSeconds(n.StartDate).toISO(),enddate:a.ou.fromSeconds(n.ResultAnnouncementDate).toISO(),rank_end:a.ou.fromSeconds(n.ReceptionCloseDate).toISO(),type:n.Type._name_});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=n(4693),v=n(7294),h=(0,v.createContext)({}),m=function(t){var e=t.children,n=(0,v.useState)(),u=n[0],o=n[1];return(0,d.b)(l,o),(0,r.jsx)(h.Provider,{value:{event:u},children:e})}},2965:function(t,e,n){"use strict";n.d(e,{V:function(){return m},U:function(){return b}});var r=n(5893),u=n(9999),o=n(809),c=n.n(o),a=n(2447),i=n(9669),s=n.n(i),f=n(7456),p=function(){var t=(0,a.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get((0,f._)("http://www.projectdivar.com/eventdata/t20?all=true&event=14"));case 2:return e=t.sent,t.abrupt("return",e.data.sort((function(t,e){return t.id-e.id})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=n(4693),d=n(9490),v=n(7294),h=n(3451),m=(0,v.createContext)({}),b=function(t){var e=t.children,n=(0,v.useContext)(h.G).lbData,o=(0,v.useState)([]),c=o[0],a=o[1],i=(0,v.useRef)({});return(0,l.b)(p,a),(0,v.useEffect)((function(){if(n){var t=n.filter((function(t){return!(i.current[t.rank]&&d.ou.fromISO(t.date).diff(i.current[t.rank]).as("seconds")<=0)&&(i.current[t.rank]=d.ou.fromISO(t.date),!0)}));t.length>0&&a((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(t))}))}}),[n]),(0,r.jsx)(m.Provider,{value:{points:c},children:e})}},4033:function(t,e,n){"use strict";n.d(e,{X:function(){return p},t:function(){return l}});var r=n(5893),u=n(6265),o=n(4121),c=n(5492),a=n(9490),i=n(7294),s=n(3451);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var p=(0,i.createContext)({}),l=function(t){var e=t.children,n=(0,i.useContext)(s.G).lbData,l=(0,i.useState)({}),d=l[0],v=l[1],h=(0,c._)("pastUpdates",{}),m=(0,o.Z)(h,2),b=m[0],w=m[1],j=(0,i.useRef)();return(0,i.useEffect)((function(){if(j.current){var t=[],e=n.map((function(e){var n,r=j.current.find((function(t){return t.rank===e.rank})),u=e.points-r.points,o=u>0?u:a.ou.fromISO(e.date).diffNow().as("minutes")>-4&&null!==(n=d[e.rank])&&void 0!==n?n:0;return u>0&&t.push([e.rank,{change:o,date:e.date,point:e.points}]),[e.rank,o]}));w((function(e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e);return t.forEach((function(t){var e=(0,o.Z)(t,2),r=e[0],u=e[1];r in n||(n[r]=[]),n[r].push(u)})),n})),v(Object.fromEntries(e))}j.current=n}),[n]),(0,r.jsx)(p.Provider,{value:{changes:d,pastUpdates:b},children:e})}},3451:function(t,e,n){"use strict";n.d(e,{G:function(){return v},K:function(){return h}});var r=n(5893),u=n(809),o=n.n(u),c=n(2447),a=n(9999),i=n(9669),s=n.n(i),f=n(7456),p=function(){var t=(0,c.Z)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([s().get((0,f._)("http://www.projectdivar.com/eventdata/t20")),s().get((0,f._)("http://www.projectdivar.com/eventdata/t50"))]);case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return t.data})).reduce((function(t,e){return[].concat((0,a.Z)(t),(0,a.Z)(e))})).sort((function(t,e){return t.rank-e.rank})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=n(7294),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout(e,t)}))},v=(0,l.createContext)({}),h=function(t){var e=t.children,n=(0,l.useState)(),u=n[0],a=n[1],i=(0,l.useState)(),s=i[0],f=i[1],h=(0,l.useState)(2e4)[0];return(0,l.useEffect)((function(){var t=!1;(function(){var e=(0,c.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=15;break}return e.prev=1,e.next=4,p();case 4:if(n=e.sent,!t){e.next=7;break}return e.abrupt("break",15);case 7:a(n),f(new Date);case 9:return e.prev=9,e.next=12,d(h);case 12:return e.finish(9);case 13:e.next=0;break;case 15:case"end":return e.stop()}}),e,null,[[1,,9,13]])})));return function(){return e.apply(this,arguments)}})()()}),[h]),(0,r.jsx)(v.Provider,{value:{lbData:u,lastUpdated:s},children:e})}},5492:function(t,e,n){"use strict";n.d(e,{_:function(){return a}});var r=n(7294),u=n(4047),o=n(2700),c=function(){function t(e){(0,u.Z)(this,t),this.key=e}return(0,o.Z)(t,[{key:"clear",value:function(){localStorage.removeItem(this.key)}},{key:"value",get:function(){try{var t=localStorage.getItem(this.key);return null!==t?JSON.parse(t):null}catch(e){return null}},set:function(t){if(null!==t){var e=JSON.stringify(t);localStorage.setItem(this.key,e)}else localStorage.removeItem(this.key)}}]),t}(),a=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=new c(t),o=(0,r.useState)(u.value||n),a=o[0],i=o[1],s=function(t){var n="function"===typeof t?t.call(e,a):t;u.value=n,i(n)},f=function(t){return function(e){e.key===t&&i(JSON.parse(e.newValue||""))}};return(0,r.useEffect)((function(){return window.addEventListener("storage",f(t)),function(){window.removeEventListener("storage",f(t))}}),[t]),[a,s]}},4693:function(t,e,n){"use strict";n.d(e,{b:function(){return a}});var r=n(809),u=n.n(r),o=n(2447),c=n(7294),a=function(t,e){(0,c.useEffect)((function(){var n=!1;return function(){var r=(0,o.Z)(u().mark((function r(){var o;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,"function"===typeof t?t():t;case 2:if(o=r.sent,!n){r.next=5;break}return r.abrupt("return");case 5:e(o);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()(),function(){n=!0}}),[t,e])}},6363:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(9396)}])}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,809,351,828,576],(function(){return e(6363),e(2441)}));var n=t.O();_N_E=n}]);