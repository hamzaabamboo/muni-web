(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{9396:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var r=n(5893),u=n(6265),a=n(9008),o=(n(7294),n(4536)),c=n(4096),i=n(8017),s=n(9444),f=n(4115),l=n(7216),p=n(3451),d=n(7710),v=function(t){var e=t.providers,n=t.children;return e.reverse().map((function(t){return t})).reduce((function(t,e){return(0,r.jsx)(e,{children:t})}),n)},h=n(4033);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x="/muni-web";var b=function(t){var e=t.Component,n=t.pageProps;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Create \u3080\u306b App"}),(0,r.jsx)("link",{rel:"icon",href:"".concat(x,"/favicon.ico")}),(0,r.jsx)("meta",{property:"og:title",content:"Muni Web"}),(0,r.jsx)("meta",{property:"og:url",content:"https://hamzaabamboo.github.io/muni-web"}),(0,r.jsx)("meta",{property:"og:image",content:"".concat(x,"/images/munihappy.png")}),(0,r.jsx)("meta",{property:"og:description",content:"Munimunimunimunimuni"})]}),(0,r.jsx)(o.x,{children:(0,r.jsx)(v,{providers:[p.K,l.d,d.U,h.t],children:(0,r.jsxs)(c.k,{flexDirection:"column",w:"full",minH:"100vh",alignItems:"stretch",children:[(0,r.jsx)(c.k,{as:"main",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",flex:1,children:(0,r.jsx)(i.xu,{maxW:["100%",null,"90%"],w:"full",mx:"auto",children:(0,r.jsx)(e,w({},n))})}),(0,r.jsxs)(c.k,{as:"footer",py:"20px",justifyContent:"center",children:["Powered by"," ",(0,r.jsx)(s.r,{href:"https://www.youtube.com/watch?v=M2wZs7eHHVo",children:(0,r.jsx)(f.x,{as:"span",color:"blue.500",cursor:"pointer",ml:"2",children:"\u3080\u306b"})})]})]})})})]})}},7456:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});var r=function(t){return t.match("projectdivar")?"https://hambot.ham-san.net/d4dj/sig?url="+encodeURIComponent(t):t.match("d4-dj")?"https://hambot.ham-san.net/d4dj/d4db?url="+encodeURIComponent(t):t}},7216:function(t,e,n){"use strict";n.d(e,{A:function(){return h},d:function(){return m}});var r=n(5893),u=n(809),a=n.n(u),o=n(2447),c=n(9490),i=n(9669),s=n.n(i),f=n(7456),l=function(){var t=(0,o.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().post((0,f._)("http://d4-dj-frontend.vercel.app/api/dbs"),{dbs:e});case 2:return n=t.sent,t.abrupt("return",e.map((function(t){return n.data.result[t]})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,o.Z)(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(["EventMaster"]);case 2:return e=t.sent,n=Object.values(e[0]).find((function(t){return c.ou.fromSeconds(t.StartDate).diffNow().as("seconds")<0&&c.ou.fromSeconds(t.RankFixStartDate).diffNow().as("seconds")>0})),t.abrupt("return",{id:101,eventid:n.Id,name:n.Name,startdate:c.ou.fromSeconds(n.StartDate).toISO(),enddate:c.ou.fromSeconds(n.ResultAnnouncementDate).toISO(),rank_end:c.ou.fromSeconds(n.ReceptionCloseDate).toISO(),type:n.Type._name_});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=n(4693),v=n(7294),h=(0,v.createContext)({}),m=function(t){var e=t.children,n=(0,v.useState)(),u=n[0],a=n[1];return(0,d.b)(p,a),(0,r.jsx)(h.Provider,{value:{event:u},children:e})}},7710:function(t,e,n){"use strict";n.d(e,{V:function(){return j},U:function(){return y}});var r=n(5893),u=n(9999),a=n(4121),o=n(809),c=n.n(o),i=n(2447),s=n(9669),f=n.n(s),l=n(7456),p=function(){var t=(0,i.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f().get((0,l._)("http://www.projectdivar.com/eventdata/t20?all=true&event=14"));case 2:return e=t.sent,t.abrupt("return",e.data.sort((function(t,e){return t.id-e.id})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=n(7294),v=n(4047),h=n(2700),m=function(){function t(e){(0,v.Z)(this,t),this.key=e}return(0,h.Z)(t,[{key:"clear",value:function(){localStorage.removeItem(this.key)}},{key:"value",get:function(){try{var t=localStorage.getItem(this.key);return null!==t?JSON.parse(t):null}catch(e){return null}},set:function(t){if(null!==t){var e=JSON.stringify(t);localStorage.setItem(this.key,e)}else localStorage.removeItem(this.key)}}]),t}(),w=n(4693),x=n(9490),b=n(3451),j=(0,d.createContext)({}),y=function(t){var e=t.children,n=(0,d.useContext)(b.G).lbData,o=(0,d.useState)([]),c=o[0],i=o[1],s=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new m(t),u=(0,d.useState)(r.value||n),a=u[0],o=u[1],c=function(t){var n="function"===typeof t?t.call(e,a):t;r.value=n,o(n)},i=function(t){return function(e){e.key===t&&o(JSON.parse(e.newValue||""))}};return(0,d.useEffect)((function(){return window.addEventListener("storage",i(t)),function(){window.removeEventListener("storage",i(t))}}),[t]),[a,c]}("displayTier",null),f=(0,a.Z)(s,2),l=f[0],v=f[1],h=(0,d.useState)([]),y=h[0],k=h[1],g=(0,d.useRef)({}),S=(0,d.useCallback)((function(t){var e=Array.from(new Set(t.map((function(t){return t.rank}))));k(e),null===l&&v(e),i(t)}),[]);(0,w.b)(p,S),(0,d.useEffect)((function(){if(n){var t=n.filter((function(t){return!(g.current[t.rank]&&x.ou.fromISO(t.date).diff(g.current[t.rank]).as("seconds")<=0)&&(g.current[t.rank]=x.ou.fromISO(t.date),!0)}));t.length>0&&i((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(t))}))}}),[n]);var O=(0,d.useMemo)((function(){return l?c.filter((function(t){return l.includes(t.rank)})):c}),[c,l]);return(0,r.jsx)(j.Provider,{value:{points:O,displayTier:l,setDisplayTier:v,allTiers:y},children:e})}},4033:function(t,e,n){"use strict";n.d(e,{X:function(){return c},t:function(){return i}});var r=n(5893),u=n(9490),a=n(7294),o=n(3451),c=(0,a.createContext)({}),i=function(t){var e=t.children,n=(0,a.useContext)(o.G).lbData,i=(0,a.useState)({}),s=i[0],f=i[1],l=(0,a.useRef)();return(0,a.useEffect)((function(){if(l.current){var t=n.map((function(t){var e,n=l.current.find((function(e){return e.rank===t.rank})),r=t.points-n.points;return[t.rank,r>0?r:u.ou.fromISO(t.date).diffNow().as("minutes")>-4&&null!==(e=s[t.rank])&&void 0!==e?e:0]}));f(Object.fromEntries(t))}l.current=n}),[n]),(0,r.jsx)(c.Provider,{value:{changes:s},children:e})}},3451:function(t,e,n){"use strict";n.d(e,{G:function(){return v},K:function(){return h}});var r=n(5893),u=n(809),a=n.n(u),o=n(2447),c=n(9999),i=n(9669),s=n.n(i),f=n(7456),l=function(){var t=(0,o.Z)(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([s().get((0,f._)("http://www.projectdivar.com/eventdata/t20")),s().get((0,f._)("http://www.projectdivar.com/eventdata/t50"))]);case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return t.data})).reduce((function(t,e){return[].concat((0,c.Z)(t),(0,c.Z)(e))})).sort((function(t,e){return t.rank-e.rank})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=n(7294),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout(e,t)}))},v=(0,p.createContext)({}),h=function(t){var e=t.children,n=(0,p.useState)(),u=n[0],c=n[1],i=(0,p.useState)(),s=i[0],f=i[1],h=(0,p.useState)(2e4)[0];return(0,p.useEffect)((function(){var t=!1;(function(){var e=(0,o.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=15;break}return e.prev=1,e.next=4,l();case 4:if(n=e.sent,!t){e.next=7;break}return e.abrupt("break",15);case 7:c(n),f(new Date);case 9:return e.prev=9,e.next=12,d(h);case 12:return e.finish(9);case 13:e.next=0;break;case 15:case"end":return e.stop()}}),e,null,[[1,,9,13]])})));return function(){return e.apply(this,arguments)}})()()}),[h]),(0,r.jsx)(v.Provider,{value:{lbData:u,lastUpdated:s},children:e})}},4693:function(t,e,n){"use strict";n.d(e,{b:function(){return c}});var r=n(809),u=n.n(r),a=n(2447),o=n(7294),c=function(t,e){(0,o.useEffect)((function(){var n=!1;return function(){var r=(0,a.Z)(u().mark((function r(){var a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,"function"===typeof t?t():t;case 2:if(a=r.sent,!n){r.next=5;break}return r.abrupt("return");case 5:e(a);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()(),function(){n=!0}}),[t,e])}},6363:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(9396)}])}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,809,351,777,757,539],(function(){return e(6363),e(2441)}));var n=t.O();_N_E=n}]);