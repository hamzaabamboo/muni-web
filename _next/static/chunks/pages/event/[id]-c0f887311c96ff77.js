(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{1391:function(e,n,t){"use strict";t.d(n,{Ph:function(){return p}});var r=t(9762),i=t(2846),o=t(4244),l=t(5031),a=t(8554),c=t.n(a),u=t(7294);function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function f(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var d=["children","placeholder","className"],h=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],v=["children"],m=(0,i.Gp)((function(e,n){var t=e.children,r=e.placeholder,o=e.className,a=f(e,d);return u.createElement(i.m$.select,s({},a,{ref:n,className:(0,l.cx)("chakra-select",o)}),r&&u.createElement("option",{value:""},r),t)}));l.Ts&&(m.displayName="SelectField");var p=(0,i.Gp)((function(e,n){var t=(0,i.jC)("Select",e),a=(0,i.Lr)(e),d=a.rootProps,v=a.placeholder,p=a.icon,x=a.color,b=a.height,y=a.h,g=a.minH,w=a.minHeight,k=a.iconColor,S=a.iconSize;a.isFullWidth;var C=f(a,h),_=(0,l.Vl)(C,o.oE),O=_[0],T=_[1],E=(0,r.Yp)(T),N={width:"100%",height:"fit-content",position:"relative",color:x},P=c()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return u.createElement(i.m$.div,s({className:"chakra-select__wrapper",__css:N},O,d),u.createElement(m,s({ref:n,height:null!=y?y:b,minH:null!=g?g:w,placeholder:v},E,{__css:P}),e.children),u.createElement(j,s({"data-disabled":(0,l.PB)(E.disabled)},(k||x)&&{color:k||x},{__css:t.icon},S&&{fontSize:S}),p))}));l.Ts&&(p.displayName="Select");var x=function(e){return u.createElement("svg",s({viewBox:"0 0 24 24"},e),u.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},b=(0,i.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),j=function(e){var n=e.children,t=void 0===n?u.createElement(x,null):n,r=f(e,v),i=u.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return u.createElement(b,s({},r,{className:"chakra-select__icon-wrapper"}),u.isValidElement(t)?i:null)};l.Ts&&(j.displayName="SelectIcon")},9042:function(e,n,t){"use strict";t.d(n,{iA:function(){return d},p3:function(){return m},Td:function(){return b},Th:function(){return p},hr:function(){return v},Tr:function(){return x}});var r=t(2846),i=t(5031),o=t(7294);function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var c=["className"],u=["placement"],s=["isNumeric"],f=["isNumeric"],d=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Table",e),u=(0,r.Lr)(e),s=u.className,f=a(u,c);return o.createElement(r.Fo,{value:t},o.createElement(r.m$.table,l({role:"table",ref:n,__css:t.table,className:(0,i.cx)("chakra-table",s)},f)))}));i.Ts&&(d.displayName="Table");var h=(0,r.Gp)((function(e,n){var t=e.placement,i=void 0===t?"bottom":t,c=a(e,u),s=(0,r.yK)();return o.createElement(r.m$.caption,l({},c,{ref:n,__css:l({},s.caption,{captionSide:i})}))}));i.Ts&&(h.displayName="TableCaption");var v=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return o.createElement(r.m$.thead,l({},e,{ref:n,__css:t.thead}))})),m=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return o.createElement(r.m$.tbody,l({},e,{ref:n,__css:t.tbody}))})),p=(0,r.Gp)((function(e,n){var t=e.isNumeric,i=a(e,s),c=(0,r.yK)();return o.createElement(r.m$.th,l({},i,{ref:n,__css:c.th,"data-is-numeric":t}))})),x=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return o.createElement(r.m$.tr,l({role:"row"},e,{ref:n,__css:t.tr}))})),b=(0,r.Gp)((function(e,n){var t=e.isNumeric,i=a(e,f),c=(0,r.yK)();return o.createElement(r.m$.td,l({role:"gridcell"},i,{ref:n,__css:c.td,"data-is-numeric":t}))}))},7017:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/event/[id]",function(){return t(1030)}])},1030:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return A},default:function(){return z}});var r=t(5893),i=t(8527),o=t(5193),l=t(3756),a=t(2684),c=t(9042),u=t(6755),s=t(9490),f=t(7294),d=t(4517),h=t(5487),v=t(9867),m=t(8203),p=t(1213);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}var j=function(e){var n=e.isSmall,t=(e.interval,e.isPlaying,e.onTierSelected),o=(0,f.useContext)(h.G).lbData,l=(0,f.useContext)(d.A).event,x=(0,a.Gc)();if(!o)return(0,r.jsx)(m.L,{});var j=n||"base"===x||"sm"===x,y=j&&{display:"none"},g=(0,f.useMemo)((function(){return Math.round(s.ou.fromISO(l.enddate).diff(s.ou.fromISO(l.startdate)).as("hours"))}),[l]);return(0,r.jsxs)(i.kC,{flexDir:"column",w:"full",children:[(0,r.jsx)(i.kC,{flexDir:"column",children:(0,r.jsx)(i.xv,{fontSize:"4xl",fontWeight:"bold",children:"Muniboard"})}),(0,r.jsxs)(c.iA,{size:"sm",children:[(0,r.jsx)(c.hr,{children:(0,r.jsxs)(c.Tr,{children:[(0,r.jsx)(c.Th,{textAlign:"center",children:"Rank"}),(0,r.jsx)(c.Th,{children:"Name"}),(0,r.jsx)(c.Th,{children:"Points"}),(0,r.jsx)(c.Th,b({},y,{children:"Rate/hr"}))]})}),(0,r.jsx)(c.p3,{children:o.map((function(e,n,o){return(0,r.jsxs)(c.Tr,{borderBottom:u.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===t||void 0===t?void 0:t(e.rank)},children:[(0,r.jsx)(c.Td,{textAlign:"center",children:(0,r.jsx)(p.K,{tier:e.rank,children:j?(0,v.a)(e.rank):e.rank})}),(0,r.jsxs)(c.Td,{children:[(0,r.jsx)(i.xv,{fontSize:j?"sm":"md",overflow:j?"ellipsis":"unset",children:e.name}),(0,r.jsx)(i.xv,b({fontSize:"xs"},y,{children:e.description}))]}),(0,r.jsx)(c.Td,{children:(0,r.jsx)(i.xv,{fontSize:j?"sm":"md",children:e.points})}),(0,r.jsx)(c.Td,{children:(0,r.jsx)(i.xv,{fontSize:j?"sm":"md",children:Math.round(e.points/g)})})]},e.rank)}))})]})]})},y=t(9380),g=t(5117),w=t(8889),k=t(3509),S=t(6701),C=t(2787),_=t(8976),O=t(3660),T=t(8987),E=t(7477),N=t(5277);function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=!0;function z(e){var n=e.event,t=e.points,a=(0,f.useRef)(null),c=P((0,N.tH)(a),2),u=c[0],s=c[1],v=(0,f.useState)("point"),m=v[0],p=v[1],x=P((0,O._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),b=x[0],A=x[1],z=(0,f.useMemo)((function(){return Array.from(new Set(t.map((function(e){return e.rank})))).map((function(e){var n=t.filter((function(n){return n.rank===e}));return n[(0,_.F_Y)(n,(function(e){return(0,_.ji_)(e.date)}))]})).map((function(e){return e})).sort((function(e,n){return e.rank-n.rank}))}),[t]);return(0,r.jsx)(d.d,{event:n,children:(0,r.jsx)(E.Q,{points:t,children:(0,r.jsx)(h.K,{lbData:z,children:(0,r.jsxs)(T.z,{children:[(0,r.jsx)(g.M,{}),(0,r.jsxs)(i.kC,{flexDir:["column",null,null,"row"],px:4,children:[(0,r.jsxs)(i.kC,{flexDir:"column",flex:1,children:[(0,r.jsxs)(i.kC,{children:[(0,r.jsx)(o.zx,{mx:4,p:2,rounded:"md",colorScheme:"blue",variant:"point"===m?"solid":"outline",onClick:function(){return p("point")},fontSize:"lg",children:"Point"}),(0,r.jsx)(o.zx,{mx:4,p:2,rounded:"md",colorScheme:"blue",variant:"rate"===m?"solid":"outline",onClick:function(){return p("rate")},fontSize:"lg",children:"Rate"})]}),"point"===m?(0,r.jsx)(i.xu,{ref:a,minH:"600px",children:(0,r.jsx)(S.q,{width:u,height:s,graphFlags:b,isSmall:!0})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.P,{graphFlags:b}),(0,r.jsx)(y.k,{})]}),(0,r.jsx)(w.Y,{graphFlags:b,setGraphFlags:A}),(0,r.jsx)(C.I,{}),(0,r.jsx)(i.xu,{w:"full",position:"relative",display:["none",null,null,"block"],children:(0,r.jsx)("img",{src:(0,l._n)("http://projectdivar.com:8080/event/t20_".concat(n.eventid-2,".png"))})})]}),(0,r.jsx)(i.kC,{flex:1,children:(0,r.jsx)(j,{})}),(0,r.jsx)(i.xu,{w:"full",position:"relative",display:["block",null,null,"none"],children:(0,r.jsx)("img",{src:(0,l._n)("http://projectdivar.com:8080/event/t20_".concat(n.eventid-2,".png"))})})]})]})})})})}},9380:function(e,n,t){"use strict";t.d(n,{k:function(){return u}});var r=t(5893),i=t(8527),o=t(1391),l=t(7294),a=t(8987),c=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],u=function(){var e=(0,l.useContext)(a.O),n=e.interval,t=e.setInterval;return(0,r.jsxs)(i.kC,{flexDir:"column",children:[(0,r.jsx)(i.xv,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,r.jsxs)(i.kC,{flexDir:"row",alignItems:"center",children:[(0,r.jsx)(i.xv,{mr:2,children:"Interval"}),(0,r.jsx)(o.Ph,{value:n,onChange:function(e){return t(Number(e.target.value))},children:c.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},8889:function(e,n,t){"use strict";t.d(n,{Y:function(){return a}});var r=t(5893),i=t(8527),o=t(9033);t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=function(e){var n=e.graphFlags,t=e.setGraphFlags,a=e.forecastOptions,c=void 0!==a&&a,u=function(e){t((function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},n,l({},e,!n[e]))}))};return(0,r.jsx)(i.kC,{flexDir:"column",children:(0,r.jsxs)(i.kC,{flexDir:"column",children:[(0,r.jsxs)(i.kC,{children:[(0,r.jsx)(o.r,{isChecked:n.showTooltip,onChange:function(){return u("showTooltip")}}),(0,r.jsx)(i.xv,{ml:2,children:"Show Details on hover"})]}),(0,r.jsxs)(i.kC,{children:[(0,r.jsx)(o.r,{isChecked:n.advancedZoom,onChange:function(){return u("advancedZoom")}}),(0,r.jsx)(i.xv,{ml:2,children:"Advanced Zoom"})]}),c&&(0,r.jsxs)(i.kC,{children:[(0,r.jsx)(o.r,{isChecked:n.showForecast,onChange:function(){return u("showForecast")}}),(0,r.jsx)(i.xv,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},3509:function(e,n,t){"use strict";t.d(n,{P:function(){return f}});var r=t(5893),i=t(8527),o=t(7294),l=t(8987),a=t(4517),c=t(5277),u=t(6453);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=function(e){var n=e.tier,t=e.graphFlags,f=(0,o.useContext)(l.O).rate,d=(0,o.useContext)(a.A).event,h=(0,o.useRef)(null),v=s((0,c.tH)(h),2),m=v[0],p=v[1],x=(0,o.useMemo)((function(){return null===f||void 0===f?void 0:f[n]}),[f,n]);return(0,r.jsx)(i.xu,{ref:h,minH:"300px",w:"full",children:(0,r.jsx)(u.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:m,height:p,graphFlags:null!==t&&void 0!==t?t:{advancedZoom:!1,showTooltip:!1},points:x||(f?Object.values(f).flatMap((function(e){return e})):[]),isSmall:!0})})}},6701:function(e,n,t){"use strict";t.d(n,{q:function(){return u}});var r=t(5893),i=t(7294),o=t(8987),l=t(4517),a=t(7477),c=t(6453),u=function(e){var n=e.width,t=e.height,u=e.isSmall,s=void 0!==u&&u,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,v=e.showForecast,m=void 0!==v&&v,p=(0,i.useContext)(a.B),x=p.points,b=p.displayTier,j=(0,i.useContext)(l.A).event,y=(0,i.useContext)(o.O).forecast;return(0,r.jsx)(c.k,{id:"score",points:x,startDate:null===j||void 0===j?void 0:j.startdate,endDate:null===j||void 0===j?void 0:j.enddate,width:n,height:t,isSmall:s,isLive:d,forecast:m&&(null===b||void 0===b?void 0:b.filter((function(e){return null===y||void 0===y?void 0:y[e]})).map((function(e){return y[e]})).flatMap((function(e){return e}))),graphFlags:h})}},1213:function(e,n,t){"use strict";t.d(n,{K:function(){return a}});var r=t(5893),i=t(8527),o=t(7294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=(0,o.memo)((function(e){var n=e.tier,t=e.children,a=(0,o.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,r.jsx)(i.xv,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},a,{children:t||n}))}));a.displayName="Tier"},2787:function(e,n,t){"use strict";t.d(n,{I:function(){return u}});var r=t(5893),i=t(5193),o=t(8527),l=t(7294),a=t(7477);function c(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(){var e=(0,l.useContext)(a.B),n=e.displayTier,t=e.setDisplayTier,u=e.allTiers,s=(0,l.useMemo)((function(){return[{label:"Select All",tiers:u},{label:"Clear",tiers:[]},{label:"< T10",tiers:u.filter((function(e){return e<=10}))},{label:"< T20",tiers:u.filter((function(e){return e<=20}))},{label:"< T100",tiers:u.filter((function(e){return e<=100}))},{label:"> T500",tiers:u.filter((function(e){return e>=500}))}]}),[u]);return(0,r.jsxs)(o.kC,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(e){return(0,r.jsx)(i.zx,{m:2,colorScheme:"blue",onClick:function(){return t(e.tiers)},children:e.label},e.label)})),u.sort((function(e,n){return e-n})).map((function(e){return(0,r.jsxs)(i.zx,{m:2,colorScheme:(null===n||void 0===n?void 0:n.includes(e))?"green":"gray",onClick:function(){return function(e){if(null===n||void 0===n?void 0:n.includes(e))return t((function(n){return n.filter((function(n){return n!==e}))}));t((function(n){return c(n||[]).concat([e])}))}(e)},children:["T",e]},e)}))]})}},8987:function(e,n,t){"use strict";t.d(n,{O:function(){return s},z:function(){return f}});var r=t(5893),i=t(7294),o=t(5277),l=t(4517),a=t(3688),c=t(7477);function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done)&&(t.push(l.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=(0,i.createContext)({}),f=function(e){var n=e.children,f=e.all,d=(0,i.useContext)(a.V).points,h=(0,i.useContext)(c.B).points,v=(0,i.useContext)(l.A).event,m=(0,i.useRef)(),p=(0,i.useState)(),x=p[0],b=p[1],j=(0,i.useState)(),y=j[0],g=j[1],w=u((0,o._)("groupInterval",36e5),2),k=w[0],S=w[1],C=(0,i.useMemo)((function(){return(f?d:h||d)||[]}),[d,h]),_=function(e){var n=e.data,t=n.rate,r=n.forecast;b(t),g(r)};return(0,i.useEffect)((function(){return m.current=new Worker(new URL(t.p+t.u(951),t.b),{type:void 0}),m.current.postMessage({points:C,interval:k,event:v}),m.current.onmessage=_,function(){return m.current.removeEventListener("message",_),m.current.terminate()}}),[C,k]),(0,r.jsx)(s.Provider,{value:{rate:x,forecast:y,interval:k,setInterval:S},children:n})}}},function(e){e.O(0,[484,653,205,696,774,888,179],(function(){return n=7017,e(e.s=n);var n}));var n=e.O();_N_E=n}]);