(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{3346:function(e,r,n){"use strict";n.d(r,{iA:function(){return u},hr:function(){return d},p3:function(){return h},Th:function(){return p},Tr:function(){return x},Td:function(){return v}});var t=n(1180),i=n(5284),o=n(4461),l=n(3808),s=n(7294);function c(){return(c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function a(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}var u=(0,t.forwardRef)(((e,r)=>{var n=(0,t.useMultiStyleConfig)("Table",e),l=(0,i.Lr)(e),{className:u}=l,f=a(l,["className"]);return s.createElement(t.StylesProvider,{value:n},s.createElement(t.chakra.table,c({role:"table",ref:r,__css:n.table,className:(0,o.cx)("chakra-table",u)},f)))}));l.Ts&&(u.displayName="Table");var f=(0,t.forwardRef)(((e,r)=>{var{placement:n="bottom"}=e,i=a(e,["placement"]),o=(0,t.useStyles)();return s.createElement(t.chakra.caption,c({},i,{ref:r,__css:c({},o.caption,{captionSide:n})}))}));l.Ts&&(f.displayName="TableCaption");var d=(0,t.forwardRef)(((e,r)=>{var n=(0,t.useStyles)();return s.createElement(t.chakra.thead,c({},e,{ref:r,__css:n.thead}))})),h=(0,t.forwardRef)(((e,r)=>{var n=(0,t.useStyles)();return s.createElement(t.chakra.tbody,c({},e,{ref:r,__css:n.tbody}))})),p=(0,t.forwardRef)(((e,r)=>{var{isNumeric:n}=e,i=a(e,["isNumeric"]),o=(0,t.useStyles)();return s.createElement(t.chakra.th,c({},i,{ref:r,__css:o.th,"data-is-numeric":n}))})),x=(0,t.forwardRef)(((e,r)=>{var n=(0,t.useStyles)();return s.createElement(t.chakra.tr,c({role:"row"},e,{ref:r,__css:n.tr}))})),v=(0,t.forwardRef)(((e,r)=>{var{isNumeric:n}=e,i=a(e,["isNumeric"]),o=(0,t.useStyles)();return s.createElement(t.chakra.td,c({role:"gridcell"},i,{ref:r,__css:o.td,"data-is-numeric":n}))}))},6162:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return N},default:function(){return R}});var t=n(5893),i=n(4121),o=n(4096),l=n(6185),s=n(8017),c=n(7456),a=n(6265),u=n(4013),f=n(4115),d=n(3346),h=n(2594),p=n(9490),x=n(7294),v=n(5837),j=n(3451),m=n(4279),b=n(6529),g=n(3907);function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach((function(r){(0,a.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var w=function(e){var r=e.isSmall,n=(e.interval,e.isPlaying,e.onTierSelected),i=(0,x.useContext)(j.G).lbData,l=(0,x.useContext)(v.A).event,s=(0,u.G)();if(!i)return(0,t.jsx)(b.L,{});var c=r||"base"===s||"sm"===s,a=c&&{display:"none"},y=(0,x.useMemo)((function(){return Math.round(p.ou.fromISO(l.enddate).diff(p.ou.fromISO(l.startdate)).as("hours"))}),[l]);return(0,t.jsxs)(o.k,{flexDir:"column",w:"full",children:[(0,t.jsx)(o.k,{flexDir:"column",children:(0,t.jsx)(f.x,{fontSize:"4xl",fontWeight:"bold",children:"Muniboard"})}),(0,t.jsxs)(d.iA,{size:"sm",children:[(0,t.jsx)(d.hr,{children:(0,t.jsxs)(d.Tr,{children:[(0,t.jsx)(d.Th,{textAlign:"center",children:"Rank"}),(0,t.jsx)(d.Th,{children:"Name"}),(0,t.jsx)(d.Th,{children:"Points"}),(0,t.jsx)(d.Th,O(O({},a),{},{children:"Rate/hr"}))]})}),(0,t.jsx)(d.p3,{children:i.map((function(e,r,i){return(0,t.jsxs)(d.Tr,{borderBottom:h.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===n||void 0===n?void 0:n(e.rank)},children:[(0,t.jsx)(d.Td,{textAlign:"center",children:(0,t.jsx)(g.K,{tier:e.rank,children:c?(0,m.a)(e.rank):e.rank})}),(0,t.jsxs)(d.Td,{children:[(0,t.jsx)(f.x,{fontSize:c?"sm":"md",overflow:c?"ellipsis":"unset",children:e.name}),(0,t.jsx)(f.x,O(O({fontSize:"xs"},a),{},{children:e.description}))]}),(0,t.jsx)(d.Td,{children:(0,t.jsx)(f.x,{fontSize:c?"sm":"md",children:e.points})}),(0,t.jsx)(d.Td,{children:(0,t.jsx)(f.x,{fontSize:c?"sm":"md",children:Math.round(e.points/y)})})]},e.rank)}))})]})]})},k=n(506),S=n(2974),_=n(184),T=n(4706),P=n(258),D=n(4263),C=n(662),E=n(5492),z=n(9933),F=n(9538),M=n(5277),N=!0;function R(e){var r=e.event,n=e.points,a=(0,x.useRef)(null),u=(0,M.tH)(a),f=(0,i.Z)(u,2),d=f[0],h=f[1],p=(0,x.useState)("point"),m=p[0],b=p[1],g=(0,E._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),y=(0,i.Z)(g,2),O=y[0],N=y[1],R=(0,x.useMemo)((function(){return Array.from(new Set(n.map((function(e){return e.rank})))).map((function(e){var r=n.filter((function(r){return r.rank===e}));return r[(0,C.F_Y)(r,(function(e){return(0,C.ji_)(e.date)}))]})).map((function(e){return e})).sort((function(e,r){return e.rank-r.rank}))}),[n]);return(0,t.jsx)(v.d,{event:r,children:(0,t.jsx)(F.Q,{points:n,children:(0,t.jsx)(j.K,{lbData:R,children:(0,t.jsxs)(z.z,{children:[(0,t.jsx)(S.M,{}),(0,t.jsxs)(o.k,{flexDir:["column",null,null,"row"],px:4,children:[(0,t.jsxs)(o.k,{flexDir:"column",flex:1,children:[(0,t.jsxs)(o.k,{children:[(0,t.jsx)(l.z,{mx:4,p:2,rounded:"md",colorScheme:"blue",variant:"point"===m?"solid":"outline",onClick:function(){return b("point")},fontSize:"lg",children:"Point"}),(0,t.jsx)(l.z,{mx:4,p:2,rounded:"md",colorScheme:"blue",variant:"rate"===m?"solid":"outline",onClick:function(){return b("rate")},fontSize:"lg",children:"Rate"})]}),"point"===m?(0,t.jsx)(s.xu,{ref:a,minH:"600px",children:(0,t.jsx)(P.q,{width:d,height:h,graphFlags:O,isSmall:!0})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.P,{graphFlags:O}),(0,t.jsx)(k.k,{})]}),(0,t.jsx)(_.Y,{graphFlags:O,setGraphFlags:N}),(0,t.jsx)(D.I,{}),(0,t.jsx)(s.xu,{w:"full",position:"relative",display:["none",null,null,"block"],children:(0,t.jsx)("img",{src:(0,c._n)("http://projectdivar.com:8080/event/t20_".concat(r.eventid-2,".png"))})})]}),(0,t.jsx)(o.k,{flex:1,children:(0,t.jsx)(w,{})}),(0,t.jsx)(s.xu,{w:"full",position:"relative",display:["block",null,null,"none"],children:(0,t.jsx)("img",{src:(0,c._n)("http://projectdivar.com:8080/event/t20_".concat(r.eventid-2,".png"))})})]})]})})})})}},506:function(e,r,n){"use strict";n.d(r,{k:function(){return u}});var t=n(5893),i=n(4096),o=n(4115),l=n(980),s=n(7294),c=n(9933),a=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],u=function(){var e=(0,s.useContext)(c.O),r=e.interval,n=e.setInterval;return(0,t.jsxs)(i.k,{flexDir:"column",children:[(0,t.jsx)(o.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,t.jsxs)(i.k,{flexDir:"row",alignItems:"center",children:[(0,t.jsx)(o.x,{mr:2,children:"Interval"}),(0,t.jsx)(l.Select,{value:r,onChange:function(e){return n(Number(e.target.value))},children:a.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},184:function(e,r,n){"use strict";n.d(r,{Y:function(){return u}});var t=n(5893),i=n(6265),o=n(4096),l=n(980),s=n(4115);n(7294);function c(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach((function(r){(0,i.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var u=function(e){var r=e.graphFlags,n=e.setGraphFlags,c=e.forecastOptions,u=void 0!==c&&c,f=function(e){n((function(r){return a(a({},r),{},(0,i.Z)({},e,!r[e]))}))};return(0,t.jsx)(o.k,{flexDir:"column",children:(0,t.jsxs)(o.k,{flexDir:"column",children:[(0,t.jsxs)(o.k,{children:[(0,t.jsx)(l.Switch,{isChecked:r.showTooltip,onChange:function(){return f("showTooltip")}}),(0,t.jsx)(s.x,{ml:2,children:"Show Details on hover"})]}),(0,t.jsxs)(o.k,{children:[(0,t.jsx)(l.Switch,{isChecked:r.advancedZoom,onChange:function(){return f("advancedZoom")}}),(0,t.jsx)(s.x,{ml:2,children:"Advanced Zoom"})]}),u&&(0,t.jsxs)(o.k,{children:[(0,t.jsx)(l.Switch,{isChecked:r.showForecast,onChange:function(){return f("showForecast")}}),(0,t.jsx)(s.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},4706:function(e,r,n){"use strict";n.d(r,{P:function(){return f}});var t=n(5893),i=n(4121),o=n(8017),l=n(7294),s=n(9933),c=n(5837),a=n(5277),u=n(7251),f=function(e){var r=e.tier,n=e.graphFlags,f=(0,l.useContext)(s.O).rate,d=(0,l.useContext)(c.A).event,h=(0,l.useRef)(null),p=(0,a.tH)(h),x=(0,i.Z)(p,2),v=x[0],j=x[1],m=(0,l.useMemo)((function(){return null===f||void 0===f?void 0:f[r]}),[f,r]);return(0,t.jsx)(o.xu,{ref:h,minH:"300px",w:"full",children:(0,t.jsx)(u.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:v,height:j,graphFlags:null!==n&&void 0!==n?n:{advancedZoom:!1,showTooltip:!1},points:m||(f?Object.values(f).flatMap((function(e){return e})):[]),isSmall:!0})})}},258:function(e,r,n){"use strict";n.d(r,{q:function(){return a}});var t=n(5893),i=n(7294),o=n(9933),l=n(5837),s=n(9538),c=n(7251),a=function(e){var r=e.width,n=e.height,a=e.isSmall,u=void 0!==a&&a,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,p=e.showForecast,x=void 0!==p&&p,v=(0,i.useContext)(s.B),j=v.points,m=v.displayTier,b=(0,i.useContext)(l.A).event,g=(0,i.useContext)(o.O).forecast;return(0,t.jsx)(c.k,{id:"score",points:j,startDate:null===b||void 0===b?void 0:b.startdate,endDate:null===b||void 0===b?void 0:b.enddate,width:r,height:n,isSmall:u,isLive:d,forecast:x&&(null===m||void 0===m?void 0:m.filter((function(e){return null===g||void 0===g?void 0:g[e]})).map((function(e){return g[e]})).flatMap((function(e){return e}))),graphFlags:h})}},3907:function(e,r,n){"use strict";n.d(r,{K:function(){return a}});var t=n(6265),i=n(5893),o=n(4115),l=n(7294);function s(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var a=(0,l.memo)((function(e){var r=e.tier,n=e.children,t=(0,l.useMemo)((function(){switch(r){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[r]);return(0,i.jsx)(o.x,c(c({},t),{},{children:n||r}))}))},4263:function(e,r,n){"use strict";n.d(r,{I:function(){return a}});var t=n(5893),i=n(9999),o=n(6185),l=n(4096),s=n(7294),c=n(9538),a=function(){var e=(0,s.useContext)(c.B),r=e.displayTier,n=e.setDisplayTier,a=e.allTiers,u=(0,s.useMemo)((function(){return[{label:"Select All",tiers:a},{label:"Clear",tiers:[]},{label:"< T10",tiers:a.filter((function(e){return e<=10}))},{label:"< T20",tiers:a.filter((function(e){return e<=20}))},{label:"< T100",tiers:a.filter((function(e){return e<=100}))},{label:"> T500",tiers:a.filter((function(e){return e>=500}))}]}),[a]);return(0,t.jsxs)(l.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[u.map((function(e){return(0,t.jsx)(o.z,{m:2,colorScheme:"blue",onClick:function(){return n(e.tiers)},children:e.label},e.label)})),a.sort((function(e,r){return e-r})).map((function(e){return(0,t.jsxs)(o.z,{m:2,colorScheme:null!==r&&void 0!==r&&r.includes(e)?"green":"gray",onClick:function(){return function(e){if(null!==r&&void 0!==r&&r.includes(e))return n((function(r){return r.filter((function(r){return r!==e}))}));n((function(r){return[].concat((0,i.Z)(r||[]),[e])}))}(e)},children:["T",e]},e)}))]})}},7017:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/event/[id]",function(){return n(6162)}])}},function(e){e.O(0,[774,809,662,672,744,639,321,277,364,162],(function(){return r=7017,e(e.s=r);var r}));var r=e.O();_N_E=r}]);