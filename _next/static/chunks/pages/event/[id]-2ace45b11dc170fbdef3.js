(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{3346:function(e,r,t){"use strict";t.d(r,{iA:function(){return c},hr:function(){return f},p3:function(){return d},Th:function(){return h},Tr:function(){return p},Td:function(){return x}});var n=t(1180),i=t(5284),o=t(4686),l=t(7294);function s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function a(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}var c=(0,n.forwardRef)(((e,r)=>{var t=(0,n.useMultiStyleConfig)("Table",e),c=(0,i.Lr)(e),{className:u}=c,f=a(c,["className"]);return l.createElement(n.StylesProvider,{value:t},l.createElement(n.chakra.table,s({role:"table",ref:r,__css:t.table,className:(0,o.cx)("chakra-table",u)},f)))}));o.__DEV__&&(c.displayName="Table");var u=(0,n.forwardRef)(((e,r)=>{var{placement:t="bottom"}=e,i=a(e,["placement"]),o=(0,n.useStyles)();return l.createElement(n.chakra.caption,s({},i,{ref:r,__css:s({},o.caption,{captionSide:t})}))}));o.__DEV__&&(u.displayName="TableCaption");var f=(0,n.forwardRef)(((e,r)=>{var t=(0,n.useStyles)();return l.createElement(n.chakra.thead,s({},e,{ref:r,__css:t.thead}))})),d=(0,n.forwardRef)(((e,r)=>{var t=(0,n.useStyles)();return l.createElement(n.chakra.tbody,s({},e,{ref:r,__css:t.tbody}))})),h=(0,n.forwardRef)(((e,r)=>{var{isNumeric:t}=e,i=a(e,["isNumeric"]),o=(0,n.useStyles)();return l.createElement(n.chakra.th,s({},i,{ref:r,__css:o.th,"data-is-numeric":t}))})),p=(0,n.forwardRef)(((e,r)=>{var t=(0,n.useStyles)();return l.createElement(n.chakra.tr,s({role:"row"},e,{ref:r,__css:t.tr}))})),x=(0,n.forwardRef)(((e,r)=>{var{isNumeric:t}=e,i=a(e,["isNumeric"]),o=(0,n.useStyles)();return l.createElement(n.chakra.td,s({role:"gridcell"},i,{ref:r,__css:o.td,"data-is-numeric":t}))}))},6162:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return N},default:function(){return R}});var n=t(5893),i=t(4121),o=t(4096),l=t(6185),s=t(8017),a=t(7456),c=t(6265),u=t(4013),f=t(4115),d=t(3346),h=t(2594),p=t(9490),x=t(7294),v=t(5837),j=t(3451),m=t(4279),b=t(6529),g=t(3907);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){(0,c.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w=function(e){var r=e.isSmall,t=(e.interval,e.isPlaying,e.onTierSelected),i=(0,x.useContext)(j.G).lbData,l=(0,x.useContext)(v.A).event,s=(0,u.G)();if(!i)return(0,n.jsx)(b.L,{});var a=r||"base"===s||"sm"===s,c=a&&{display:"none"},y=(0,x.useMemo)((function(){return Math.round(p.ou.fromISO(l.enddate).diff(p.ou.fromISO(l.startdate)).as("hours"))}),[l]);return(0,n.jsxs)(o.k,{flexDir:"column",w:"full",children:[(0,n.jsx)(o.k,{flexDir:"column",children:(0,n.jsx)(f.x,{fontSize:"4xl",fontWeight:"bold",children:"Muniboard"})}),(0,n.jsxs)(d.iA,{size:"sm",children:[(0,n.jsx)(d.hr,{children:(0,n.jsxs)(d.Tr,{children:[(0,n.jsx)(d.Th,{textAlign:"center",children:"Rank"}),(0,n.jsx)(d.Th,{children:"Name"}),(0,n.jsx)(d.Th,{children:"Points"}),(0,n.jsx)(d.Th,O(O({},c),{},{children:"Rate/hr"}))]})}),(0,n.jsx)(d.p3,{children:i.map((function(e,r,i){return(0,n.jsxs)(d.Tr,{borderBottom:h.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===t||void 0===t?void 0:t(e.rank)},children:[(0,n.jsx)(d.Td,{textAlign:"center",children:(0,n.jsx)(g.K,{tier:e.rank,children:a?(0,m.a)(e.rank):e.rank})}),(0,n.jsxs)(d.Td,{children:[(0,n.jsx)(f.x,{fontSize:a?"sm":"md",overflow:a?"ellipsis":"unset",children:e.name}),(0,n.jsx)(f.x,O(O({fontSize:"xs"},c),{},{children:e.description}))]}),(0,n.jsx)(d.Td,{children:(0,n.jsx)(f.x,{fontSize:a?"sm":"md",children:e.points})}),(0,n.jsx)(d.Td,{children:(0,n.jsx)(f.x,{fontSize:a?"sm":"md",children:Math.round(e.points/y)})})]},e.rank)}))})]})]})},k=t(506),S=t(2974),_=t(184),P=t(4706),T=t(258),D=t(4263),C=t(662),E=t(5492),z=t(9933),F=t(9538),M=t(5277),N=!0;function R(e){var r=e.event,t=e.points,c=(0,x.useRef)(null),u=(0,M.tH)(c),f=(0,i.Z)(u,2),d=f[0],h=f[1],p=(0,x.useState)("point"),m=p[0],b=p[1],g=(0,E._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),y=(0,i.Z)(g,2),O=y[0],N=y[1],R=(0,x.useMemo)((function(){return Array.from(new Set(t.map((function(e){return e.rank})))).map((function(e){var r=t.filter((function(r){return r.rank===e}));return r[(0,C.F_Y)(r,(function(e){return(0,C.ji_)(e.date)}))]})).map((function(e){return e})).sort((function(e,r){return e.rank-r.rank}))}),[t]);return(0,n.jsx)(v.d,{event:r,children:(0,n.jsx)(F.Q,{points:t,children:(0,n.jsx)(j.K,{lbData:R,children:(0,n.jsxs)(z.z,{children:[(0,n.jsx)(S.M,{}),(0,n.jsxs)(o.k,{flexDir:["column",null,null,"row"],px:4,children:[(0,n.jsxs)(o.k,{flexDir:"column",flex:1,children:[(0,n.jsxs)(o.k,{children:[(0,n.jsx)(l.z,{mx:4,p:2,rounded:"md",bg:"point"===m?"gray.200":"transparent",color:"point"===m?"blue.400":"black",onClick:function(){return b("point")},fontSize:"lg",children:"Point"}),(0,n.jsx)(l.z,{mx:4,p:2,rounded:"md",bg:"rate"===m?"gray.200":"transparent",color:"rate"===m?"blue.400":"black",onClick:function(){return b("rate")},fontSize:"lg",children:"Rate"})]}),"point"===m?(0,n.jsx)(s.xu,{ref:c,minH:"600px",children:(0,n.jsx)(T.q,{width:d,height:h,graphFlags:O,isSmall:!0})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.P,{graphFlags:O}),(0,n.jsx)(k.k,{})]}),(0,n.jsx)(_.Y,{graphFlags:O,setGraphFlags:N}),(0,n.jsx)(D.I,{}),(0,n.jsx)(s.xu,{w:"full",position:"relative",display:["none",null,null,"block"],children:(0,n.jsx)("img",{src:(0,a._n)("http://projectdivar.com:8080/event/t20_".concat(r.eventid-2,".png"))})})]}),(0,n.jsx)(o.k,{flex:1,children:(0,n.jsx)(w,{})}),(0,n.jsx)(s.xu,{w:"full",position:"relative",display:["block",null,null,"none"],children:(0,n.jsx)("img",{src:(0,a._n)("http://projectdivar.com:8080/event/t20_".concat(r.eventid-2,".png"))})})]})]})})})})}},506:function(e,r,t){"use strict";t.d(r,{k:function(){return u}});var n=t(5893),i=t(4096),o=t(4115),l=t(980),s=t(7294),a=t(9933),c=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],u=function(){var e=(0,s.useContext)(a.O),r=e.interval,t=e.setInterval;return(0,n.jsxs)(i.k,{flexDir:"column",children:[(0,n.jsx)(o.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,n.jsxs)(i.k,{flexDir:"row",alignItems:"center",children:[(0,n.jsx)(o.x,{mr:2,children:"Interval"}),(0,n.jsx)(l.Select,{value:r,onChange:function(e){return t(Number(e.target.value))},children:c.map((function(e){return(0,n.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},184:function(e,r,t){"use strict";t.d(r,{Y:function(){return u}});var n=t(5893),i=t(6265),o=t(4096),l=t(980),s=t(4115);t(7294);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=function(e){var r=e.graphFlags,t=e.setGraphFlags,a=e.forecastOptions,u=void 0!==a&&a,f=function(e){t((function(r){return c(c({},r),{},(0,i.Z)({},e,!r[e]))}))};return(0,n.jsx)(o.k,{flexDir:"column",children:(0,n.jsxs)(o.k,{flexDir:"column",children:[(0,n.jsxs)(o.k,{children:[(0,n.jsx)(l.Switch,{isChecked:r.showTooltip,onChange:function(){return f("showTooltip")}}),(0,n.jsx)(s.x,{ml:2,children:"Show Details on hover"})]}),(0,n.jsxs)(o.k,{children:[(0,n.jsx)(l.Switch,{isChecked:r.advancedZoom,onChange:function(){return f("advancedZoom")}}),(0,n.jsx)(s.x,{ml:2,children:"Advanced Zoom"})]}),u&&(0,n.jsxs)(o.k,{children:[(0,n.jsx)(l.Switch,{isChecked:r.showForecast,onChange:function(){return f("showForecast")}}),(0,n.jsx)(s.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},4706:function(e,r,t){"use strict";t.d(r,{P:function(){return f}});var n=t(5893),i=t(4121),o=t(8017),l=t(7294),s=t(9933),a=t(5837),c=t(5277),u=t(7251),f=function(e){var r=e.tier,t=e.graphFlags,f=(0,l.useContext)(s.O).rate,d=(0,l.useContext)(a.A).event,h=(0,l.useRef)(null),p=(0,c.tH)(h),x=(0,i.Z)(p,2),v=x[0],j=x[1],m=(0,l.useMemo)((function(){return null===f||void 0===f?void 0:f[r]}),[f,r]);return(0,n.jsx)(o.xu,{ref:h,minH:"300px",w:"full",children:(0,n.jsx)(u.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:v,height:j,graphFlags:null!==t&&void 0!==t?t:{advancedZoom:!1,showTooltip:!1},points:m||(f?Object.values(f).flatMap((function(e){return e})):[]),isSmall:!0})})}},258:function(e,r,t){"use strict";t.d(r,{q:function(){return c}});var n=t(5893),i=t(7294),o=t(9933),l=t(5837),s=t(9538),a=t(7251),c=function(e){var r=e.width,t=e.height,c=e.isSmall,u=void 0!==c&&c,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,p=e.showForecast,x=void 0!==p&&p,v=(0,i.useContext)(s.B),j=v.points,m=v.displayTier,b=(0,i.useContext)(l.A).event,g=(0,i.useContext)(o.O).forecast;return(0,n.jsx)(a.k,{id:"score",points:j,startDate:null===b||void 0===b?void 0:b.startdate,endDate:null===b||void 0===b?void 0:b.enddate,width:r,height:t,isSmall:u,isLive:d,forecast:x&&(null===m||void 0===m?void 0:m.filter((function(e){return null===g||void 0===g?void 0:g[e]})).map((function(e){return g[e]})).flatMap((function(e){return e}))),graphFlags:h})}},3907:function(e,r,t){"use strict";t.d(r,{K:function(){return c}});var n=t(6265),i=t(5893),o=t(4115),l=t(7294);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var c=(0,l.memo)((function(e){var r=e.tier,t=e.children,n=(0,l.useMemo)((function(){switch(r){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[r]);return(0,i.jsx)(o.x,a(a({},n),{},{children:t||r}))}))},4263:function(e,r,t){"use strict";t.d(r,{I:function(){return c}});var n=t(5893),i=t(9999),o=t(6185),l=t(4096),s=t(7294),a=t(9538),c=function(){var e=(0,s.useContext)(a.B),r=e.displayTier,t=e.setDisplayTier,c=e.allTiers,u=(0,s.useMemo)((function(){return[{label:"Select All",tiers:c},{label:"Clear",tiers:[]},{label:"< T10",tiers:c.filter((function(e){return e<=10}))},{label:"< T20",tiers:c.filter((function(e){return e<=20}))},{label:"< T100",tiers:c.filter((function(e){return e<=100}))},{label:"> T500",tiers:c.filter((function(e){return e>=500}))}]}),[c]);return(0,n.jsxs)(l.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[u.map((function(e){return(0,n.jsx)(o.z,{m:2,bg:"blue.200",onClick:function(){return t(e.tiers)},children:e.label},e.label)})),c.sort((function(e,r){return e-r})).map((function(e){return(0,n.jsxs)(o.z,{m:2,bg:null!==r&&void 0!==r&&r.includes(e)?"green.200":"gray.200",onClick:function(){return function(e){if(null!==r&&void 0!==r&&r.includes(e))return t((function(r){return r.filter((function(r){return r!==e}))}));t((function(r){return[].concat((0,i.Z)(r),[e])}))}(e)},children:["T",e]},e)}))]})}},7017:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/event/[id]",function(){return t(6162)}])}},function(e){e.O(0,[774,809,351,935,568,639,321,11,162],(function(){return r=7017,e(e.s=r);var r}));var r=e.O();_N_E=r}]);