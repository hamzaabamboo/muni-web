(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{5403:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return h}});var t=r(5893),i=r(4121),o=r(7294),s=r(4096),l=r(8017),c=r(2974),u=r(4263),a=r(8024),d=r(5277),f=r(5110),x=r(6887);function h(){var e=(0,o.useRef)(null),n=(0,d.tH)(e),r=(0,i.Z)(n,2),h=r[0],m=r[1];return(0,t.jsxs)(s.k,{flexDir:"column",h:"full",px:2,children:[(0,t.jsx)(c.M,{}),(0,t.jsx)(a.W,{}),(0,t.jsxs)(s.k,{flex:"1",w:"full",flexDirection:["column",null,"row"],minH:"500px",children:[(0,t.jsxs)(l.xu,{flex:"1",children:[(0,t.jsx)(l.xu,{ref:e,h:"full",minH:"400px",maxH:"600px",children:(0,t.jsx)(x.q,{width:h,height:m,isSmall:!0,isLive:!0})}),(0,t.jsx)(u.I,{})]}),(0,t.jsx)(l.xu,{px:"8",flex:"1",children:(0,t.jsx)(f.s,{isSmall:!0})})]})]})}},5110:function(e,n,r){"use strict";r.d(n,{s:function(){return O}});var t=r(6265),i=r(5893),o=r(7294),s=r(3346),l=r(4013),c=r(4096),u=r(4115),a=r(9490),d=[1,2,3,10,50,100,500,1e3,2e3,5e3,1e4,2e4,3e4,5e4],f=r(9695),x=r.n(f),h=r(7216),m={Medley:{maxPerGame:2700}},j=r(3451),v=r(980),p=function(){return(0,i.jsx)(c.k,{w:"full",alignItems:"center",justifyContent:"center",h:"full",children:(0,i.jsx)(v.Spinner,{size:"xl"})})},b=r(4279),g=r(4033);function w(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function k(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var O=function(e){var n=e.isSmall,r=(e.interval,e.isPlaying),t=void 0===r||r,f=e.onTierSelected,m=(0,o.useContext)(j.G),v=m.lbData,w=m.lastUpdated,O=(0,o.useContext)(g.X).changes,T=(0,o.useContext)(h.A).event,P=(0,l.G)(),z=(0,o.useMemo)((function(){var e=a.ou.fromJSDate(w).diffNow().as("milliseconds");return 0===e?"Just now":x()(e,{round:!0,largest:2})+" ago"}),[w]);if(!v)return(0,i.jsx)(p,{});var _=n||"base"===P||"sm"===P,D=_&&{display:"none"};return(0,i.jsxs)(c.k,{flexDir:"column",children:[(0,i.jsxs)(c.k,{flexDir:"column",children:[(0,i.jsx)(u.x,{fontSize:"4xl",fontWeight:"bold",children:"Muniboard"}),(0,i.jsxs)(u.x,{fontSize:"sm",as:"span",fontWeight:"normal",children:["Last Updated: ",z]})]}),(0,i.jsxs)(s.iA,{size:"sm",children:[(0,i.jsx)(s.hr,{children:(0,i.jsxs)(s.Tr,{children:[(0,i.jsx)(s.Th,{textAlign:"center",children:"Rank"}),(0,i.jsx)(s.Th,{children:"Name"}),(0,i.jsx)(s.Th,{children:"Points"}),(0,i.jsx)(s.Th,k(k({textAlign:"end"},D),{},{children:"Gap"})),(0,i.jsx)(s.Th,k(k({textAlign:"end"},D),{},{children:"Rate"})),(0,i.jsx)(s.Th,k(k({textAlign:"end",whiteSpace:"break-spaces"},D),{},{children:"Time to boat"})),(0,i.jsx)(s.Th,{children:"Last Updated"})]})}),(0,i.jsx)(s.p3,{children:v.map((function(e,n,r){var o,l,c,x,h,m;return(0,i.jsxs)(s.Tr,k(k({},t?S(e,null===O||void 0===O?void 0:O[e.rank],null===T||void 0===T?void 0:T.type):{}),{},{borderBottom:d.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===f||void 0===f?void 0:f(e.rank)},children:[(0,i.jsx)(s.Td,{textAlign:"center",children:(0,i.jsx)(N,{tier:e.rank,children:_?(0,b.a)(e.rank):e.rank})}),(0,i.jsxs)(s.Td,{children:[(0,i.jsx)(u.x,{fontSize:_?"sm":"md",overflow:_?"ellipsis":"unset",children:e.name}),(0,i.jsx)(u.x,k(k({fontSize:"xs"},D),{},{children:e.description}))]}),(0,i.jsxs)(s.Td,{children:[(0,i.jsx)(u.x,{fontSize:_?"sm":"md",children:e.points}),(null===O||void 0===O?void 0:O[e.rank])>0&&(0,i.jsxs)(u.x,{fontSize:"xs",children:["(+",null!==(o=O[e.rank])&&void 0!==o?o:0,")"]})]}),(0,i.jsx)(s.Td,k(k({isNumeric:!0},D),{},{children:n+1<r.length?e.points-(null===(l=r[n+1])||void 0===l?void 0:l.points):0})),(0,i.jsx)(s.Td,k(k({isNumeric:!0},D),{},{children:e.rate})),(0,i.jsx)(s.Td,k(k({isNumeric:!0},D),{},{children:n+1<r.length&&!isNaN(Number(null===(c=r[n+1])||void 0===c?void 0:c.rate))?y((e.points-(null===(x=r[n+1])||void 0===x?void 0:x.points))/(Number(null===(h=r[n+1])||void 0===h?void 0:h.rate)-Number(e.rate))*60*60*1e3):"-"})),(0,i.jsx)(s.Td,{children:(m=e.date,a.ou.fromISO(m).diffNow().as("minute")>-3?"Just now":a.ou.now().diff(a.ou.fromISO(m)).toFormat("hh:mm"))})]}),e.rank)}))})]})]})},S=function(e,n,r){var t,i;return null===(t=n>(null===(i=m[r])||void 0===i?void 0:i.maxPerGame))||void 0===t||t?{bg:"red.100"}:a.ou.fromISO(e.date).diffNow().as("minutes")<-10?{}:{bg:"gray.100"}},y=function(e){return isNaN(e)||e<0?"--:--":a.nL.fromMillis(e).toFormat("hh:mm")},N=(0,o.memo)((function(e){var n=e.tier,r=e.children,t=(0,o.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,i.jsx)(u.x,k(k({},t),{},{children:r||n}))}))},4033:function(e,n,r){"use strict";r.d(n,{X:function(){return l},t:function(){return c}});var t=r(5893),i=r(9490),o=r(7294),s=r(3451),l=(0,o.createContext)({}),c=function(e){var n=e.children,r=(0,o.useContext)(s.G).lbData,c=(0,o.useState)({}),u=c[0],a=c[1],d=(0,o.useRef)();return(0,o.useEffect)((function(){if(d.current){var e=r.map((function(e){var n,r=d.current.find((function(n){return n.rank===e.rank})),t=e.points-r.points;return[e.rank,t>0?t:i.ou.fromISO(e.date).diffNow().as("minutes")>-4&&null!==(n=u[e.rank])&&void 0!==n?n:0]}));a(Object.fromEntries(e))}d.current=r}),[r]),(0,t.jsx)(l.Provider,{value:{changes:u},children:n})}},8502:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return r(5403)}])}},function(e){e.O(0,[774,809,351,777,757,879,139,847,668],(function(){return n=8502,e(e.s=n);var n}));var n=e.O();_N_E=n}]);