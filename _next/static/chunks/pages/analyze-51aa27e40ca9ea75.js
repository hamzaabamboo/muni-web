(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{7026:function(e,r,t){"use strict";t.d(r,{Ph:function(){return c}});var n=t(7294),l=t(3234),o=t(7976),a=t(4520),i=(...e)=>e.filter(Boolean).join(" ");var u=(0,o.Gp)((function(e,r){const{children:t,placeholder:l,className:a,...u}=e;return n.createElement(o.m$.select,{...u,ref:r,className:i("chakra-select",a)},l&&n.createElement("option",{value:""},l),t)}));u.displayName="SelectField";var c=(0,o.Gp)(((e,r)=>{var t;const i=(0,o.jC)("Select",e),{rootProps:c,placeholder:s,icon:f,color:h,height:v,h:m,minH:p,minHeight:y,iconColor:b,iconSize:g,...x}=(0,a.Lr)(e),[j,w]=function(e,r){const t={},n={};for(const[l,o]of Object.entries(e))r.includes(l)?t[l]=o:n[l]=o;return[t,n]}(x,a.oE),C=(0,l.Yp)(w),S={width:"100%",height:"fit-content",position:"relative",color:h},A={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...null==(t=i.field)?void 0:t._focus}};return n.createElement(o.m$.div,{className:"chakra-select__wrapper",__css:S,...j,...c},n.createElement(u,{ref:r,height:m??v,minH:p??y,placeholder:s,...C,__css:A},e.children),n.createElement(d,{"data-disabled":(k=C.disabled,k?"":void 0),...(b||h)&&{color:b||h},__css:i.icon,...g&&{fontSize:g}},f));var k}));c.displayName="Select";var s=e=>n.createElement("svg",{viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),f=(0,o.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),d=e=>{const{children:r=n.createElement(s,null),...t}=e,l=(0,n.cloneElement)(r,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return n.createElement(f,{...t,className:"chakra-select__icon-wrapper"},(0,n.isValidElement)(r)?l:null)};d.displayName="SelectIcon"},5129:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analyze",function(){return t(4742)}])},4742:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var n=t(5893),l=t(9154),o=t(9996),a=t(6597),i=t(8653),u=t(7005),c=t(3854),s=t(4173),f=t(7294),d=t(2484),h=t(1709),v=t(1724);function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function p(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,l,o=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(u){i=!0,l=u}finally{try{a||null==t.return||t.return()}finally{if(i)throw l}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){(0,f.useContext)(v.G).lastUpdated;var e=p((0,s._)("graphFlags",{showTooltip:!1,advancedZoom:!1}),2),r=e[0],t=e[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.M,{}),(0,n.jsx)(i.W,{}),(0,n.jsxs)(h.Q,{children:[(0,n.jsxs)(d.z,{children:[(0,n.jsx)(u.P,{graphFlags:r}),(0,n.jsx)(l.k,{})]}),(0,n.jsx)(a.Y,{graphFlags:r,setGraphFlags:t}),(0,n.jsx)(c.I,{})]})]})}},9154:function(e,r,t){"use strict";t.d(r,{k:function(){return c}});var n=t(5893),l=t(639),o=t(7026),a=t(7294),i=t(2484),u=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],c=function(){var e=(0,a.useContext)(i.O),r=e.interval,t=e.setInterval;return(0,n.jsxs)(l.kC,{flexDir:"column",children:[(0,n.jsx)(l.xv,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,n.jsxs)(l.kC,{flexDir:"row",alignItems:"center",children:[(0,n.jsx)(l.xv,{mr:2,children:"Interval"}),(0,n.jsx)(o.Ph,{value:r,onChange:function(e){return t(Number(e.target.value))},children:u.map((function(e){return(0,n.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},6597:function(e,r,t){"use strict";t.d(r,{Y:function(){return i}});var n=t(5893),l=t(639),o=t(7917);t(7294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var i=function(e){var r=e.graphFlags,t=e.setGraphFlags,i=e.forecastOptions,u=void 0!==i&&i,c=function(e){t((function(r){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){a(e,r,t[r])}))}return e}({},r,a({},e,!r[e]))}))};return(0,n.jsx)(l.kC,{flexDir:"column",children:(0,n.jsxs)(l.kC,{flexDir:"column",children:[(0,n.jsxs)(l.kC,{children:[(0,n.jsx)(o.r,{isChecked:r.showTooltip,onChange:function(){return c("showTooltip")}}),(0,n.jsx)(l.xv,{ml:2,children:"Show Details on hover"})]}),(0,n.jsxs)(l.kC,{children:[(0,n.jsx)(o.r,{isChecked:r.advancedZoom,onChange:function(){return c("advancedZoom")}}),(0,n.jsx)(l.xv,{ml:2,children:"Advanced Zoom"})]}),u&&(0,n.jsxs)(l.kC,{children:[(0,n.jsx)(o.r,{isChecked:r.showForecast,onChange:function(){return c("showForecast")}}),(0,n.jsx)(l.xv,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},8653:function(e,r,t){"use strict";t.d(r,{W:function(){return f}});var n=t(5893),l=t(639),o=t(7741),a=t(1664),i=t.n(a),u=t(1163),c=(t(7294),[{label:"Leaderboard",url:"/en/"},{label:"Graph",url:"/en/graph"}]),s=[{label:"Muniboard",url:"/"},{label:"Player",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"},{label:"Other Leaderboards",url:"/leaderboards"}],f=function(e){var r=e.en,t=(0,u.useRouter)();return(0,n.jsx)(l.kC,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:(r?c:s).map((function(e){return(0,n.jsx)(o.zx,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:t.pathname===e.url?"solid":"outline",fontSize:"lg",children:(0,n.jsx)(i(),{href:e.url,children:e.label})},e.url)}))})}},7005:function(e,r,t){"use strict";t.d(r,{P:function(){return d}});var n=t(5893),l=t(639),o=t(7294),a=t(2484),i=t(2426),u=t(5277),c=t(3844);function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,l,o=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(u){i=!0,l=u}finally{try{a||null==t.return||t.return()}finally{if(i)throw l}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var r=e.tier,t=e.graphFlags,s=(0,o.useContext)(a.O).rate,d=(0,o.useContext)(i.A).event,h=(0,o.useRef)(null),v=f((0,u.tH)(h),2),m=v[0],p=v[1],y=(0,o.useMemo)((function(){return null===s||void 0===s?void 0:s[r]}),[s,r]);return(0,n.jsx)(l.xu,{ref:h,minH:"300px",w:"full",children:(0,n.jsx)(c.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:m,height:p,graphFlags:null!==t&&void 0!==t?t:{advancedZoom:!1,showTooltip:!1},points:y||(s?Object.values(s).flatMap((function(e){return e})):[]),isSmall:!0})})}},3854:function(e,r,t){"use strict";t.d(r,{I:function(){return s}});var n=t(5893),l=t(7741),o=t(639),a=t(7294),i=t(1709);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var e=(0,a.useContext)(i.B),r=e.displayTier,t=e.setDisplayTier,u=e.allTiers,s=(0,a.useMemo)((function(){return[{label:"Select All",tiers:u},{label:"Clear",tiers:[]},{label:"< T10",tiers:u.filter((function(e){return e<=10}))},{label:"< T20",tiers:u.filter((function(e){return e<=20}))},{label:"< T100",tiers:u.filter((function(e){return e<=100}))},{label:"> T500",tiers:u.filter((function(e){return e>=500}))}]}),[u]);return(0,n.jsxs)(o.kC,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(e){return(0,n.jsx)(l.zx,{m:2,colorScheme:"blue",onClick:function(){return t(e.tiers)},children:e.label},e.label)})),u.sort((function(e,r){return e-r})).map((function(e){return(0,n.jsxs)(l.zx,{m:2,colorScheme:(null===r||void 0===r?void 0:r.includes(e))?"green":"gray",onClick:function(){return function(e){if(null===r||void 0===r?void 0:r.includes(e))return t((function(r){return r.filter((function(r){return r!==e}))}));t((function(r){return c(r||[]).concat([e])}))}(e)},children:["T",e]},e)}))]})}},2484:function(e,r,t){"use strict";t.d(r,{O:function(){return f},z:function(){return d}});var n=t(5893),l=t(7294),o=t(5277),a=t(2426),i=t(8661),u=t(1709);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,l,o=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(u){i=!0,l=u}finally{try{a||null==t.return||t.return()}finally{if(i)throw l}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,l.createContext)({}),d=function(e){var r=e.children,c=e.all,d=(0,l.useContext)(i.V).points,h=(0,l.useContext)(u.B).points,v=(0,l.useContext)(a.A).event,m=(0,l.useRef)(),p=(0,l.useState)(),y=p[0],b=p[1],g=(0,l.useState)(),x=g[0],j=g[1],w=s((0,o._)("groupInterval",36e5),2),C=w[0],S=w[1],A=(0,l.useMemo)((function(){return(c?d:h||d)||[]}),[d,h]),k=function(e){var r=e.data,t=r.rate,n=r.forecast;b(t),j(n)};return(0,l.useEffect)((function(){return m.current=new Worker(new URL(t.p+t.u(502),t.b),{type:void 0}),m.current.postMessage({points:A,interval:C,event:v}),m.current.onmessage=k,function(){return m.current.removeEventListener("message",k),m.current.terminate()}}),[A,C]),(0,n.jsx)(f.Provider,{value:{rate:y,forecast:x,interval:C,setInterval:S},children:r})}},1163:function(e,r,t){e.exports=t(880)}},function(e){e.O(0,[664,484,117,651,423,774,888,179],(function(){return r=5129,e(e.s=r);var r}));var r=e.O();_N_E=r}]);