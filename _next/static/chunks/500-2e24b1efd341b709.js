"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{5122:function(e,n,t){t.d(n,{$:function(){return w}});var r=t(2086),o=t(1),i=t(2226),l=t(8510),a=t(9855),u=t(6e3),c=t(7559),s=t(8553),f=t(3070),d=t(1099),h=t(1129),m=t(652),v=t(3236),p=t(7576),x=t(7570),b=t(6177),y=t(4214),j=t(3450);function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){g(e,n,t[n])}))}return e}var w=function(e){var n=e.isSmall,t=(e.interval,e.isPlaying,e.onTierSelected),g=(0,v.useContext)(x.G).lbData,w=(0,v.useContext)(p.A).event,k=(0,o.G)();if(!g)return(0,r.jsx)(y.L,{});var O=n||"base"===k||"sm"===k,C=O&&{display:"none"},T=(0,v.useMemo)((function(){return Math.round(m.ou.fromISO(w.enddate).diff(m.ou.fromISO(w.startdate)).as("hours"))}),[w]);return(0,r.jsxs)(i.k,{flexDir:"column",w:"full",children:[(0,r.jsx)(i.k,{flexDir:"column",children:(0,r.jsx)(l.x,{fontSize:"4xl",fontWeight:"bold",children:"Muniboard"})}),(0,r.jsxs)(a.i,{size:"sm",children:[(0,r.jsx)(u.h,{children:(0,r.jsxs)(c.Tr,{children:[(0,r.jsx)(s.Th,{textAlign:"center",children:"Rank"}),(0,r.jsx)(s.Th,{children:"Name"}),(0,r.jsx)(s.Th,{children:"Points"}),(0,r.jsx)(s.Th,S({},C,{children:"Rate/hr"}))]})}),(0,r.jsx)(f.p,{children:g.map((function(e,n,o){return(0,r.jsxs)(c.Tr,{borderBottom:h.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===t||void 0===t?void 0:t(e.rank)},children:[(0,r.jsx)(d.Td,{textAlign:"center",children:(0,r.jsx)(j.K,{tier:e.rank,children:O?(0,b.a)(e.rank):e.rank})}),(0,r.jsxs)(d.Td,{children:[(0,r.jsx)(l.x,{fontSize:O?"sm":"md",overflow:O?"ellipsis":"unset",children:e.name}),(0,r.jsx)(l.x,S({fontSize:"xs"},C,{children:e.description}))]}),(0,r.jsx)(d.Td,{children:(0,r.jsx)(l.x,{fontSize:O?"sm":"md",children:e.points})}),(0,r.jsx)(d.Td,{children:(0,r.jsx)(l.x,{fontSize:O?"sm":"md",children:Math.round(e.points/T)})})]},e.rank)}))})]})]})}},6441:function(e,n,t){t.d(n,{k:function(){return s}});var r=t(2086),o=t(2226),i=t(8510),l=t(2282),a=t(3236),u=t(9320),c=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],s=function(){var e=(0,a.useContext)(u.O),n=e.interval,t=e.setInterval;return(0,r.jsxs)(o.k,{flexDir:"column",children:[(0,r.jsx)(i.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,r.jsxs)(o.k,{flexDir:"row",alignItems:"center",children:[(0,r.jsx)(i.x,{mr:2,children:"Interval"}),(0,r.jsx)(l.P,{value:n,onChange:function(e){return t(Number(e.target.value))},children:c.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},7335:function(e,n,t){t.d(n,{Y:function(){return u}});var r=t(2086),o=t(2226),i=t(3458),l=t(8510);t(3236);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=function(e){var n=e.graphFlags,t=e.setGraphFlags,u=e.forecastOptions,c=void 0!==u&&u,s=function(e){t((function(n){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}({},n,a({},e,!n[e]))}))};return(0,r.jsx)(o.k,{flexDir:"column",children:(0,r.jsxs)(o.k,{flexDir:"column",children:[(0,r.jsxs)(o.k,{children:[(0,r.jsx)(i.r,{isChecked:n.showTooltip,onChange:function(){return s("showTooltip")}}),(0,r.jsx)(l.x,{ml:2,children:"Show Details on hover"})]}),(0,r.jsxs)(o.k,{children:[(0,r.jsx)(i.r,{isChecked:n.advancedZoom,onChange:function(){return s("advancedZoom")}}),(0,r.jsx)(l.x,{ml:2,children:"Advanced Zoom"})]}),c&&(0,r.jsxs)(o.k,{children:[(0,r.jsx)(i.r,{isChecked:n.showForecast,onChange:function(){return s("showForecast")}}),(0,r.jsx)(l.x,{ml:2,children:"Show Forecast (Muni may break, as usual)"})]})]})})}},621:function(e,n,t){t.d(n,{P:function(){return d}});var r=t(2086),o=t(1535),i=t(3236),l=t(9320),a=t(7576),u=t(4285),c=t(4155);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var n=e.tier,t=e.graphFlags,s=(0,i.useContext)(l.O).rate,d=(0,i.useContext)(a.A).event,h=(0,i.useRef)(null),m=f((0,u.tH)(h),2),v=m[0],p=m[1],x=(0,i.useMemo)((function(){return null===s||void 0===s?void 0:s[n]}),[s,n]);return(0,r.jsx)(o.x,{ref:h,minH:"300px",w:"full",children:(0,r.jsx)(c.k,{id:"Rate",startDate:null===d||void 0===d?void 0:d.startdate,endDate:null===d||void 0===d?void 0:d.enddate,width:v,height:p,graphFlags:null!==t&&void 0!==t?t:{advancedZoom:!1,showTooltip:!1},points:x||(s?Object.values(s).flatMap((function(e){return e})):[]),isSmall:!0})})}},9637:function(e,n,t){t.d(n,{q:function(){return c}});var r=t(2086),o=t(3236),i=t(9320),l=t(7576),a=t(8263),u=t(4155),c=function(e){var n=e.width,t=e.height,c=e.isSmall,s=void 0!==c&&c,f=e.isLive,d=void 0!==f&&f,h=e.graphFlags,m=e.showForecast,v=void 0!==m&&m,p=(0,o.useContext)(a.B),x=p.points,b=p.displayTier,y=(0,o.useContext)(l.A).event,j=(0,o.useContext)(i.O).forecast;return(0,r.jsx)(u.k,{id:"score",points:x,startDate:null===y||void 0===y?void 0:y.startdate,endDate:null===y||void 0===y?void 0:y.enddate,width:n,height:t,isSmall:s,isLive:d,forecast:v&&(null===b||void 0===b?void 0:b.filter((function(e){return null===j||void 0===j?void 0:j[e]})).map((function(e){return j[e]})).flatMap((function(e){return e}))),graphFlags:h})}},3450:function(e,n,t){t.d(n,{K:function(){return a}});var r=t(2086),o=t(8510),i=t(3236);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=(0,i.memo)((function(e){var n=e.tier,t=e.children,a=(0,i.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,r.jsx)(o.x,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({},a,{children:t||n}))}));a.displayName="Tier"},7883:function(e,n,t){t.d(n,{I:function(){return s}});var r=t(2086),o=t(2226),i=t(6393),l=t(3236),a=t(8263);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var e=(0,l.useContext)(a.B),n=e.displayTier,t=e.setDisplayTier,u=e.allTiers,s=(0,l.useMemo)((function(){return[{label:"Select All",tiers:u},{label:"Clear",tiers:[]},{label:"< T10",tiers:u.filter((function(e){return e<=10}))},{label:"< T20",tiers:u.filter((function(e){return e<=20}))},{label:"< T100",tiers:u.filter((function(e){return e<=100}))},{label:"> T500",tiers:u.filter((function(e){return e>=500}))}]}),[u]);return(0,r.jsxs)(o.k,{w:"full",flexWrap:"wrap",mx:"auto",children:[s.map((function(e){return(0,r.jsx)(i.z,{m:2,colorScheme:"blue",onClick:function(){return t(e.tiers)},children:e.label},e.label)})),u.sort((function(e,n){return e-n})).map((function(e){return(0,r.jsxs)(i.z,{m:2,colorScheme:(null===n||void 0===n?void 0:n.includes(e))?"green":"gray",onClick:function(){return function(e){if(null===n||void 0===n?void 0:n.includes(e))return t((function(n){return n.filter((function(n){return n!==e}))}));t((function(n){return c(n||[]).concat([e])}))}(e)},children:["T",e]},e)}))]})}},9320:function(e,n,t){t.d(n,{O:function(){return f},z:function(){return d}});var r=t(2086),o=t(3236),i=t(4285),l=t(7576),a=t(6847),u=t(8263);function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(u){a=!0,o=u}finally{try{l||null==t.return||t.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,o.createContext)({}),d=function(e){var n=e.children,c=e.all,d=(0,o.useContext)(a.V).points,h=(0,o.useContext)(u.B).points,m=(0,o.useContext)(l.A).event,v=(0,o.useRef)(),p=(0,o.useState)(),x=p[0],b=p[1],y=(0,o.useState)(),j=y[0],g=y[1],S=s((0,i._)("groupInterval",36e5),2),w=S[0],k=S[1],O=(0,o.useMemo)((function(){return(c?d:h||d)||[]}),[d,h]),C=function(e){var n=e.data,t=n.rate,r=n.forecast;b(t),g(r)};return(0,o.useEffect)((function(){return v.current=new Worker(new URL(t.p+t.u(420),t.b),{type:void 0}),v.current.postMessage({points:O,interval:w,event:m}),v.current.onmessage=C,function(){return v.current.removeEventListener("message",C),v.current.terminate()}}),[O,w]),(0,r.jsx)(f.Provider,{value:{rate:x,forecast:j,interval:w,setInterval:k},children:n})}},2282:function(e,n,t){t.d(n,{P:function(){return m}});var r=t(2086),o=t(635),i=t(7221);var l=t(825),a=t(3236),u=t(3073),c=t(9039),s=t(3119);const f=(0,c.G)((function(e,n){const{children:t,placeholder:o,className:i,...l}=e;return(0,r.jsxs)(s.m.select,{...l,ref:n,className:(0,u.cx)("chakra-select",i),children:[o&&(0,r.jsx)("option",{value:"",children:o}),t]})}));f.displayName="SelectField";var d=t(2900),h=t(5608);const m=(0,c.G)(((e,n)=>{const t=(0,h.j)("Select",e),{rootProps:a,placeholder:u,icon:c,color:m,height:v,h:p,minH:b,minHeight:y,iconColor:j,iconSize:g,...S}=(0,o.L)(e),[w,k]=function(e,n){const t={},r={};for(const[o,i]of Object.entries(e))n.includes(o)?t[o]=i:r[o]=i;return[t,r]}(S,i.oE),O=(0,d.Y)(k),C={width:"100%",height:"fit-content",position:"relative",color:m},T={paddingEnd:"2rem",...t.field,_focus:{zIndex:"unset",...t.field?._focus}};return(0,r.jsxs)(s.m.div,{className:"chakra-select__wrapper",__css:C,...w,...a,children:[(0,r.jsx)(f,{ref:n,height:p??v,minH:b??y,placeholder:u,...O,__css:T,children:e.children}),(0,r.jsx)(x,{"data-disabled":(0,l.P)(O.disabled),...(j||m)&&{color:j||m},__css:t.icon,...g&&{fontSize:g},children:c})]})}));m.displayName="Select";const v=e=>(0,r.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),p=(0,s.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),x=e=>{const{children:n=(0,r.jsx)(v,{}),...t}=e,o=(0,a.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,r.jsx)(p,{...t,className:"chakra-select__icon-wrapper",children:(0,a.isValidElement)(n)?o:null})};x.displayName="SelectIcon"},9855:function(e,n,t){t.d(n,{i:function(){return d},p:function(){return f}});var r=t(2086),o=t(635),i=t(4101),l=t(3073),a=t(9039),u=t(5608),c=t(3119);const[s,f]=(0,i.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),d=(0,a.G)(((e,n)=>{const t=(0,u.j)("Table",e),{className:i,layout:a,...f}=(0,o.L)(e);return(0,r.jsx)(s,{value:t,children:(0,r.jsx)(c.m.table,{ref:n,__css:{tableLayout:a,...t.table},className:(0,l.cx)("chakra-table",i),...f})})}));d.displayName="Table"},3070:function(e,n,t){t.d(n,{p:function(){return a}});var r=t(2086),o=t(9855),i=t(9039),l=t(3119);const a=(0,i.G)(((e,n)=>{const t=(0,o.p)();return(0,r.jsx)(l.m.tbody,{...e,ref:n,__css:t.tbody})}))},1099:function(e,n,t){t.d(n,{Td:function(){return a}});var r=t(2086),o=t(9855),i=t(9039),l=t(3119);const a=(0,i.G)((({isNumeric:e,...n},t)=>{const i=(0,o.p)();return(0,r.jsx)(l.m.td,{...n,ref:t,__css:i.td,"data-is-numeric":e})}))},8553:function(e,n,t){t.d(n,{Th:function(){return a}});var r=t(2086),o=t(9855),i=t(9039),l=t(3119);const a=(0,i.G)((({isNumeric:e,...n},t)=>{const i=(0,o.p)();return(0,r.jsx)(l.m.th,{...n,ref:t,__css:i.th,"data-is-numeric":e})}))},6e3:function(e,n,t){t.d(n,{h:function(){return a}});var r=t(2086),o=t(9855),i=t(9039),l=t(3119);const a=(0,i.G)(((e,n)=>{const t=(0,o.p)();return(0,r.jsx)(l.m.thead,{...e,ref:n,__css:t.thead})}))},7559:function(e,n,t){t.d(n,{Tr:function(){return a}});var r=t(2086),o=t(9855),i=t(9039),l=t(3119);const a=(0,i.G)(((e,n)=>{const t=(0,o.p)();return(0,r.jsx)(l.m.tr,{...e,ref:n,__css:t.tr})}))}}]);