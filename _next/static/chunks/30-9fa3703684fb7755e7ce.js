(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30,179],{83346:function(e,t,n){"use strict";n.d(t,{iA:function(){return u},hr:function(){return d},p3:function(){return f},Th:function(){return h},Tr:function(){return v},Td:function(){return x}});var r=n(67294),i=n(11180),o=n(55284),a=n(54686);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var u=(0,i.forwardRef)(((e,t)=>{var n=(0,i.useMultiStyleConfig)("Table",e),u=(0,o.Lr)(e),{className:c}=u,d=l(u,["className"]);return r.createElement(i.StylesProvider,{value:n},r.createElement(i.chakra.table,s({role:"table",ref:t,__css:n.table,className:(0,a.cx)("chakra-table",c)},d)))}));a.__DEV__&&(u.displayName="Table");var c=(0,i.forwardRef)(((e,t)=>{var{placement:n="bottom"}=e,o=l(e,["placement"]),a=(0,i.useStyles)();return r.createElement(i.chakra.caption,s({},o,{ref:t,__css:s({},a.caption,{captionSide:n})}))}));a.__DEV__&&(c.displayName="TableCaption");var d=(0,i.forwardRef)(((e,t)=>{var n=(0,i.useStyles)();return r.createElement(i.chakra.thead,s({},e,{ref:t,__css:n.thead}))})),f=(0,i.forwardRef)(((e,t)=>{var n=(0,i.useStyles)();return r.createElement(i.chakra.tbody,s({},e,{ref:t,__css:n.tbody}))})),h=(0,i.forwardRef)(((e,t)=>{var{isNumeric:n}=e,o=l(e,["isNumeric"]),a=(0,i.useStyles)();return r.createElement(i.chakra.th,s({},o,{ref:t,__css:a.th,"data-is-numeric":n}))})),v=(0,i.forwardRef)(((e,t)=>{var n=(0,i.useStyles)();return r.createElement(i.chakra.tr,s({role:"row"},e,{ref:t,__css:n.tr}))})),x=(0,i.forwardRef)(((e,t)=>{var{isNumeric:n}=e,o=l(e,["isNumeric"]),a=(0,i.useStyles)();return r.createElement(i.chakra.td,s({role:"gridcell"},o,{ref:t,__css:a.td,"data-is-numeric":n}))}))},40506:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var r=n(85893),i=n(94096),o=n(64115),a=n(40980),s=n(67294),l=n(69933),u=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],c=function(){var e=(0,s.useContext)(l.O),t=e.interval,n=e.setInterval;return(0,r.jsxs)(i.k,{flexDir:"column",children:[(0,r.jsx)(o.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,r.jsxs)(i.k,{flexDir:"row",alignItems:"center",children:[(0,r.jsx)(o.x,{mr:2,children:"Interval"}),(0,r.jsx)(a.Select,{value:t,onChange:function(e){return n(Number(e.target.value))},children:u.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},72736:function(e,t,n){"use strict";n.d(t,{M:function(){return p}});var r=n(26265),i=n(85893),o=n(40980),a=n(94096),s=n(9345),l=n(47456),u=n(53187),c=n(99490),d=n(67294),f=n(60453),h=n(25837),v=n(40405);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.pastUpdates,n=(0,d.useContext)(h.A).event,r=(0,o.useColorMode)().colorMode,x=(0,d.useMemo)((function(){return n&&u.y[n.type]}),[n]),p=(0,d.useMemo)((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.sort((function(e,t){return c.ou.fromISO(t.date).diff(c.ou.fromISO(e.date)).as("minutes")})))&&void 0!==e?e:[]}),[t,x]);return(0,i.jsxs)(a.k,{flexDir:"column",alignItems:"stretch",w:"full",children:[(0,i.jsxs)(s.r,{templateColumns:"1fr 1.5fr 1fr 1fr",pr:"20px",fontWeight:"bold",fontSize:"lg",children:[(0,i.jsx)(s.P,{children:"Change"}),(0,i.jsx)(s.P,{children:"Player"}),(0,i.jsx)(s.P,{children:"Points"}),(0,i.jsx)(s.P,{children:"Date/Time"})]}),(0,i.jsx)(f.t7,{itemCount:p.length,itemSize:60,width:"100%",height:600,itemData:p,children:function(e){var t=e.index,a=e.style,u=e.data[t];return(0,i.jsx)(o.Fade,{in:!0,children:(0,i.jsxs)(s.r,m(m({},(0,v._)(u,u.change,(0,l.Gk)(n),r,!1)),{},{alignItems:"center",templateColumns:"1fr 1.5fr 1fr 1fr",style:a,children:[(0,i.jsxs)(s.P,{children:["+",u.change]}),(0,i.jsx)(s.P,{px:1,children:u.name}),(0,i.jsx)(s.P,{children:u.points}),(0,i.jsx)(s.P,{px:1,children:c.ou.fromISO(u.date).toFormat("HH:mm:ss dd/MM")})]}))},u.date)}})]})}},84649:function(e,t,n){"use strict";n.d(t,{s:function(){return S}});var r=n(26265),i=n(85893),o=n(40980),a=n(54013),s=n(94096),l=n(64115),u=n(83346),c=n(47456),d=n(22594),f=n(69695),h=n.n(f),v=n(99490),x=n(67294),m=n(25837),p=n(34033),j=n(13451),b=n(4279),g=n(40405),y=n(76529),O=n(53907);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.isSmall,n=(e.interval,e.isPlaying),r=void 0===n||n,f=e.onTierSelected,k=(0,x.useContext)(j.G),S=k.lbData,P=k.lastUpdated,C=(0,x.useContext)(p.X).changes,M=(0,x.useContext)(m.A).event,D=(0,o.useColorMode)().colorMode,_=(0,a.G)(),N=(0,x.useMemo)((function(){var e=v.ou.fromJSDate(P).diffNow().as("milliseconds");return 0===e?"Just now":h()(e,{round:!0,largest:2})+" ago"}),[P]);if(!S)return(0,i.jsx)(y.L,{});var T=t||"base"===_||"sm"===_,E=T&&{display:"none"};return(0,i.jsxs)(s.k,{flexDir:"column",children:[(0,i.jsxs)(s.k,{flexDir:"column",children:[(0,i.jsx)(l.x,{fontSize:"2xl",fontWeight:"bold",children:"Muniboard"}),(0,i.jsxs)(l.x,{fontSize:"sm",as:"span",fontWeight:"normal",children:["Last Updated: ",N]})]}),(0,i.jsxs)(u.iA,{size:"sm",children:[(0,i.jsx)(u.hr,{children:(0,i.jsxs)(u.Tr,{children:[(0,i.jsx)(u.Th,{textAlign:"center",children:"Rank"}),(0,i.jsx)(u.Th,{children:"Name"}),(0,i.jsx)(u.Th,{children:"Points"}),(0,i.jsx)(u.Th,w(w({textAlign:"end"},E),{},{children:"Gap"})),(0,i.jsx)(u.Th,w(w({textAlign:"end"},E),{},{children:"Rate"})),(0,i.jsx)(u.Th,w(w({textAlign:"end",whiteSpace:"break-spaces"},E),{},{children:"Time to boat"})),(0,i.jsx)(u.Th,{children:"Last Updated"})]})}),(0,i.jsx)(u.p3,{children:S.map((function(e,t,n){var o,a,s,h,x,m;return(0,i.jsxs)(u.Tr,w(w({},r?(0,g._)(e,null===C||void 0===C?void 0:C[e.rank],(0,c.Gk)(M),D):{}),{},{borderBottom:d.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===f||void 0===f?void 0:f(e.rank)},children:[(0,i.jsx)(u.Td,{textAlign:"center",children:(0,i.jsx)(O.K,{tier:e.rank,children:T?(0,b.a)(e.rank):e.rank})}),(0,i.jsxs)(u.Td,{children:[(0,i.jsx)(l.x,{fontSize:T?"sm":"md",overflow:T?"ellipsis":"unset",children:e.name}),(0,i.jsx)(l.x,w(w({fontSize:"xs"},E),{},{children:e.description}))]}),(0,i.jsxs)(u.Td,{children:[(0,i.jsx)(l.x,{fontSize:T?"sm":"md",children:e.points}),(null===C||void 0===C?void 0:C[e.rank])>0&&(0,i.jsxs)(l.x,{fontSize:"xs",children:["(+",null!==(o=C[e.rank])&&void 0!==o?o:0,")"]})]}),(0,i.jsx)(u.Td,w(w({isNumeric:!0},E),{},{children:t+1<n.length?e.points-(null===(a=n[t+1])||void 0===a?void 0:a.points):0})),(0,i.jsx)(u.Td,w(w({isNumeric:!0},E),{},{children:e.rate})),(0,i.jsx)(u.Td,w(w({isNumeric:!0},E),{},{children:t+1<n.length&&!isNaN(Number(null===(s=n[t+1])||void 0===s?void 0:s.rate))?(0,g.I)((e.points-(null===(h=n[t+1])||void 0===h?void 0:h.points))/(Number(null===(x=n[t+1])||void 0===x?void 0:x.rate)-Number("???"===e.rate?0:e.rate))*60*60*1e3):"-"})),(0,i.jsx)(u.Td,{children:(m=e.date,v.ou.fromISO(m).diffNow().as("minute")>-3?"Just now":v.ou.now().diff(v.ou.fromISO(m)).toFormat("hh:mm"))})]}),e.rank)}))})]})]})}},68024:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(85893),i=n(94096),o=n(32800),a=n(41664),s=n(11163),l=(n(67294),[{label:"Muniboard",url:"/"},{label:"Player (Beta :kek:)",url:"/player"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"}]),u=function(){var e=(0,s.useRouter)();return(0,r.jsx)(i.k,{py:2,mb:2,justifyContent:["center","start"],flexWrap:"wrap",children:l.map((function(t){return(0,r.jsx)(o.z,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:e.pathname===t.url?"solid":"outline",fontSize:"lg",children:(0,r.jsx)(a.default,{href:t.url,children:t.label})},t.url)}))})}},73953:function(e,t,n){"use strict";n.d(t,{z:function(){return w}});var r=n(85893),i=n(40980),o=n(94096),a=n(64115),s=n(32800),l=n(99490),u=n(67294),c=n(69933),d=n(34033),f=n(13451),h=n(40506),v=n(64121),x=n(48017),m=n(25837),p=n(82965),j=n(35277),b=n(57251),g=function(e){var t=e.tier,n=(0,u.useContext)(p.V).points,i=(0,u.useContext)(m.A).event,o=(0,u.useRef)(null),a=(0,j.tH)(o),s=(0,v.Z)(a,2),l=s[0],c=s[1],d=(0,u.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.filter((function(e){return e.rank===t})))&&void 0!==e?e:[]}),[t,n]);return(0,r.jsx)(x.xu,{ref:o,minH:"300px",w:"full",children:(0,r.jsx)(b.k,{id:"t".concat(t),startDate:i.startdate,endDate:null===i||void 0===i?void 0:i.enddate,width:l,height:c,points:d,isSmall:!0})})},y=n(72736),O=function(e){var t=e.tier,n=(0,u.useContext)(d.X).pastUpdates,i=(0,u.useMemo)((function(){var e;return null!==(e=null===n||void 0===n?void 0:n.filter((function(e){return e.rank===t})))&&void 0!==e?e:[]}),[n,t]);return(0,r.jsx)(y.M,{pastUpdates:i})},k=n(54706),w=function(e){var t=e.tier,n=e.onClose,v=(0,u.useContext)(d.X).changes,x=(0,u.useContext)(f.G).lbData,m=!!t,p=null===x||void 0===x?void 0:x.find((function(e){return e.rank===t}));return p?(0,r.jsxs)(i.Modal,{isOpen:m,size:"4xl",onClose:n,children:[(0,r.jsx)(i.ModalOverlay,{}),(0,r.jsxs)(i.ModalContent,{children:[(0,r.jsxs)(i.ModalHeader,{children:["T",t," Details"]}),(0,r.jsx)(i.ModalCloseButton,{}),(0,r.jsx)(i.ModalBody,{children:(0,r.jsxs)(o.k,{flexDir:["column",null,"row"],children:[(0,r.jsxs)(o.k,{flexDir:"column",flex:1,px:2,children:[(0,r.jsxs)(a.x,{children:[(0,r.jsx)(a.x,{fontWeight:"bold",as:"span",children:"Current player"}),": ",p.name]}),(0,r.jsxs)(a.x,{children:[(0,r.jsx)(a.x,{fontWeight:"bold",as:"span",children:"Points"}),": ",p.points]}),p.rate&&(0,r.jsxs)(a.x,{children:[(0,r.jsx)(a.x,{fontWeight:"bold",as:"span",children:"Rate"}),": ",p.rate]}),(0,r.jsxs)(a.x,{children:[(0,r.jsx)(a.x,{fontWeight:"bold",as:"span",children:"Last Update"}),": +",v[t]]}),(0,r.jsxs)(a.x,{children:[(0,r.jsx)(a.x,{fontWeight:"bold",as:"span",children:"Last Updated"}),": ",l.ou.fromISO(p.date).toFormat("HH:mm:ss yyyy/MM/dd")," ","(",l.ou.now().diff(l.ou.fromISO(p.date)).toFormat("hh:mm"),")"]}),(0,r.jsx)(g,{tier:t}),(0,r.jsxs)(c.z,{all:!0,children:[(0,r.jsx)(k.P,{tier:t}),(0,r.jsx)(h.k,{})]})]}),(0,r.jsx)(o.k,{minH:"600px",flexGrow:0,px:[4,null,2],children:(0,r.jsx)(O,{tier:t})})]})}),(0,r.jsx)(i.ModalFooter,{children:(0,r.jsx)(s.z,{colorScheme:"red",mr:3,onClick:n,children:"Close"})})]})]}):null}},54706:function(e,t,n){"use strict";n.d(t,{P:function(){return d}});var r=n(85893),i=n(64121),o=n(48017),a=n(67294),s=n(69933),l=n(25837),u=n(35277),c=n(57251),d=function(e){var t=e.tier,n=e.graphFlags,d=(0,a.useContext)(s.O).rate,f=(0,a.useContext)(l.A).event,h=(0,a.useRef)(null),v=(0,u.tH)(h),x=(0,i.Z)(v,2),m=x[0],p=x[1],j=(0,a.useMemo)((function(){return null===d||void 0===d?void 0:d[t]}),[d,t]);return(0,r.jsx)(o.xu,{ref:h,minH:"300px",w:"full",children:(0,r.jsx)(c.k,{id:"Rate",startDate:null===f||void 0===f?void 0:f.startdate,endDate:null===f||void 0===f?void 0:f.enddate,width:m,height:p,graphFlags:null!==n&&void 0!==n?n:{advancedZoom:!1,showTooltip:!1},points:j||(d?Object.values(d).flatMap((function(e){return e})):[]),isSmall:!0})})}},53907:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var r=n(26265),i=n(85893),o=n(64115),a=n(67294);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,a.memo)((function(e){var t=e.tier,n=e.children,r=(0,a.useMemo)((function(){switch(t){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[t]);return(0,i.jsx)(o.x,l(l({},r),{},{children:n||t}))}));u.displayName="Tier"},53187:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r={Medley:[{name:"Max Per Game",value:3200}],Poker:[{name:"Manual Rate",value:1800},{name:"Rooming Rate",value:2100}],Raid:[{name:"Max",value:2200}],Bingo:[{name:"Winning",value:3e3},{name:"Playing",value:2500}]}},69933:function(e,t,n){"use strict";n.d(t,{O:function(){return c},z:function(){return d}});var r=n(85893),i=n(64121),o=n(67294),a=n(35277),s=n(25837),l=n(82965),u=n(39538),c=(0,o.createContext)({}),d=function(e){var t=e.children,d=e.all,f=(0,o.useContext)(l.V).points,h=(0,o.useContext)(u.B).points,v=(0,o.useContext)(s.A).event,x=(0,o.useRef)(),m=(0,o.useState)(),p=m[0],j=m[1],b=(0,o.useState)(),g=b[0],y=b[1],O=(0,a._)("groupInterval",36e5),k=(0,i.Z)(O,2),w=k[0],S=k[1],P=(0,o.useMemo)((function(){return(d?f:h||f)||[]}),[f,h]),C=function(e){var t=e.data,n=t.rate,r=t.forecast;j(n),y(r)};return(0,o.useEffect)((function(){return x.current=new Worker(new URL(n.p+n.u(678),n.b),{type:void 0}),x.current.postMessage({points:P,interval:w,event:v}),x.current.onmessage=C,function(){return x.current.removeEventListener("message",C),x.current.terminate()}}),[P,w]),(0,r.jsx)(c.Provider,{value:{rate:p,forecast:g,interval:w,setInterval:S},children:t})}},34033:function(e,t,n){"use strict";n.d(t,{X:function(){return d},t:function(){return f}});var r=n(85893),i=n(59999),o=n(99490),a=n(67294),s=n(13200),l=n(25837),u=n(82965),c=n(13451),d=(0,a.createContext)({}),f=function(e){var t=e.children,n=(0,a.useContext)(c.G).lbData,f=(0,a.useContext)(u.V).points,h=(0,a.useContext)(l.A).event,v=(0,a.useState)({}),x=v[0],m=v[1],p=(0,a.useState)(),j=p[0],b=p[1],g=(0,a.useRef)();return(0,a.useEffect)((function(){!j&&f&&b(f.map(s.u))}),[f]),(0,a.useEffect)((function(){if(h&&j){if(g.current){var e=[],t=n.map((function(t){var n,r=g.current.find((function(e){return e.rank===t.rank}));if(!r)return[t.rank,t.points];var i=t.points-r.points,a=i>0?i:o.ou.fromISO(t.date).diffNow().as("minutes")>-4&&null!==(n=x[t.rank])&&void 0!==n?n:0;return i>0&&e.push({event:h.eventid,rank:t.rank,change:a,date:t.date,points:t.points,name:t.name}),[t.rank,a]}));b((function(t){return[].concat((0,i.Z)(t),e)})),m(Object.fromEntries(t))}g.current=n}}),[n,h]),(0,r.jsx)(d.Provider,{value:{changes:x,pastUpdates:j},children:t})}},40405:function(e,t,n){"use strict";n.d(t,{_:function(){return o},I:function(){return a}});var r=n(53187),i=n(99490),o=function(e,t,n,o){var a,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=null===(a=r.y[n])||void 0===a?void 0:a.sort((function(e,t){return t.value-e.value}));if(s&&i.ou.fromISO(e.date).diffNow().as("minutes")<-10)return{};if(l){var u;if(null===(u=t>l[0].value)||void 0===u||u)return{bg:"light"===o?"red.100":"red.800"};if(l[1]&&t>l[1].value)return{bg:"light"===o?"yellow.100":"yellow.800"}}return{bg:"light"===o?"gray.100":"gray.700"}},a=function(e){return isNaN(e)||e<0?"--:--":i.nL.fromMillis(e).toFormat("hh:mm")}},13200:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var r=function(e){return{event:e.eventid,rank:e.rank,change:-1*Number(e.difference),date:e.date,points:e.points,name:e.name}}},14453:function(){}}]);