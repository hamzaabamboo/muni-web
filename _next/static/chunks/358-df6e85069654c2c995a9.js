(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358,179],{506:function(e,n,t){"use strict";t.d(n,{k:function(){return c}});var r=t(5893),i=t(4096),o=t(4115),l=t(980),s=t(7294),a=t(9933),u=[{label:"1 Minute",value:6e4},{label:"2 Minutes",value:12e4},{label:"5 Minutes",value:3e5},{label:"10 Minutes",value:6e5},{label:"30 minutes",value:18e5},{label:"1 Hour",value:36e5},{label:"6 Hours",value:72e5},{label:"1 Day",value:864e5}],c=function(){var e=(0,s.useContext)(a.O),n=e.interval,t=e.setInterval;return(0,r.jsxs)(i.k,{flexDir:"column",children:[(0,r.jsx)(o.x,{my:1,fontWeight:"bold",as:"span",textAlign:"start",children:"Analysis Settings"}),(0,r.jsxs)(i.k,{flexDir:"row",alignItems:"center",children:[(0,r.jsx)(o.x,{mr:2,children:"Interval"}),(0,r.jsx)(l.Select,{value:n,onChange:function(e){return t(Number(e.target.value))},children:u.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.label},e.value)}))})]})]})}},4649:function(e,n,t){"use strict";t.d(n,{s:function(){return P}});var r=t(6265),i=t(5893),o=t(980),l=t(4013),s=t(4096),a=t(4115),u=t(3346),c=t(7456),d=t(2594),f=t(9695),x=t.n(f),h=t(9490),v=t(7294),m=t(5837),p=t(4033),j=t(3451),b=t(4279),g=t(405),O=t(6529),y=t(3907);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P=function(e){var n=e.isSmall,t=(e.interval,e.isPlaying),r=void 0===t||t,f=e.onTierSelected,k=(0,v.useContext)(j.G),P=k.lbData,S=k.lastUpdated,C=(0,v.useContext)(p.X).changes,M=(0,v.useContext)(m.A).event,D=(0,o.useColorMode)().colorMode,z=(0,l.G)(),T=(0,v.useMemo)((function(){var e=h.ou.fromJSDate(S).diffNow().as("milliseconds");return 0===e?"Just now":x()(e,{round:!0,largest:2})+" ago"}),[S]);if(!P)return(0,i.jsx)(O.L,{});var N=n||"base"===z||"sm"===z,I=N&&{display:"none"};return(0,i.jsxs)(s.k,{flexDir:"column",children:[(0,i.jsxs)(s.k,{flexDir:"column",children:[(0,i.jsx)(a.x,{fontSize:"2xl",fontWeight:"bold",children:"Muniboard"}),(0,i.jsxs)(a.x,{fontSize:"sm",as:"span",fontWeight:"normal",children:["Last Updated: ",T]})]}),(0,i.jsxs)(u.iA,{size:"sm",children:[(0,i.jsx)(u.hr,{children:(0,i.jsxs)(u.Tr,{children:[(0,i.jsx)(u.Th,{textAlign:"center",children:"Rank"}),(0,i.jsx)(u.Th,{children:"Name"}),(0,i.jsx)(u.Th,{children:"Points"}),(0,i.jsx)(u.Th,w(w({textAlign:"end"},I),{},{children:"Gap"})),(0,i.jsx)(u.Th,w(w({textAlign:"end"},I),{},{children:"Rate"})),(0,i.jsx)(u.Th,w(w({textAlign:"end",whiteSpace:"break-spaces"},I),{},{children:"Time to boat"})),(0,i.jsx)(u.Th,{children:"Last Updated"})]})}),(0,i.jsx)(u.p3,{children:P.map((function(e,n,t){var o,l,s,x,v,m;return(0,i.jsxs)(u.Tr,w(w({},r?(0,g._)(e,null===C||void 0===C?void 0:C[e.rank],(0,c.x6)(M),D):{}),{},{borderBottom:d.X.includes(e.rank)&&"2px solid",borderBottomColor:"gray.400",onClick:function(){return null===f||void 0===f?void 0:f(e.rank)},children:[(0,i.jsx)(u.Td,{textAlign:"center",children:(0,i.jsx)(y.K,{tier:e.rank,children:N?(0,b.a)(e.rank):e.rank})}),(0,i.jsxs)(u.Td,{children:[(0,i.jsx)(a.x,{fontSize:N?"sm":"md",overflow:N?"ellipsis":"unset",children:e.name}),(0,i.jsx)(a.x,w(w({fontSize:"xs"},I),{},{children:e.description}))]}),(0,i.jsxs)(u.Td,{children:[(0,i.jsx)(a.x,{fontSize:N?"sm":"md",children:e.points}),(null===C||void 0===C?void 0:C[e.rank])>0&&(0,i.jsxs)(a.x,{fontSize:"xs",children:["(+",null!==(o=C[e.rank])&&void 0!==o?o:0,")"]})]}),(0,i.jsx)(u.Td,w(w({isNumeric:!0},I),{},{children:n+1<t.length?e.points-(null===(l=t[n+1])||void 0===l?void 0:l.points):0})),(0,i.jsx)(u.Td,w(w({isNumeric:!0},I),{},{children:e.rate})),(0,i.jsx)(u.Td,w(w({isNumeric:!0},I),{},{children:n+1<t.length&&!isNaN(Number(null===(s=t[n+1])||void 0===s?void 0:s.rate))?(0,g.I)((e.points-(null===(x=t[n+1])||void 0===x?void 0:x.points))/(Number(null===(v=t[n+1])||void 0===v?void 0:v.rate)-Number("???"===e.rate?0:e.rate))*60*60*1e3):"-"})),(0,i.jsx)(u.Td,{children:(m=e.date,h.ou.fromISO(m).diffNow().as("minute")>-3?"Just now":h.ou.now().diff(h.ou.fromISO(m)).toFormat("hh:mm"))})]}),e.rank)}))})]})]})}},8024:function(e,n,t){"use strict";t.d(n,{W:function(){return u}});var r=t(5893),i=t(4096),o=t(6185),l=t(1664),s=t(1163),a=(t(7294),[{label:"Muniboard",url:"/"},{label:"Graph",url:"/graph"},{label:"Analyze",url:"/analyze"},{label:"Live",url:"/live"}]),u=function(){var e=(0,s.useRouter)();return(0,r.jsx)(i.k,{py:2,justifyContent:["center","start"],children:a.map((function(n){return(0,r.jsx)(o.z,{mx:2,p:2,rounded:"md",colorScheme:"blue",variant:e.pathname===n.url?"solid":"outline",fontSize:"lg",children:(0,r.jsx)(l.default,{href:n.url,children:n.label})},n.url)}))})}},3411:function(e,n,t){"use strict";t.d(n,{z:function(){return T}});var r=t(5893),i=t(980),o=t(4096),l=t(4115),s=t(6185),a=t(9490),u=t(7294),c=t(9933),d=t(4033),f=t(3451),x=t(506),h=t(6265),v=t(9345),m=t(7456),p=t(3187),j=t(453),b=t(5837),g=t(405);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,h.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=function(e){var n=e.tier,t=(0,u.useContext)(d.X).pastUpdates,l=(0,u.useContext)(b.A).event,s=(0,i.useColorMode)().colorMode,c=(0,u.useMemo)((function(){return l&&p.y[l.type]}),[l]),f=(0,u.useMemo)((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.filter((function(e){return e.rank===n})).sort((function(e,n){return a.ou.fromISO(n.date).diff(a.ou.fromISO(e.date)).as("minutes")})))&&void 0!==e?e:[]}),[t,c,n]);return(0,r.jsxs)(o.k,{flexDir:"column",alignItems:"stretch",w:"full",children:[(0,r.jsxs)(v.r,{templateColumns:"1fr 1.5fr 1fr 1fr",pr:"20px",fontWeight:"bold",fontSize:"lg",children:[(0,r.jsx)(v.P,{children:"Change"}),(0,r.jsx)(v.P,{children:"Player"}),(0,r.jsx)(v.P,{children:"Points"}),(0,r.jsx)(v.P,{children:"Date/Time"})]}),(0,r.jsx)(j.t7,{itemCount:f.length,itemSize:60,width:"100%",height:600,itemData:f,children:function(e){var n=e.index,t=e.style,o=e.data[n];return(0,r.jsx)(i.Fade,{in:!0,children:(0,r.jsxs)(v.r,y(y({},(0,g._)(o,o.change,(0,m.x6)(l),s,!1)),{},{alignItems:"center",templateColumns:"1fr 1.5fr 1fr 1fr",style:t,children:[(0,r.jsxs)(v.P,{children:["+",o.change]}),(0,r.jsx)(v.P,{px:1,children:o.name}),(0,r.jsx)(v.P,{children:o.points}),(0,r.jsx)(v.P,{px:1,children:a.ou.fromISO(o.date).toFormat("HH:mm:ss dd/MM")})]}))},o.date)}})]})},w=t(4121),P=t(8017),S=t(2965),C=t(5277),M=t(7251),D=function(e){var n=e.tier,t=(0,u.useContext)(S.V).points,i=(0,u.useContext)(b.A).event,o=(0,u.useRef)(null),l=(0,C.tH)(o),s=(0,w.Z)(l,2),a=s[0],c=s[1],d=(0,u.useMemo)((function(){var e;return null!==(e=null===t||void 0===t?void 0:t.filter((function(e){return e.rank===n})))&&void 0!==e?e:[]}),[n,t]);return(0,r.jsx)(P.xu,{ref:o,minH:"300px",w:"full",children:(0,r.jsx)(M.k,{id:"t".concat(n),startDate:i.startdate,endDate:null===i||void 0===i?void 0:i.enddate,width:a,height:c,points:d,isSmall:!0})})},z=t(4706),T=function(e){var n=e.tier,t=e.onClose,h=(0,u.useContext)(d.X).changes,v=(0,u.useContext)(f.G).lbData,m=!!n,p=null===v||void 0===v?void 0:v.find((function(e){return e.rank===n}));return p?(0,r.jsxs)(i.Modal,{isOpen:m,size:"4xl",onClose:t,children:[(0,r.jsx)(i.ModalOverlay,{}),(0,r.jsxs)(i.ModalContent,{children:[(0,r.jsxs)(i.ModalHeader,{children:["T",n," Details"]}),(0,r.jsx)(i.ModalCloseButton,{}),(0,r.jsx)(i.ModalBody,{children:(0,r.jsxs)(o.k,{flexDir:["column",null,"row"],children:[(0,r.jsxs)(o.k,{flexDir:"column",flex:1,px:2,children:[(0,r.jsxs)(l.x,{children:[(0,r.jsx)(l.x,{fontWeight:"bold",as:"span",children:"Current player"}),": ",p.name]}),(0,r.jsxs)(l.x,{children:[(0,r.jsx)(l.x,{fontWeight:"bold",as:"span",children:"Points"}),": ",p.points]}),p.rate&&(0,r.jsxs)(l.x,{children:[(0,r.jsx)(l.x,{fontWeight:"bold",as:"span",children:"Rate"}),": ",p.rate]}),(0,r.jsxs)(l.x,{children:[(0,r.jsx)(l.x,{fontWeight:"bold",as:"span",children:"Last Update"}),": +",h[n]]}),(0,r.jsxs)(l.x,{children:[(0,r.jsx)(l.x,{fontWeight:"bold",as:"span",children:"Last Updated"}),": ",a.ou.fromISO(p.date).toFormat("HH:mm:ss yyyy/MM/dd")," ","(",a.ou.now().diff(a.ou.fromISO(p.date)).toFormat("hh:mm"),")"]}),(0,r.jsx)(D,{tier:n}),(0,r.jsxs)(c.z,{all:!0,children:[(0,r.jsx)(z.P,{tier:n}),(0,r.jsx)(x.k,{})]})]}),(0,r.jsx)(o.k,{minH:"600px",flexGrow:0,px:[4,null,2],children:(0,r.jsx)(k,{tier:n})})]})}),(0,r.jsx)(i.ModalFooter,{children:(0,r.jsx)(s.z,{colorScheme:"red",mr:3,onClick:t,children:"Close"})})]})]}):null}},4706:function(e,n,t){"use strict";t.d(n,{P:function(){return d}});var r=t(5893),i=t(4121),o=t(8017),l=t(7294),s=t(9933),a=t(5837),u=t(5277),c=t(7251),d=function(e){var n=e.tier,t=e.graphFlags,d=(0,l.useContext)(s.O).rate,f=(0,l.useContext)(a.A).event,x=(0,l.useRef)(null),h=(0,u.tH)(x),v=(0,i.Z)(h,2),m=v[0],p=v[1],j=(0,l.useMemo)((function(){return null===d||void 0===d?void 0:d[n]}),[d,n]);return(0,r.jsx)(o.xu,{ref:x,minH:"300px",w:"full",children:(0,r.jsx)(c.k,{id:"Rate",startDate:null===f||void 0===f?void 0:f.startdate,endDate:null===f||void 0===f?void 0:f.enddate,width:m,height:p,graphFlags:null!==t&&void 0!==t?t:{advancedZoom:!1,showTooltip:!1},points:j||(d?Object.values(d).flatMap((function(e){return e})):[]),isSmall:!0})})}},3907:function(e,n,t){"use strict";t.d(n,{K:function(){return u}});var r=t(6265),i=t(5893),o=t(4115),l=t(7294);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=(0,l.memo)((function(e){var n=e.tier,t=e.children,r=(0,l.useMemo)((function(){switch(n){case 1:return{fontSize:"xl",fontWeight:"bold",color:"yellow.400"};case 2:return{fontSize:"xl",fontWeight:"bold",color:"gray.400"};case 3:return{fontSize:"xl",fontWeight:"bold",color:"red.800"};case 10:case 50:case 100:case 500:case 1e3:case 2e3:case 5e3:case 1e4:case 2e4:case 3e4:case 5e4:return{fontSize:"xl",fontWeight:"bold"};default:return{}}}),[n]);return(0,i.jsx)(o.x,a(a({},r),{},{children:t||n}))}))},3187:function(e,n,t){"use strict";t.d(n,{y:function(){return r}});var r={Medley:[{name:"Max Per Game",value:2700}],Poker:[{name:"Manual Rate",value:1800},{name:"Rooming Rate",value:2100}],Raid:[{name:"Max",value:2200}]}},4033:function(e,n,t){"use strict";t.d(n,{X:function(){return c},t:function(){return d}});var r=t(5893),i=t(9999),o=t(9490),l=t(7294),s=t(5837),a=t(2965),u=t(3451),c=(0,l.createContext)({}),d=function(e){var n=e.children,t=(0,l.useContext)(u.G).lbData,d=(0,l.useContext)(a.V).points,f=(0,l.useContext)(s.A).event,x=(0,l.useState)({}),h=x[0],v=x[1],m=(0,l.useState)(),p=m[0],j=m[1],b=(0,l.useRef)();return(0,l.useEffect)((function(){!p&&d&&j(d.map((function(e){return{event:f.eventid,rank:e.rank,change:-1*Number(e.difference),date:e.date,points:e.points,name:e.name}})))}),[d]),(0,l.useEffect)((function(){if(f&&p){if(b.current){var e=[],n=t.map((function(n){var t,r=b.current.find((function(e){return e.rank===n.rank}));if(!r)return[n.rank,n.points];var i=n.points-r.points,l=i>0?i:o.ou.fromISO(n.date).diffNow().as("minutes")>-4&&null!==(t=h[n.rank])&&void 0!==t?t:0;return i>0&&e.push({event:f.eventid,rank:n.rank,change:l,date:n.date,points:n.points,name:n.name}),[n.rank,l]}));j((function(n){return[].concat((0,i.Z)(n),e)})),v(Object.fromEntries(n))}b.current=t}}),[t,f]),(0,r.jsx)(c.Provider,{value:{changes:h,pastUpdates:p},children:n})}},405:function(e,n,t){"use strict";t.d(n,{_:function(){return o},I:function(){return l}});var r=t(3187),i=t(9490),o=function(e,n,t,o){var l,s,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=null===(l=r.y[t])||void 0===l?void 0:l.sort((function(e,n){return n.value-e.value}));return a&&i.ou.fromISO(e.date).diffNow().as("minutes")<-10?{}:null===(s=n>u[0].value)||void 0===s||s?{bg:"light"===o?"red.100":"red.800"}:u[1]&&n>u[1].value?{bg:"light"===o?"yellow.100":"yellow.800"}:{bg:"light"===o?"gray.100":"gray.700"}},l=function(e){return isNaN(e)||e<0?"--:--":i.nL.fromMillis(e).toFormat("hh:mm")}},4453:function(){}}]);